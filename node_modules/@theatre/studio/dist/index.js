var xO=Object.create;var jt=Object.defineProperty,CO=Object.defineProperties,LO=Object.getOwnPropertyDescriptor,HO=Object.getOwnPropertyDescriptors,VO=Object.getOwnPropertyNames,Xr=Object.getOwnPropertySymbols,wO=Object.getPrototypeOf,Dh=Object.prototype.hasOwnProperty,rf=Object.prototype.propertyIsEnumerable;var jh=(t,a,c)=>a in t?jt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[a]=c,S=(t,a)=>{for(var c in a||(a={}))Dh.call(a,c)&&jh(t,c,a[c]);if(Xr)for(var c of Xr(a))rf.call(a,c)&&jh(t,c,a[c]);return t},D=(t,a)=>CO(t,HO(a)),ef=t=>jt(t,"__esModule",{value:!0});var n4=(t,a)=>{var c={};for(var r in t)Dh.call(t,r)&&a.indexOf(r)<0&&(c[r]=t[r]);if(t!=null&&Xr)for(var r of Xr(t))a.indexOf(r)<0&&rf.call(t,r)&&(c[r]=t[r]);return c};var x=(t,a)=>()=>(t&&(a=t(t=0)),a);var L1=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports),lf=(t,a)=>{ef(t);for(var c in a)jt(t,c,{get:a[c],enumerable:!0})},BO=(t,a,c)=>{if(a&&typeof a=="object"||typeof a=="function")for(let r of VO(a))!Dh.call(t,r)&&r!=="default"&&jt(t,r,{get:()=>a[r],enumerable:!(c=LO(a,r))||c.enumerable});return t},y=t=>BO(ef(jt(t!=null?xO(wO(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var R1=(t,a,c)=>(jh(t,typeof a!="symbol"?a+"":a,c),c);var n2=(t,a,c)=>new Promise((r,e)=>{var l=n=>{try{o(c.next(n))}catch(h){e(h)}},i=n=>{try{o(c.throw(n))}catch(h){e(h)}},o=n=>n.done?r(n.value):Promise.resolve(n.value).then(l,i);o((c=c.apply(t,a)).next())});function nf(t){of=t}function G(){return of}var of,m1=x(()=>{});function b5(t,a,c=[]){if(typeof t=="object"&&t){if(yO(t)||SO(t)){a(t,c);return}for(let[r,e]of Object.entries(t))b5(e,a,[...c,r])}else{if(t==null)return;a(t,c)}}var yO,SO,Yr=x(()=>{yO=t=>typeof t=="object"&&t!==null&&Object.hasOwnProperty.call(t,"type")&&t.type==="image"&&Object.hasOwnProperty.call(t,"id")&&typeof t.id=="string"&&t.id!=="",SO=t=>typeof t=="object"&&t!==null&&Object.hasOwnProperty.call(t,"r")&&Object.hasOwnProperty.call(t,"g")&&Object.hasOwnProperty.call(t,"b")&&Object.hasOwnProperty.call(t,"a")&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"&&typeof t.a=="number"});function F5(t){return a=>typeof a=="object"&&!!a&&a.type===t}var Jr,v7,hf,t0,vf,Y71,Wh,_h,I5=x(()=>{Jr=F5("Theatre_Project"),v7=F5("Theatre_Sheet"),hf=F5("Theatre_SheetTemplate"),t0=F5("Theatre_SheetObject"),vf=F5("Theatre_SheetObjectTemplate"),Y71=F5("Theatre_Project_PublicAPI"),Wh=F5("Theatre_Sheet_PublicAPI"),_h=F5("Theatre_SheetObject_PublicAPI")});var sf=L1(g7=>{g7.compare=IO;g7.reduce=PO;var bO,ae,FO,ce,s7;g7.REMOVE=bO=ae=-1;g7.ADD=FO=ce=1;g7.EQUAL=s7=0;function IO(t,a){var c=t.length,r=a.length,e=GO(t,a),l=e<c&&e<r?TO(t,a,e):0,i=l+e-1;c-=i,r-=i;for(var o=OO(c,r),n=c-1;n>=0;--n)for(var h=r-1;h>=0;--h)o[h][n]=EO(o,t,a,e,n,h);return{prefix:e,matrix:o,suffix:l}}function PO(t,a,c){var r,e,l,i,o=c.matrix,n=c.prefix;for(r=0;r<n;++r)a=t(a,s7,r,r);for(l=r,n=o.length,r=0,e=0;r<n;)switch(i=o[r][e].type,a=t(a,i,r+l,e+l),i){case s7:++r,++e;break;case ae:++e;break;case ce:++r;break}for(r+=l,e+=l,n=c.suffix,l=0;l<n;++l)a=t(a,s7,r+l,e+l);return a}function GO(t,a){for(var c=0,r=Math.min(t.length,a.length);c<r&&t[c]===a[c];)++c;return c}function TO(t,a){for(var c=t.length-1,r=a.length-1,e=Math.min(c,r),l=0;l<e&&t[c-l]===a[r-l];)++l;return l}function EO(t,a,c,r,e,l){return a[e+r]===c[l+r]?{value:t[l+1][e+1].value,type:s7}:t[l][e+1].value<t[l+1][e].value?{value:t[l][e+1].value+1,type:ae}:{value:t[l+1][e].value+1,type:ce}}function OO(t,a){var c=[],r,e,l;for(l=c[a]=[],e=0;e<t;++e)l[e]={value:t-e,type:ae};for(r=0;r<a;++r)c[r]=[],c[r][t]={value:a-r,type:ce};return c[a][t]={value:0,type:s7},c}});var Nh=L1(re=>{re.cons=ZO;re.tail=DO;re.map=jO;function ZO(t,a){var c=a.length,r=new Array(c+1);r[0]=t;for(var e=0;e<c;++e)r[e+1]=a[e];return r}function DO(t){for(var a=t.length-1,c=new Array(a),r=0;r<a;++r)c[r]=t[r+1];return c}function jO(t,a){for(var c=new Array(a.length),r=0;r<a.length;++r)c[r]=t(a[r]);return c}});var df=L1((i91,gf)=>{gf.exports=qO;var ee=/\/|~1|~0/g,Uh="/",WO="~",_O="~1";function qO(t,a){var c,r,e,l;for(c=t.charAt(0)===Uh?1:0,r="",ee.lastIndex=c;e=ee.exec(t);)if(l=e[0],r+=t.slice(c,ee.lastIndex-l.length),c=ee.lastIndex,l===Uh){if(a(r)===!1)return t;r=""}else r+=l===_O?Uh:WO;return r+=t.slice(c),a(r),t}});var le=L1(h4=>{var zf=df();h4.find=JO;h4.join=aZ;h4.absolute=tZ;h4.parse=cZ;h4.contains=rZ;h4.encodeSegment=lZ;h4.decodeSegment=eZ;h4.parseArrayIndex=Kh;h4.isValidArrayIndex=uf;var d7="/",NO=/\//g,UO="~1",KO=/~1/g,$O="~",QO=/~/g,XO="~0",YO=/~0/g;function JO(t,a,c,r){if(typeof a=="string"){if(a==="")return{target:t,key:void 0};if(a===d7)return{target:t,key:""};var e=t,l,i=r!==void 0;return zf(a,function(o){if(t==null)return e=null,!1;Array.isArray(t)?l=i?oZ(c,Kh(o),t,r):o==="-"?o:Kh(o):l=o,e=t,t=t[l]}),e===null?void 0:{target:e,key:l}}}function tZ(t){return t[0]===d7?t:d7+t}function aZ(t){return t.join(d7)}function cZ(t){var a=[];return zf(t,a.push.bind(a)),a}function rZ(t,a){return a.indexOf(t)===0&&a[t.length]===d7}function eZ(t){return t.replace(KO,d7).replace(YO,$O)}function lZ(t){return t.replace(QO,XO).replace(NO,UO)}var iZ=/^(0|[1-9]\d*)$/;function uf(t){return iZ.test(t)}function Kh(t){if(uf(t))return+t;throw new SyntaxError("invalid array index "+t)}function oZ(t,a,c,r){var e=a;if(e<0)throw new Error("array index out of bounds "+e);if(r!==void 0&&typeof t=="function"&&(e=t(a,c,r),e<0))throw new Error("could not find patch context "+r);return e}});var Qh=L1((n91,pf)=>{pf.exports=$h;function $h(t){return t==null||typeof t!="object"?t:Array.isArray(t)?nZ(t):hZ(t)}function nZ(t){for(var a=t.length,c=new Array(a),r=0;r<a;++r)c[r]=$h(t[r]);return c}function hZ(t){for(var a=Object.keys(t),c={},r,e=0,l=a.length;e<l;++e)r=a[e],c[r]=$h(t[r]);return c}});var ff=L1((h91,mf)=>{mf.exports=Xh;function Xh(t,a){return t===a?!0:Array.isArray(t)&&Array.isArray(a)?vZ(t,a):typeof t=="object"&&typeof a=="object"?sZ(t,a):!1}function vZ(t,a){if(t.length!==a.length)return!1;for(var c=0;c<t.length;++c)if(!Xh(t[c],a[c]))return!1;return!0}function sZ(t,a){if(t===null&&a!==null||t!==null&&a===null)return!1;var c=Object.keys(t),r=Object.keys(a);if(c.length!==r.length)return!1;for(var e=0,l;e<c.length;++e)if(l=c[e],!(l in a&&Xh(t[l],a[l])))return!1;return!0}});var Lf=L1((v91,Cf)=>{var a0=le();Cf.exports=function(a,c){var r=a0.parse(a.path),e=a0.parse(c.path),l=pZ(r,e),i=zZ(r,e,l.length),o=xf(a),n=xf(c);return l.length===0&&!i?[n,o]:i?dZ(o,r,n,e):gZ(o,r,n,e)};function gZ(t,a,c,r){if(t.path===c.path)throw new TypeError("cannot commute "+t.op+","+c.op+" with identical object paths");return[c,t]}function dZ(t,a,c,r){return a.length===r.length?uZ(t,a,c,r):(a.length>r.length?(a=Mf(c,r,t,a,-1),t.path=a0.absolute(a0.join(a))):(r=Mf(t,a,c,r,1),c.path=a0.absolute(a0.join(r))),[c,t])}function zZ(t,a,c){return a0.isValidArrayIndex(t[c])&&a0.isValidArrayIndex(a[c])}function uZ(t,a,c,r){var e=a.length-1,l=+a[e],i=+r[e],o;return l<i?t.op==="add"||t.op==="copy"?(o=r.slice(),o[e]=Math.max(0,i-1),c.path=a0.absolute(a0.join(o))):t.op==="remove"&&(o=r.slice(),o[e]=i+1,c.path=a0.absolute(a0.join(o))):c.op==="add"||c.op==="copy"?(o=a.slice(),o[e]=l+1,t.path=a0.absolute(a0.join(o))):l>i&&c.op==="remove"&&(o=a.slice(),o[e]=Math.max(0,l-1),t.path=a0.absolute(a0.join(o))),[c,t]}function Mf(t,a,c,r,e){var l=a.length-1,i=+a[l],o=+r[l],n=r.slice();return i>o||(t.op==="add"||t.op==="copy"?n[l]=Math.max(0,o-e):t.op==="remove"&&(n[l]=Math.max(0,o+e))),n}function pZ(t,a){var c=t.length,r=a.length;if(c===0||r===0||c<2&&r<2)return[];for(var e=c===r?c-1:Math.min(c,r),l=0;l<e&&t[l]===a[l];)++l;return t.slice(0,l)}function xf(t){return t.op==="remove"?{op:t.op,path:t.path}:t.op==="copy"||t.op==="move"?{op:t.op,path:t.path,from:t.from}:{op:t.op,path:t.path,value:t.value}}});var Yh=L1((s91,Hf)=>{Hf.exports=ie;function ie(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}ie.prototype=Object.create(Error.prototype);ie.prototype.constructor=ie});var ne=L1((g91,Vf)=>{Vf.exports=oe;function oe(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}oe.prototype=Object.create(Error.prototype);oe.prototype.constructor=oe});var Jh=L1((d91,wf)=>{wf.exports=he;function he(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}he.prototype=Object.create(Error.prototype);he.prototype.constructor=he});var ev=L1(e8=>{var tv=le(),av=Qh(),mZ=ff(),Wt=Lf(),ve=Nh(),fZ=Yh(),v4=ne(),cv=Jh(),P5=tv.find,se=tv.parseArrayIndex;e8.test={apply:MZ,inverse:xZ,commute:CZ};e8.add={apply:LZ,inverse:HZ,commute:Bf};e8.remove={apply:yZ,inverse:SZ,commute:kZ};e8.replace={apply:VZ,inverse:wZ,commute:BZ};e8.move={apply:AZ,inverse:RZ,commute:bZ};e8.copy={apply:FZ,inverse:IZ,commute:Bf};function MZ(t,a,c){var r=P5(t,a.path,c.findContext,a.context),e=r.target,l,i;if(Array.isArray(e)?(l=se(r.key),i=e[l]):i=r.key===void 0?r.target:r.target[r.key],!mZ(i,a.value))throw new fZ("test failed "+JSON.stringify(a));return t}function xZ(t,a){return t.push(a),1}function CZ(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return a.op==="test"||a.op==="replace"?[a,t]:Wt(t,a)}function LZ(t,a,c){var r=P5(t,a.path,c.findContext,a.context);if(ge(r))throw new v4("path does not exist "+a.path);if(a.value===void 0)throw new v4("missing value");var e=av(a.value);return r.key===void 0?e:(rv(r,e),t)}function rv(t,a){var c=t.target;if(Array.isArray(c))if(t.key==="-")c.push(a);else{if(t.key>c.length)throw new v4("target of add outside of array bounds");c.splice(t.key,0,a)}else if(kf(c))c[t.key]=a;else throw new v4("target of add must be an object or array "+t.key)}function HZ(t,a){var c=a.context;return c!==void 0&&(c={before:c.before,after:ve.cons(a.value,c.after)}),t.push({op:"test",path:a.path,value:a.value,context:c}),t.push({op:"remove",path:a.path,context:c}),1}function Bf(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return Wt(t,a)}function VZ(t,a,c){var r=P5(t,a.path,c.findContext,a.context);if(ge(r)||Sf(r))throw new v4("path does not exist "+a.path);if(a.value===void 0)throw new v4("missing value");var e=av(a.value);if(r.key===void 0)return e;var l=r.target;return Array.isArray(l)?l[se(r.key)]=e:l[r.key]=e,t}function wZ(t,a,c,r){var e=r[c-1];if(e===void 0||e.op!=="test"||e.path!==a.path)throw new cv("cannot invert replace w/o test");var l=e.context;return l!==void 0&&(l={before:l.before,after:ve.cons(e.value,ve.tail(l.after))}),t.push({op:"test",path:e.path,value:a.value}),t.push({op:"replace",path:e.path,value:e.value}),2}function BZ(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return a.op==="test"||a.op==="replace"?[a,t]:Wt(t,a)}function yZ(t,a,c){var r=P5(t,a.path,c.findContext,a.context);if(ge(r)||r.target[r.key]===void 0)throw new v4("path does not exist "+a.path);return yf(r),t}function yf(t){var a=t.target,c;if(Array.isArray(a))return c=a.splice(se(t.key),1),c[0];if(kf(a))return c=a[t.key],delete a[t.key],c;throw new v4("target of remove must be an object or array")}function SZ(t,a,c,r){var e=r[c-1];if(e===void 0||e.op!=="test"||e.path!==a.path)throw new cv("cannot invert remove w/o test");var l=e.context;return l!==void 0&&(l={before:l.before,after:ve.tail(l.after)}),t.push({op:"add",path:e.path,value:e.value,context:l}),2}function kZ(t,a){return t.path===a.path&&a.op==="remove"?[a,t]:Wt(t,a)}function AZ(t,a,c){if(tv.contains(a.path,a.from))throw new v4("move.from cannot be ancestor of move.path");var r=P5(t,a.path,c.findContext,a.context),e=P5(t,a.from,c.findContext,a.fromContext);return rv(r,yf(e)),t}function RZ(t,a){return t.push({op:"move",path:a.from,context:a.fromContext,from:a.path,fromContext:a.context}),1}function bZ(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return Wt(t,a)}function FZ(t,a,c){var r=P5(t,a.path,c.findContext,a.context),e=P5(t,a.from,c.findContext,a.fromContext);if(ge(e)||Sf(e))throw new v4("copy.from must exist");var l=e.target,i;return Array.isArray(l)?i=l[se(e.key)]:i=l[e.key],rv(r,av(i)),t}function IZ(t,a){throw new cv("cannot invert "+a.op)}function ge(t){return t===void 0||t.target==null&&t.key!==void 0}function Sf(t){return t.key!==void 0&&t.target[t.key]===void 0}function kf(t){return t!==null&&typeof t=="object"}});var Ff=L1(z7=>{var PZ=ev(),Af=Qh(),GZ=ne();z7.apply=EZ;z7.applyInPlace=Rf;z7.clone=Af;z7.isValidObject=bf;z7.defaultHash=OZ;var TZ={};function EZ(t,a,c){return Rf(t,Af(a),c)}function Rf(t,a,c){if(c||(c=TZ),!Array.isArray(t))return a;for(var r,e,l=0;l<t.length;++l){if(e=t[l],r=PZ[e.op],r===void 0)throw new GZ("invalid op "+JSON.stringify(e));a=r.apply(a,e,c)}return a}function OZ(t){return bf(t)||ZZ(t)?JSON.stringify(t):t}function bf(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ZZ(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Pf=L1((p91,If)=>{var DZ=ev();If.exports=function(a){var c=[],r,e;for(r=a.length-1;r>=0;r-=e)e=jZ(c,a[r],r,a);return c};function jZ(t,a,c,r){var e=DZ[a.op];return e!==void 0&&typeof e.inverse=="function"?e.inverse(t,a,c,r):1}});var Df=L1(Q4=>{var de=sf(),Gf=Nh(),_t=Ff(),WZ=Pf(),_Z=le(),Tf=_Z.encodeSegment;Q4.diff=qZ;Q4.patch=_t.apply;Q4.patchInPlace=_t.applyInPlace;Q4.inverse=WZ;Q4.clone=_t.clone;Q4.InvalidPatchOperationError=ne();Q4.TestFailedError=Yh();Q4.PatchNotInvertibleError=Jh();var Ef=_t.isValidObject,Of=_t.defaultHash;function qZ(t,a,c){return lv(t,a,"",NZ(c,[])).patch}function NZ(t,a){return typeof t=="object"?{patch:a,hash:iv(ov,t.hash,Of),makeContext:iv(ov,t.makeContext,Zf),invertible:t.invertible!==!1}:{patch:a,hash:iv(ov,t,Of),makeContext:Zf,invertible:!0}}function lv(t,a,c,r){return Array.isArray(t)&&Array.isArray(a)?KZ(t,a,c,r):Ef(t)&&Ef(a)?UZ(t,a,c,r):QZ(t,a,c,r)}function UZ(t,a,c,r){var e=Object.keys(a),l=r.patch,i,o;for(i=e.length-1;i>=0;--i){o=e[i];var n=c+"/"+Tf(o);t[o]!==void 0?lv(t[o],a[o],n,r):l.push({op:"add",path:n,value:a[o]})}for(e=Object.keys(t),i=e.length-1;i>=0;--i)if(o=e[i],a[o]===void 0){var h=c+"/"+Tf(o);r.invertible&&l.push({op:"test",path:h,value:t[o]}),l.push({op:"remove",path:h})}return r}function KZ(t,a,c,r){var e=Gf.map(r.hash,t),l=Gf.map(r.hash,a),i=de.compare(e,l);return $Z(t,a,c,r,i)}function $Z(t,a,c,r,e){var l=0;return de.reduce(function(i,o,n,h){var v,g,d=i.patch,s=c+"/"+(h+l);return o===de.REMOVE?(v=d[d.length-1],g=i.makeContext(h,t),i.invertible&&d.push({op:"test",path:s,value:t[h],context:g}),v!==void 0&&v.op==="add"&&v.path===s?(v.op="replace",v.context=g):d.push({op:"remove",path:s,context:g}),l-=1):o===de.ADD?(d.push({op:"add",path:s,value:a[n],context:i.makeContext(h,t)}),l+=1):lv(t[h],a[n],s,i),i},r,e)}function QZ(t,a,c,r){return t!==a&&(r.invertible&&r.patch.push({op:"test",path:c,value:t}),r.patch.push({op:"replace",path:c,value:a})),r}function iv(t,a,c){return t(a)?a:c}function Zf(){}function ov(t){return typeof t=="function"}});var G5=L1((f91,jf)=>{"use strict";function XZ(t,a){for(var c=0,r=a.length-1;c<r;c++){if(!t[a[c]])return null;t=t[a[c]]}return t}jf.exports=XZ});var X4=L1((M91,Wf)=>{"use strict";function YZ(t){return t==="~0"?"~":"/"}function JZ(t){var a=t.split("/");if(t.indexOf("~")===-1)return a;for(var c=0,r=a.length;c<r;c++)a[c].indexOf("~")!==-1&&(a[c]=a[c].replace(/~[01]/g,YZ));return a}Wf.exports=JZ});var qf=L1((x91,_f)=>{"use strict";var tD=G5(),aD=X4();function cD(t,a){var c=aD(a),r=c[c.length-1],e=tD(t,c);return e?e[r]:void 0}_f.exports=cD});var qt=L1((C91,Nf)=>{"use strict";function nv(t,a){if(t===a)return!0;if(!(t&&a)||typeof t!="object"||typeof a!="object"||t.length!==a.length)return!1;if(Array.isArray(t)){if(!Array.isArray(a))return!1;for(var c=0,r=t.length;c<r;c++)if(!nv(t[c],a[c]))return!1;return!0}var e=Object.keys(t);if(e.length!==Object.keys(a).length)return!1;for(var l=0,i=e.length;l<i;l++){var o=e[l];if(!nv(t[o],a[o]))return!1}return!0}Nf.exports=nv});var Nt=L1((L91,Uf)=>{"use strict";function rD(t,a){if(a==="-")return t.length;for(var c=0,r=a.length;c<r;c++){var e=a.charCodeAt(c);if(57<e||e<48)return 1/0}return+a}Uf.exports=rD});var Ut=L1((H91,Kf)=>{"use strict";var eD=qt(),lD=G5(),iD=Nt(),oD=X4();function nD(t,a,c,r){if(typeof c=="undefined")return"[op:add] require value, but got undefined";var e=oD(a),l=e[e.length-1],i=lD(t,e);if(i===null)return"[op:add] path not found: "+a;if(Array.isArray(i)){var o=iD(i,l);if(i.length<o)return"[op:add] invalid array index: "+a;r(t,e).splice(o,0,c)}else eD(i[l],c)||(r(t,e)[l]=c)}Kf.exports=nD});var hv=L1((V91,$f)=>{"use strict";var hD=G5(),vD=Nt(),sD=X4();function gD(t,a,c){var r=sD(a),e=r[r.length-1],l=hD(t,r);if(l===null)return"[op:remove] path not found: "+a;if(Array.isArray(l)){var i=vD(l,e);if(l.length<=i)return"[op:remove] invalid array index: "+a;c(t,r).splice(i,1)}else delete c(t,r)[e]}$f.exports=gD});var vv=L1((w91,Xf)=>{"use strict";var Qf=qt(),dD=G5(),zD=Nt(),uD=X4();function pD(t,a,c,r){if(typeof c=="undefined")return"[op:replace] require value, but got undefined";var e=uD(a),l=e[e.length-1],i=dD(t,e);if(i===null)return"[op:replace] path not found: "+a;if(Array.isArray(i)){var o=zD(i,l);if(i.length<=o)return"[op:replace] invalid array index: "+a;Qf(i[o],c)||r(t,e).splice(o,1,c)}else Qf(i[l],c)||(r(t,e)[l]=c)}Xf.exports=pD});var sv=L1((B91,Yf)=>{"use strict";var mD=Ut(),fD=G5(),MD=Nt(),xD=X4();function CD(t,a,c,r){if(c!==a){var e=xD(a),l=e[e.length-1],i=fD(t,e);if(i===null)return"[op:move] path not found: "+a;var o=void 0;if(Array.isArray(i)){var n=MD(i,l);if(i.length<=n)return"[op:move] invalid array index: "+c;o=i[n],r(t,e).splice(n,1)}else o=i[l],delete r(t,e)[l];return mD(t,c,o,r)}}Yf.exports=CD});var gv=L1((y91,Jf)=>{"use strict";var LD=G5(),HD=X4(),VD=Ut();function wD(t,a,c,r){var e=HD(a),l=e[e.length-1],i=LD(t,e);return i===null?"[op:copy] path not found: "+a:VD(t,c,i[l],r)}Jf.exports=wD});var dv=L1((S91,tM)=>{"use strict";var BD=qt(),yD=G5(),SD=X4();function kD(t,a,c){var r=SD(a),e=r[r.length-1],l=yD(t,r);if(l===null)return"[op:test] path not found: "+a;if(!BD(l[e],c)){var i=JSON.stringify(l[e]),o=JSON.stringify(c);return"[op:test] not matched: "+i+" "+o}}tM.exports=kD});var ze=L1((k91,aM)=>{"use strict";function AD(t){if(!t||typeof t!="object")return t;if(Array.isArray(t)){for(var a=t.length,c=new Array(a),r=0;r<a;r++)c[r]=t[r];return c}for(var e=Object.keys(t),l={},i=0,o=e.length;i<o;i++){var n=e[i];l[n]=t[n]}return l}aM.exports=AD});var rM=L1((A91,cM)=>{"use strict";var RD=qf(),bD=Ut(),FD=hv(),ID=vv(),PD=sv(),GD=gv(),TD=dv(),ED=qt(),OD=ze(),ZD=X4();function DD(t,a){return{get:function(c){return RD(t,c)},add:function(c,r){return bD(t,c,r,a)},remove:function(c){return FD(t,c,a)},replace:function(c,r){return ID(t,c,r,a)},move:function(c,r){return PD(t,c,r,a)},copy:function(c,r){return GD(t,c,r,a)},test:function(c,r){return TD(t,c,r)},deepEqual:ED,shallowCopy:OD,toKeys:ZD}}cM.exports=DD});var lM=L1((R91,eM)=>{"use strict";function jD(t,a,c,r){return r.error=c,r.partial?a[""]:t}eM.exports=jD});var oM=L1((b91,iM)=>{"use strict";function WD(t){return!!t}iM.exports=WD});var hM=L1((F91,nM)=>{"use strict";function _D(t){if(t)throw new TypeError(t)}nM.exports=_D});var sM=L1((I91,vM)=>{"use strict";var qD=ze();function ND(t,a){for(var c=0,r=a.length-1;c<r;c++)t=t[a[c]]=qD(t[a[c]]);return t}vM.exports=ND});var dM=L1((P91,gM)=>{"use strict";var UD=ze();function KD(t,a,c){var r=t[a];return c.has(r)||(r=UD(r),c.add(r)),r}function $D(t,a,c){for(var r=0,e=a.length-1;r<e;r++)t=t[a[r]]=KD(t,a[r],c);return t}gM.exports=$D});var uM=L1((G91,zM)=>{"use strict";var QD=rM(),T5=lM(),XD=oM(),YD=hM(),JD=sM(),tj=dM(),aj=Ut(),cj=hv(),rj=vv(),ej=sv(),lj=gv(),ij=dv(),oj=Set||function(){var t=[];return t.has=function(a){return this.indexOf(a)!==-1},t.add=function(a){this.push(a)},t};function nj(t,a,c){if(a.length===0)return t;c=c||{};for(var r=c.strict?YD:XD,e=a.length===1?JD:function(v){return function(g,d){return tj(g,d,v)}}(new oj),l={"":t},i,o=0,n=a.length;o<n;o++){var h=a[o];switch(h.op){case"add":if(r(aj(l,""+h.path,h.value,e)))return T5(t,l,h,c);break;case"remove":if(r(cj(l,""+h.path,e)))return T5(t,l,h,c);break;case"replace":if(r(rj(l,""+h.path,h.value,e)))return T5(t,l,h,c);break;case"move":if(r(ej(l,""+h.from,""+h.path,e)))return T5(t,l,h,c);break;case"copy":if(r(lj(l,""+h.from,""+h.path,e)))return T5(t,l,h,c);break;case"test":if(r(ij(l,""+h.path,h.value)))return T5(t,l,h,c);break;default:if(c.custom&&c.custom[h.op]){if(i=i||QD(l,e),r(c.custom[h.op](i,h,o,a)))return T5(t,l,h,c)}else return r("[op:"+h.op+"] unknown"),T5(t,l,h,c);break}}return l[""]}zM.exports=nj});var mM=L1((T91,pM)=>{pM.exports=uM()});function hj(t){var a=t==null?0:t.length;return a?t[a-1]:void 0}var s3,Kt=x(()=>{s3=hj});function $1(t){return function(c,r){return t(c,r())}}function W0(t){return Object.freeze({audience:l8(t,8)?"internal":l8(t,16)?"dev":"public",category:l8(t,4)?"troubleshooting":l8(t,2)?"todo":"general",level:l8(t,512)?512:l8(t,256)?256:l8(t,128)?128:64})}function l8(t,a){return(t&a)===a}function Q1(t,a){return((a&32)==32?!0:(a&16)==16?t.dev:(a&8)==8?t.internal:!1)&&t.min<=a}function $t(t=console,a={}){let c=D(S({},Y4),{includes:S({},Y4.includes)}),r={styled:Lj.bind(c,t),noStyle:Vj.bind(c,t)},e=Cj.bind(c);function l(){return c.loggingConsoleStyle&&c.loggerConsoleStyle?r.styled:r.noStyle}return c.create=l(),{configureLogger(i){var o;i==="console"?(c.loggerConsoleStyle=Y4.loggerConsoleStyle,c.create=l()):i.type==="console"?(c.loggerConsoleStyle=(o=i.style)!=null?o:Y4.loggerConsoleStyle,c.create=l()):i.type==="keyed"?(c.creatExt=n=>i.keyed(n.names),c.create=e):i.type==="named"&&(c.creatExt=xj.bind(null,i.named),c.create=e)},configureLogging(i){var o,n,h,v,g;c.includes.dev=(o=i.dev)!=null?o:Y4.includes.dev,c.includes.internal=(n=i.internal)!=null?n:Y4.includes.internal,c.includes.min=(h=i.min)!=null?h:Y4.includes.min,c.include=(v=i.include)!=null?v:Y4.include,c.loggingConsoleStyle=(g=i.consoleStyle)!=null?g:Y4.loggingConsoleStyle,c.create=l()},getLogger(){return c.create({names:[]})}}}function xj(t,a){let c=[];for(let{name:r,key:e}of a.names)c.push(e==null?r:`${r} (${e})`);return t(c)}function Cj(t){let a=S(S({},this.includes),this.include(t)),c=this.filtered,r=this.named.bind(this,t),e=this.creatExt(t),l=Q1(a,524),i=Q1(a,522),o=Q1(a,521),n=Q1(a,529),h=Q1(a,545),v=Q1(a,265),g=Q1(a,268),d=Q1(a,273),s=Q1(a,289),u=Q1(a,137),p=Q1(a,145),z=Q1(a,73),m=Q1(a,81),f=l?e.error.bind(e,j0._hmm):c.bind(t,524),M=i?e.error.bind(e,j0._todo):c.bind(t,522),H=o?e.error.bind(e,j0._error):c.bind(t,521),w=n?e.error.bind(e,j0.errorDev):c.bind(t,529),B=h?e.error.bind(e,j0.errorPublic):c.bind(t,545),k=g?e.warn.bind(e,j0._kapow):c.bind(t,268),I=v?e.warn.bind(e,j0._warn):c.bind(t,265),j=d?e.warn.bind(e,j0.warnDev):c.bind(t,273),b=s?e.warn.bind(e,j0.warnPublic):c.bind(t,273),T=u?e.debug.bind(e,j0._debug):c.bind(t,137),C=p?e.debug.bind(e,j0.debugDev):c.bind(t,145),O=z?e.trace.bind(e,j0._trace):c.bind(t,73),J=m?e.trace.bind(e,j0.traceDev):c.bind(t,81),F={_hmm:f,_todo:M,_error:H,errorDev:w,errorPublic:B,_kapow:k,_warn:I,warnDev:j,warnPublic:b,_debug:T,debugDev:C,_trace:O,traceDev:J,lazy:{_hmm:l?$1(f):f,_todo:i?$1(M):M,_error:o?$1(H):H,errorDev:n?$1(w):w,errorPublic:h?$1(B):B,_kapow:g?$1(k):k,_warn:v?$1(I):I,warnDev:d?$1(j):j,warnPublic:s?$1(b):b,_debug:u?$1(T):T,debugDev:p?$1(C):C,_trace:z?$1(O):O,traceDev:m?$1(J):J},named:r,utilFor:{internal(){return{debug:F._debug,error:F._error,warn:F._warn,trace:F._trace,named(Q,Z){return F.named(Q,Z).utilFor.internal()}}},dev(){return{debug:F.debugDev,error:F.errorDev,warn:F.warnDev,trace:F.traceDev,named(Q,Z){return F.named(Q,Z).utilFor.dev()}}},public(){return{error:F.errorPublic,warn:F.warnPublic,debug(Q,Z){F._warn(`(public "debug" filtered out) ${Q}`,Z)},trace(Q,Z){F._warn(`(public "trace" filtered out) ${Q}`,Z)},named(Q,Z){return F.named(Q,Z).utilFor.public()}}}}};return F}function Lj(t,a){let c=S(S({},this.includes),this.include(a)),r=[],e="";for(let n=0;n<a.names.length;n++){let{name:h,key:v}=a.names[n];if(e+=` %c${h}`,r.push(this.style.css(h)),v!=null){let g=`%c#${v}`;e+=g,r.push(this.style.css(g))}}let l=this.filtered,i=this.named.bind(this,a),o=[e,...r];return LM(l,a,c,t,o,Hj(o),i)}function Hj(t){let a=t.slice(0);for(let c=1;c<a.length;c++)a[c]+=";background-color:#e0005a;padding:2px;color:white";return a}function Vj(t,a){let c=S(S({},this.includes),this.include(a)),r="";for(let o=0;o<a.names.length;o++){let{name:n,key:h}=a.names[o];r+=` ${n}`,h!=null&&(r+=`#${h}`)}let e=this.filtered,l=this.named.bind(this,a),i=[r];return LM(e,a,c,t,i,i,l)}function LM(t,a,c,r,e,l,i){let o=Q1(c,524),n=Q1(c,522),h=Q1(c,521),v=Q1(c,529),g=Q1(c,545),d=Q1(c,265),s=Q1(c,268),u=Q1(c,273),p=Q1(c,289),z=Q1(c,137),m=Q1(c,145),f=Q1(c,73),M=Q1(c,81),H=o?r.error.bind(r,...e):t.bind(a,524),w=n?r.error.bind(r,...e):t.bind(a,522),B=h?r.error.bind(r,...e):t.bind(a,521),k=v?r.error.bind(r,...e):t.bind(a,529),I=g?r.error.bind(r,...e):t.bind(a,545),j=s?r.warn.bind(r,...l):t.bind(a,268),b=d?r.warn.bind(r,...e):t.bind(a,265),T=u?r.warn.bind(r,...e):t.bind(a,273),C=p?r.warn.bind(r,...e):t.bind(a,273),O=z?r.info.bind(r,...e):t.bind(a,137),J=m?r.info.bind(r,...e):t.bind(a,145),F=f?r.debug.bind(r,...e):t.bind(a,73),Q=M?r.debug.bind(r,...e):t.bind(a,81),Z={_hmm:H,_todo:w,_error:B,errorDev:k,errorPublic:I,_kapow:j,_warn:b,warnDev:T,warnPublic:C,_debug:O,debugDev:J,_trace:F,traceDev:Q,lazy:{_hmm:o?$1(H):H,_todo:n?$1(w):w,_error:h?$1(B):B,errorDev:v?$1(k):k,errorPublic:g?$1(I):I,_kapow:s?$1(j):j,_warn:d?$1(b):b,warnDev:u?$1(T):T,warnPublic:p?$1(C):C,_debug:z?$1(O):O,debugDev:m?$1(J):J,_trace:f?$1(F):F,traceDev:M?$1(Q):Q},named:i,utilFor:{internal(){return{debug:Z._debug,error:Z._error,warn:Z._warn,trace:Z._trace,named(t1,_){return Z.named(t1,_).utilFor.internal()}}},dev(){return{debug:Z.debugDev,error:Z.errorDev,warn:Z.warnDev,trace:Z.traceDev,named(t1,_){return Z.named(t1,_).utilFor.dev()}}},public(){return{error:Z.errorPublic,warn:Z.warnPublic,debug(t1,_){Z._warn(`(public "debug" filtered out) ${t1}`,_)},trace(t1,_){Z._warn(`(public "trace" filtered out) ${t1}`,_)},named(t1,_){return Z.named(t1,_).utilFor.public()}}}}};return Z}var j2,i2,_1,z1,j0,Y4,xv=x(()=>{(function(r){r[r.GENERAL=1]="GENERAL",r[r.TODO=2]="TODO",r[r.TROUBLESHOOTING=4]="TROUBLESHOOTING"})(j2||(j2={}));(function(r){r[r.INTERNAL=8]="INTERNAL",r[r.DEV=16]="DEV",r[r.PUBLIC=32]="PUBLIC"})(i2||(i2={}));(function(e){e[e.TRACE=64]="TRACE",e[e.DEBUG=128]="DEBUG",e[e.WARN=256]="WARN",e[e.ERROR=512]="ERROR"})(_1||(_1={}));(function(s){s[s.ERROR_PUBLIC=545]="ERROR_PUBLIC",s[s.ERROR_DEV=529]="ERROR_DEV",s[s._HMM=524]="_HMM",s[s._TODO=522]="_TODO",s[s._ERROR=521]="_ERROR",s[s.WARN_PUBLIC=289]="WARN_PUBLIC",s[s.WARN_DEV=273]="WARN_DEV",s[s._KAPOW=268]="_KAPOW",s[s._WARN=265]="_WARN",s[s.DEBUG_DEV=145]="DEBUG_DEV",s[s._DEBUG=137]="_DEBUG",s[s.TRACE_DEV=81]="TRACE_DEV",s[s._TRACE=73]="_TRACE"})(z1||(z1={}));j0={_hmm:W0(524),_todo:W0(522),_error:W0(521),errorDev:W0(529),errorPublic:W0(545),_kapow:W0(268),_warn:W0(265),warnDev:W0(273),warnPublic:W0(289),_debug:W0(137),debugDev:W0(145),_trace:W0(73),traceDev:W0(81)};Y4={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(t,a,c){return this.create({names:[...t.names,{name:a,key:c}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(t){if(t.length<5)return t;let a=t.replace(this.collapseOnRE,"");return this.cssMemo.has(a)||this.cssMemo.set(a,this.css(t)),a},css(t){var r,e,l,i;let a=this.cssMemo.get(t);if(a)return a;let c=`color:${(e=(r=this.color)==null?void 0:r.call(this,t))!=null?e:`hsl(${(t.charCodeAt(0)+t.charCodeAt(t.length-1))%360}, 100%, 60%)`}`;return((l=this.bold)==null?void 0:l.test(t))&&(c+=";font-weight:600"),((i=this.italic)==null?void 0:i.test(t))&&(c+=";font-style:italic"),this.cssMemo.set(t,c),c}}}});var HM,p7,Qt=x(()=>{xv();xv();HM=$t(console,{_debug:function(){},_error:function(){}});HM.configureLogging({dev:!0,min:_1.TRACE});p7=HM.getLogger().named("Theatre.js (default logger)").utilFor.dev()});function s4(t){let a=new WeakMap;return c=>(a.has(c)||a.set(c,t(c)),a.get(c))}var Xt=x(()=>{});function FM(t,a){return a.every((c,r)=>c===t[r])}function IM(t,a){if(t.length!==a.length)return!1;for(let c=0;c<t.length;c++)if(t[c]!==a[c])return!1;return!0}function O5(t){var c;let a=[];for(;;){let r=a.length,e=(c=t[0])==null?void 0:c[r];if(e===void 0)return a;for(let l of t)if(e!==l[r])return a;a.push(e)}}var _0,m7,G3=x(()=>{Xt();_0=s4(t=>JSON.stringify(t)),m7=t=>JSON.parse(t)});var yj,me,Lv=x(()=>{yj=typeof global=="object"&&global&&global.Object===Object&&global,me=yj});var Sj,kj,h2,g3=x(()=>{Lv();Sj=typeof self=="object"&&self&&self.Object===Object&&self,kj=me||Sj||Function("return this")(),h2=kj});var Aj,u0,f7=x(()=>{g3();Aj=h2.Symbol,u0=Aj});function Fj(t){var a=Rj.call(t,Yt),c=t[Yt];try{t[Yt]=void 0;var r=!0}catch(l){}var e=bj.call(t);return r&&(a?t[Yt]=c:delete t[Yt]),e}var PM,Rj,bj,Yt,GM,TM=x(()=>{f7();PM=Object.prototype,Rj=PM.hasOwnProperty,bj=PM.toString,Yt=u0?u0.toStringTag:void 0;GM=Fj});function Gj(t){return Pj.call(t)}var Ij,Pj,EM,OM=x(()=>{Ij=Object.prototype,Pj=Ij.toString;EM=Gj});function Oj(t){return t==null?t===void 0?Ej:Tj:ZM&&ZM in Object(t)?GM(t):EM(t)}var Tj,Ej,ZM,q0,i8=x(()=>{f7();TM();OM();Tj="[object Null]",Ej="[object Undefined]",ZM=u0?u0.toStringTag:void 0;q0=Oj});function Zj(t){return t!=null&&typeof t=="object"}var N0,o8=x(()=>{N0=Zj});function jj(t){return typeof t=="symbol"||N0(t)&&q0(t)==Dj}var Dj,T3,M7=x(()=>{i8();o8();Dj="[object Symbol]";T3=jj});function Wj(t,a){for(var c=-1,r=t==null?0:t.length,e=Array(r);++c<r;)e[c]=a(t[c],c,t);return e}var Z5,fe=x(()=>{Z5=Wj});var _j,o2,d3=x(()=>{_j=Array.isArray,o2=_j});function WM(t){if(typeof t=="string")return t;if(o2(t))return Z5(t,WM)+"";if(T3(t))return jM?jM.call(t):"";var a=t+"";return a=="0"&&1/t==-qj?"-0":a}var qj,DM,jM,_M,qM=x(()=>{f7();fe();d3();M7();qj=1/0,DM=u0?u0.prototype:void 0,jM=DM?DM.toString:void 0;_M=WM});function Uj(t){for(var a=t.length;a--&&Nj.test(t.charAt(a)););return a}var Nj,NM,UM=x(()=>{Nj=/\s/;NM=Uj});function $j(t){return t&&t.slice(0,NM(t)+1).replace(Kj,"")}var Kj,KM,$M=x(()=>{UM();Kj=/^\s+/;KM=$j});function Qj(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}var c0,D5=x(()=>{c0=Qj});function aW(t){if(typeof t=="number")return t;if(T3(t))return QM;if(c0(t)){var a=typeof t.valueOf=="function"?t.valueOf():t;t=c0(a)?a+"":a}if(typeof t!="string")return t===0?t:+t;t=KM(t);var c=Yj.test(t);return c||Jj.test(t)?tW(t.slice(2),c?2:8):Xj.test(t)?QM:+t}var QM,Xj,Yj,Jj,tW,U0,x7=x(()=>{$M();D5();M7();QM=0/0,Xj=/^[-+]0x[0-9a-f]+$/i,Yj=/^0b[01]+$/i,Jj=/^0o[0-7]+$/i,tW=parseInt;U0=aW});function rW(t){if(!t)return t===0?t:0;if(t=U0(t),t===XM||t===-XM){var a=t<0?-1:1;return a*cW}return t===t?t:0}var XM,cW,Jt,Hv=x(()=>{x7();XM=1/0,cW=17976931348623157e292;Jt=rW});function eW(t){var a=Jt(t),c=a%1;return a===a?c?a-c:a:0}var j5,ta=x(()=>{Hv();j5=eW});function lW(t){return t}var W5,aa=x(()=>{W5=lW});function vW(t){if(!c0(t))return!1;var a=q0(t);return a==oW||a==nW||a==iW||a==hW}var iW,oW,nW,hW,Me,Vv=x(()=>{i8();D5();iW="[object AsyncFunction]",oW="[object Function]",nW="[object GeneratorFunction]",hW="[object Proxy]";Me=vW});var sW,xe,YM=x(()=>{g3();sW=h2["__core-js_shared__"],xe=sW});function gW(t){return!!JM&&JM in t}var JM,tx,ax=x(()=>{YM();JM=function(){var t=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();tx=gW});function uW(t){if(t!=null){try{return zW.call(t)}catch(a){}try{return t+""}catch(a){}}return""}var dW,zW,J4,wv=x(()=>{dW=Function.prototype,zW=dW.toString;J4=uW});function HW(t){if(!c0(t)||tx(t))return!1;var a=Me(t)?LW:mW;return a.test(J4(t))}var pW,mW,fW,MW,xW,CW,LW,cx,rx=x(()=>{Vv();ax();D5();wv();pW=/[\\^$.*+?()[\]{}|]/g,mW=/^\[object .+?Constructor\]$/,fW=Function.prototype,MW=Object.prototype,xW=fW.toString,CW=MW.hasOwnProperty,LW=RegExp("^"+xW.call(CW).replace(pW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");cx=HW});function VW(t,a){return t==null?void 0:t[a]}var ex,lx=x(()=>{ex=VW});function wW(t,a){var c=ex(t,a);return cx(c)?c:void 0}var H0,_5=x(()=>{rx();lx();H0=wW});var BW,Ce,ix=x(()=>{_5();g3();BW=H0(h2,"WeakMap"),Ce=BW});function yW(t,a,c){switch(c.length){case 0:return t.call(a);case 1:return t.call(a,c[0]);case 2:return t.call(a,c[0],c[1]);case 3:return t.call(a,c[0],c[1],c[2])}return t.apply(a,c)}var ox,nx=x(()=>{ox=yW});function SW(){}var hx,vx=x(()=>{hx=SW});function kW(t,a){var c=-1,r=t.length;for(a||(a=Array(r));++c<r;)a[c]=t[c];return a}var sx,gx=x(()=>{sx=kW});function FW(t){var a=0,c=0;return function(){var r=bW(),e=RW-(r-c);if(c=r,e>0){if(++a>=AW)return arguments[0]}else a=0;return t.apply(void 0,arguments)}}var AW,RW,bW,dx,zx=x(()=>{AW=800,RW=16,bW=Date.now;dx=FW});function IW(t){return function(){return t}}var ux,px=x(()=>{ux=IW});var PW,C7,Bv=x(()=>{_5();PW=function(){try{var t=H0(Object,"defineProperty");return t({},"",{}),t}catch(a){}}(),C7=PW});var GW,mx,fx=x(()=>{px();Bv();aa();GW=C7?function(t,a){return C7(t,"toString",{configurable:!0,enumerable:!1,value:ux(a),writable:!0})}:W5,mx=GW});var TW,Mx,xx=x(()=>{fx();zx();TW=dx(mx),Mx=TW});function EW(t,a,c,r){for(var e=t.length,l=c+(r?1:-1);r?l--:++l<e;)if(a(t[l],l,t))return l;return-1}var L7,Le=x(()=>{L7=EW});function OW(t){return t!==t}var Cx,Lx=x(()=>{Cx=OW});function ZW(t,a,c){for(var r=c-1,e=t.length;++r<e;)if(t[r]===a)return r;return-1}var Hx,Vx=x(()=>{Hx=ZW});function DW(t,a,c){return a===a?Hx(t,a,c):L7(t,Cx,c)}var He,yv=x(()=>{Le();Lx();Vx();He=DW});function jW(t,a){var c=t==null?0:t.length;return!!c&&He(t,a,0)>-1}var wx,Bx=x(()=>{yv();wx=jW});function qW(t,a){var c=typeof t;return a=a==null?WW:a,!!a&&(c=="number"||c!="symbol"&&_W.test(t))&&t>-1&&t%1==0&&t<a}var WW,_W,q5,ca=x(()=>{WW=9007199254740991,_W=/^(?:0|[1-9]\d*)$/;q5=qW});function NW(t,a,c){a=="__proto__"&&C7?C7(t,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):t[a]=c}var H7,Ve=x(()=>{Bv();H7=NW});function UW(t,a){return t===a||t!==t&&a!==a}var N5,ra=x(()=>{N5=UW});function QW(t,a,c){var r=t[a];(!($W.call(t,a)&&N5(r,c))||c===void 0&&!(a in t))&&H7(t,a,c)}var KW,$W,yx,Sx=x(()=>{Ve();ra();KW=Object.prototype,$W=KW.hasOwnProperty;yx=QW});function XW(t,a,c){return a=kx(a===void 0?t.length-1:a,0),function(){for(var r=arguments,e=-1,l=kx(r.length-a,0),i=Array(l);++e<l;)i[e]=r[a+e];e=-1;for(var o=Array(a+1);++e<a;)o[e]=r[e];return o[a]=c(i),ox(t,this,o)}}var kx,Ax,Rx=x(()=>{nx();kx=Math.max;Ax=XW});function YW(t,a){return Mx(Ax(t,a,W5),t+"")}var we,Sv=x(()=>{aa();Rx();xx();we=YW});function t_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JW}var JW,V7,Be=x(()=>{JW=9007199254740991;V7=t_});function a_(t){return t!=null&&V7(t.length)&&!Me(t)}var U5,ea=x(()=>{Vv();Be();U5=a_});function c_(t,a,c){if(!c0(c))return!1;var r=typeof a;return(r=="number"?U5(c)&&q5(a,c.length):r=="string"&&a in c)?N5(c[a],t):!1}var kv,bx=x(()=>{ra();ea();ca();D5();kv=c_});function e_(t){var a=t&&t.constructor,c=typeof a=="function"&&a.prototype||r_;return t===c}var r_,Fx,Ix=x(()=>{r_=Object.prototype;Fx=e_});function l_(t,a){for(var c=-1,r=Array(t);++c<t;)r[c]=a(c);return r}var Px,Gx=x(()=>{Px=l_});function o_(t){return N0(t)&&q0(t)==i_}var i_,Av,Tx=x(()=>{i8();o8();i_="[object Arguments]";Av=o_});var Ex,n_,h_,v_,w7,ye=x(()=>{Tx();o8();Ex=Object.prototype,n_=Ex.hasOwnProperty,h_=Ex.propertyIsEnumerable,v_=Av(function(){return arguments}())?Av:function(t){return N0(t)&&n_.call(t,"callee")&&!h_.call(t,"callee")},w7=v_});function s_(){return!1}var Ox,Zx=x(()=>{Ox=s_});var Dx,jx,g_,Wx,d_,z_,la,Rv=x(()=>{g3();Zx();Dx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jx=Dx&&typeof module=="object"&&module&&!module.nodeType&&module,g_=jx&&jx.exports===Dx,Wx=g_?h2.Buffer:void 0,d_=Wx?Wx.isBuffer:void 0,z_=d_||Ox,la=z_});function O_(t){return N0(t)&&V7(t.length)&&!!J1[q0(t)]}var u_,p_,m_,f_,M_,x_,C_,L_,H_,V_,w_,B_,y_,S_,k_,A_,R_,b_,F_,I_,P_,G_,T_,E_,J1,_x,qx=x(()=>{i8();Be();o8();u_="[object Arguments]",p_="[object Array]",m_="[object Boolean]",f_="[object Date]",M_="[object Error]",x_="[object Function]",C_="[object Map]",L_="[object Number]",H_="[object Object]",V_="[object RegExp]",w_="[object Set]",B_="[object String]",y_="[object WeakMap]",S_="[object ArrayBuffer]",k_="[object DataView]",A_="[object Float32Array]",R_="[object Float64Array]",b_="[object Int8Array]",F_="[object Int16Array]",I_="[object Int32Array]",P_="[object Uint8Array]",G_="[object Uint8ClampedArray]",T_="[object Uint16Array]",E_="[object Uint32Array]",J1={};J1[A_]=J1[R_]=J1[b_]=J1[F_]=J1[I_]=J1[P_]=J1[G_]=J1[T_]=J1[E_]=!0;J1[u_]=J1[p_]=J1[S_]=J1[m_]=J1[k_]=J1[f_]=J1[M_]=J1[x_]=J1[C_]=J1[L_]=J1[H_]=J1[V_]=J1[w_]=J1[B_]=J1[y_]=!1;_x=O_});function Z_(t){return function(a){return t(a)}}var B7,Se=x(()=>{B7=Z_});var Nx,ia,D_,bv,j_,Fv,Ux=x(()=>{Lv();Nx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ia=Nx&&typeof module=="object"&&module&&!module.nodeType&&module,D_=ia&&ia.exports===Nx,bv=D_&&me.process,j_=function(){try{var t=ia&&ia.require&&ia.require("util").types;return t||bv&&bv.binding&&bv.binding("util")}catch(a){}}(),Fv=j_});var Kx,W_,ke,Iv=x(()=>{qx();Se();Ux();Kx=Fv&&Fv.isTypedArray,W_=Kx?B7(Kx):_x,ke=W_});function N_(t,a){var c=o2(t),r=!c&&w7(t),e=!c&&!r&&la(t),l=!c&&!r&&!e&&ke(t),i=c||r||e||l,o=i?Px(t.length,String):[],n=o.length;for(var h in t)(a||q_.call(t,h))&&!(i&&(h=="length"||e&&(h=="offset"||h=="parent")||l&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||q5(h,n)))&&o.push(h);return o}var __,q_,$x,Qx=x(()=>{Gx();ye();d3();Rv();ca();Iv();__=Object.prototype,q_=__.hasOwnProperty;$x=N_});function U_(t,a){return function(c){return t(a(c))}}var Ae,Pv=x(()=>{Ae=U_});var K_,Xx,Yx=x(()=>{Pv();K_=Ae(Object.keys,Object),Xx=K_});function X_(t){if(!Fx(t))return Xx(t);var a=[];for(var c in Object(t))Q_.call(t,c)&&c!="constructor"&&a.push(c);return a}var $_,Q_,Jx,tC=x(()=>{Ix();Yx();$_=Object.prototype,Q_=$_.hasOwnProperty;Jx=X_});function Y_(t){return U5(t)?$x(t):Jx(t)}var y7,Re=x(()=>{Qx();tC();ea();y7=Y_});function aq(t,a){if(o2(t))return!1;var c=typeof t;return c=="number"||c=="symbol"||c=="boolean"||t==null||T3(t)?!0:tq.test(t)||!J_.test(t)||a!=null&&t in Object(a)}var J_,tq,S7,be=x(()=>{d3();M7();J_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tq=/^\w*$/;S7=aq});var cq,t5,oa=x(()=>{_5();cq=H0(Object,"create"),t5=cq});function rq(){this.__data__=t5?t5(null):{},this.size=0}var aC,cC=x(()=>{oa();aC=rq});function eq(t){var a=this.has(t)&&delete this.__data__[t];return this.size-=a?1:0,a}var rC,eC=x(()=>{rC=eq});function nq(t){var a=this.__data__;if(t5){var c=a[t];return c===lq?void 0:c}return oq.call(a,t)?a[t]:void 0}var lq,iq,oq,lC,iC=x(()=>{oa();lq="__lodash_hash_undefined__",iq=Object.prototype,oq=iq.hasOwnProperty;lC=nq});function sq(t){var a=this.__data__;return t5?a[t]!==void 0:vq.call(a,t)}var hq,vq,oC,nC=x(()=>{oa();hq=Object.prototype,vq=hq.hasOwnProperty;oC=sq});function dq(t,a){var c=this.__data__;return this.size+=this.has(t)?0:1,c[t]=t5&&a===void 0?gq:a,this}var gq,hC,vC=x(()=>{oa();gq="__lodash_hash_undefined__";hC=dq});function k7(t){var a=-1,c=t==null?0:t.length;for(this.clear();++a<c;){var r=t[a];this.set(r[0],r[1])}}var Gv,sC=x(()=>{cC();eC();iC();nC();vC();k7.prototype.clear=aC;k7.prototype.delete=rC;k7.prototype.get=lC;k7.prototype.has=oC;k7.prototype.set=hC;Gv=k7});function zq(){this.__data__=[],this.size=0}var gC,dC=x(()=>{gC=zq});function uq(t,a){for(var c=t.length;c--;)if(N5(t[c][0],a))return c;return-1}var K5,na=x(()=>{ra();K5=uq});function fq(t){var a=this.__data__,c=K5(a,t);if(c<0)return!1;var r=a.length-1;return c==r?a.pop():mq.call(a,c,1),--this.size,!0}var pq,mq,zC,uC=x(()=>{na();pq=Array.prototype,mq=pq.splice;zC=fq});function Mq(t){var a=this.__data__,c=K5(a,t);return c<0?void 0:a[c][1]}var pC,mC=x(()=>{na();pC=Mq});function xq(t){return K5(this.__data__,t)>-1}var fC,MC=x(()=>{na();fC=xq});function Cq(t,a){var c=this.__data__,r=K5(c,t);return r<0?(++this.size,c.push([t,a])):c[r][1]=a,this}var xC,CC=x(()=>{na();xC=Cq});function A7(t){var a=-1,c=t==null?0:t.length;for(this.clear();++a<c;){var r=t[a];this.set(r[0],r[1])}}var $5,ha=x(()=>{dC();uC();mC();MC();CC();A7.prototype.clear=gC;A7.prototype.delete=zC;A7.prototype.get=pC;A7.prototype.has=fC;A7.prototype.set=xC;$5=A7});var Lq,Q5,Fe=x(()=>{_5();g3();Lq=H0(h2,"Map"),Q5=Lq});function Hq(){this.size=0,this.__data__={hash:new Gv,map:new(Q5||$5),string:new Gv}}var LC,HC=x(()=>{sC();ha();Fe();LC=Hq});function Vq(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}var VC,wC=x(()=>{VC=Vq});function wq(t,a){var c=t.__data__;return VC(a)?c[typeof a=="string"?"string":"hash"]:c.map}var X5,va=x(()=>{wC();X5=wq});function Bq(t){var a=X5(this,t).delete(t);return this.size-=a?1:0,a}var BC,yC=x(()=>{va();BC=Bq});function yq(t){return X5(this,t).get(t)}var SC,kC=x(()=>{va();SC=yq});function Sq(t){return X5(this,t).has(t)}var AC,RC=x(()=>{va();AC=Sq});function kq(t,a){var c=X5(this,t),r=c.size;return c.set(t,a),this.size+=c.size==r?0:1,this}var bC,FC=x(()=>{va();bC=kq});function R7(t){var a=-1,c=t==null?0:t.length;for(this.clear();++a<c;){var r=t[a];this.set(r[0],r[1])}}var n8,Ie=x(()=>{HC();yC();kC();RC();FC();R7.prototype.clear=LC;R7.prototype.delete=BC;R7.prototype.get=SC;R7.prototype.has=AC;R7.prototype.set=bC;n8=R7});function Tv(t,a){if(typeof t!="function"||a!=null&&typeof a!="function")throw new TypeError(Aq);var c=function(){var r=arguments,e=a?a.apply(this,r):r[0],l=c.cache;if(l.has(e))return l.get(e);var i=t.apply(this,r);return c.cache=l.set(e,i)||l,i};return c.cache=new(Tv.Cache||n8),c}var Aq,sa,Ev=x(()=>{Ie();Aq="Expected a function";Tv.Cache=n8;sa=Tv});function bq(t){var a=sa(t,function(r){return c.size===Rq&&c.clear(),r}),c=a.cache;return a}var Rq,IC,PC=x(()=>{Ev();Rq=500;IC=bq});var Fq,Iq,Pq,GC,TC=x(()=>{PC();Fq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iq=/\\(\\)?/g,Pq=IC(function(t){var a=[];return t.charCodeAt(0)===46&&a.push(""),t.replace(Fq,function(c,r,e,l){a.push(e?l.replace(Iq,"$1"):r||c)}),a}),GC=Pq});function Gq(t){return t==null?"":_M(t)}var ga,Ov=x(()=>{qM();ga=Gq});function Tq(t,a){return o2(t)?t:S7(t,a)?[t]:GC(ga(t))}var b7,Pe=x(()=>{d3();be();TC();Ov();b7=Tq});function Oq(t){if(typeof t=="string"||T3(t))return t;var a=t+"";return a=="0"&&1/t==-Eq?"-0":a}var Eq,g4,F7=x(()=>{M7();Eq=1/0;g4=Oq});function Zq(t,a){a=b7(a,t);for(var c=0,r=a.length;t!=null&&c<r;)t=t[g4(a[c++])];return c&&c==r?t:void 0}var I7,Ge=x(()=>{Pe();F7();I7=Zq});function Dq(t,a,c){var r=t==null?void 0:I7(t,a);return r===void 0?c:r}var E3,P7=x(()=>{Ge();E3=Dq});function jq(t,a){for(var c=-1,r=a.length,e=t.length;++c<r;)t[e+c]=a[c];return t}var Te,Zv=x(()=>{Te=jq});function Wq(t){return o2(t)||w7(t)||!!(EC&&t&&t[EC])}var EC,OC,ZC=x(()=>{f7();ye();d3();EC=u0?u0.isConcatSpreadable:void 0;OC=Wq});function DC(t,a,c,r,e){var l=-1,i=t.length;for(c||(c=OC),e||(e=[]);++l<i;){var o=t[l];a>0&&c(o)?a>1?DC(o,a-1,c,r,e):Te(e,o):r||(e[e.length]=o)}return e}var jC,WC=x(()=>{Zv();ZC();jC=DC});var _q,_C,qC=x(()=>{Pv();_q=Ae(Object.getPrototypeOf,Object),_C=_q});function Qq(t){if(!N0(t)||q0(t)!=qq)return!1;var a=_C(t);if(a===null)return!0;var c=Kq.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&NC.call(c)==$q}var qq,Nq,Uq,NC,Kq,$q,h8,Dv=x(()=>{i8();qC();o8();qq="[object Object]",Nq=Function.prototype,Uq=Object.prototype,NC=Nq.toString,Kq=Uq.hasOwnProperty,$q=NC.call(Object);h8=Qq});function Jq(t){var a=Math[t];return function(c,r){if(c=U0(c),r=r==null?0:Yq(j5(r),292),r&&Xq(c)){var e=(ga(c)+"e").split("e"),l=a(e[0]+"e"+(+e[1]+r));return e=(ga(l)+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return a(c)}}var Xq,Yq,UC,KC=x(()=>{g3();ta();x7();Ov();Xq=h2.isFinite,Yq=Math.min;UC=Jq});function tN(t,a,c){return t===t&&(c!==void 0&&(t=t<=c?t:c),a!==void 0&&(t=t>=a?t:a)),t}var $C,QC=x(()=>{$C=tN});function aN(t,a,c){return c===void 0&&(c=a,a=void 0),c!==void 0&&(c=U0(c),c=c===c?c:0),a!==void 0&&(a=U0(a),a=a===a?a:0),$C(U0(t),a,c)}var F1,da=x(()=>{QC();x7();F1=aN});function cN(){this.__data__=new $5,this.size=0}var XC,YC=x(()=>{ha();XC=cN});function rN(t){var a=this.__data__,c=a.delete(t);return this.size=a.size,c}var JC,tL=x(()=>{JC=rN});function eN(t){return this.__data__.get(t)}var aL,cL=x(()=>{aL=eN});function lN(t){return this.__data__.has(t)}var rL,eL=x(()=>{rL=lN});function oN(t,a){var c=this.__data__;if(c instanceof $5){var r=c.__data__;if(!Q5||r.length<iN-1)return r.push([t,a]),this.size=++c.size,this;c=this.__data__=new n8(r)}return c.set(t,a),this.size=c.size,this}var iN,lL,iL=x(()=>{ha();Fe();Ie();iN=200;lL=oN});function G7(t){var a=this.__data__=new $5(t);this.size=a.size}var T7,jv=x(()=>{ha();YC();tL();cL();eL();iL();G7.prototype.clear=XC;G7.prototype.delete=JC;G7.prototype.get=aL;G7.prototype.has=rL;G7.prototype.set=lL;T7=G7});function nN(t,a){for(var c=-1,r=t==null?0:t.length,e=0,l=[];++c<r;){var i=t[c];a(i,c,t)&&(l[e++]=i)}return l}var oL,nL=x(()=>{oL=nN});function hN(){return[]}var hL,vL=x(()=>{hL=hN});var vN,sN,sL,gN,gL,dL=x(()=>{nL();vL();vN=Object.prototype,sN=vN.propertyIsEnumerable,sL=Object.getOwnPropertySymbols,gN=sL?function(t){return t==null?[]:(t=Object(t),oL(sL(t),function(a){return sN.call(t,a)}))}:hL,gL=gN});function dN(t,a,c){var r=a(t);return o2(t)?r:Te(r,c(t))}var zL,uL=x(()=>{Zv();d3();zL=dN});function zN(t){return zL(t,y7,gL)}var Wv,pL=x(()=>{uL();dL();Re();Wv=zN});var uN,Ee,mL=x(()=>{_5();g3();uN=H0(h2,"DataView"),Ee=uN});var pN,Oe,fL=x(()=>{_5();g3();pN=H0(h2,"Promise"),Oe=pN});var mN,Y5,_v=x(()=>{_5();g3();mN=H0(h2,"Set"),Y5=mN});var ML,fN,xL,CL,LL,HL,MN,xN,CN,LN,HN,v8,qv,VL=x(()=>{mL();Fe();fL();_v();ix();i8();wv();ML="[object Map]",fN="[object Object]",xL="[object Promise]",CL="[object Set]",LL="[object WeakMap]",HL="[object DataView]",MN=J4(Ee),xN=J4(Q5),CN=J4(Oe),LN=J4(Y5),HN=J4(Ce),v8=q0;(Ee&&v8(new Ee(new ArrayBuffer(1)))!=HL||Q5&&v8(new Q5)!=ML||Oe&&v8(Oe.resolve())!=xL||Y5&&v8(new Y5)!=CL||Ce&&v8(new Ce)!=LL)&&(v8=function(t){var a=q0(t),c=a==fN?t.constructor:void 0,r=c?J4(c):"";if(r)switch(r){case MN:return HL;case xN:return ML;case CN:return xL;case LN:return CL;case HN:return LL}return a});qv=v8});var VN,Nv,wL=x(()=>{g3();VN=h2.Uint8Array,Nv=VN});function BN(t){return this.__data__.set(t,wN),this}var wN,BL,yL=x(()=>{wN="__lodash_hash_undefined__";BL=BN});function yN(t){return this.__data__.has(t)}var SL,kL=x(()=>{SL=yN});function Ze(t){var a=-1,c=t==null?0:t.length;for(this.__data__=new n8;++a<c;)this.add(t[a])}var De,Uv=x(()=>{Ie();yL();kL();Ze.prototype.add=Ze.prototype.push=BL;Ze.prototype.has=SL;De=Ze});function SN(t,a){for(var c=-1,r=t==null?0:t.length;++c<r;)if(a(t[c],c,t))return!0;return!1}var AL,RL=x(()=>{AL=SN});function kN(t,a){return t.has(a)}var je,Kv=x(()=>{je=kN});function bN(t,a,c,r,e,l){var i=c&AN,o=t.length,n=a.length;if(o!=n&&!(i&&n>o))return!1;var h=l.get(t),v=l.get(a);if(h&&v)return h==a&&v==t;var g=-1,d=!0,s=c&RN?new De:void 0;for(l.set(t,a),l.set(a,t);++g<o;){var u=t[g],p=a[g];if(r)var z=i?r(p,u,g,a,t,l):r(u,p,g,t,a,l);if(z!==void 0){if(z)continue;d=!1;break}if(s){if(!AL(a,function(m,f){if(!je(s,f)&&(u===m||e(u,m,c,r,l)))return s.push(f)})){d=!1;break}}else if(!(u===p||e(u,p,c,r,l))){d=!1;break}}return l.delete(t),l.delete(a),d}var AN,RN,We,$v=x(()=>{Uv();RL();Kv();AN=1,RN=2;We=bN});function FN(t){var a=-1,c=Array(t.size);return t.forEach(function(r,e){c[++a]=[e,r]}),c}var bL,FL=x(()=>{bL=FN});function IN(t){var a=-1,c=Array(t.size);return t.forEach(function(r){c[++a]=r}),c}var E7,_e=x(()=>{E7=IN});function KN(t,a,c,r,e,l,i){switch(c){case UN:if(t.byteLength!=a.byteLength||t.byteOffset!=a.byteOffset)return!1;t=t.buffer,a=a.buffer;case NN:return!(t.byteLength!=a.byteLength||!l(new Nv(t),new Nv(a)));case TN:case EN:case DN:return N5(+t,+a);case ON:return t.name==a.name&&t.message==a.message;case jN:case _N:return t==a+"";case ZN:var o=bL;case WN:var n=r&PN;if(o||(o=E7),t.size!=a.size&&!n)return!1;var h=i.get(t);if(h)return h==a;r|=GN,i.set(t,a);var v=We(o(t),o(a),r,e,l,i);return i.delete(t),v;case qN:if(Qv)return Qv.call(t)==Qv.call(a)}return!1}var PN,GN,TN,EN,ON,ZN,DN,jN,WN,_N,qN,NN,UN,IL,Qv,PL,GL=x(()=>{f7();wL();ra();$v();FL();_e();PN=1,GN=2,TN="[object Boolean]",EN="[object Date]",ON="[object Error]",ZN="[object Map]",DN="[object Number]",jN="[object RegExp]",WN="[object Set]",_N="[object String]",qN="[object Symbol]",NN="[object ArrayBuffer]",UN="[object DataView]",IL=u0?u0.prototype:void 0,Qv=IL?IL.valueOf:void 0;PL=KN});function YN(t,a,c,r,e,l){var i=c&$N,o=Wv(t),n=o.length,h=Wv(a),v=h.length;if(n!=v&&!i)return!1;for(var g=n;g--;){var d=o[g];if(!(i?d in a:XN.call(a,d)))return!1}var s=l.get(t),u=l.get(a);if(s&&u)return s==a&&u==t;var p=!0;l.set(t,a),l.set(a,t);for(var z=i;++g<n;){d=o[g];var m=t[d],f=a[d];if(r)var M=i?r(f,m,d,a,t,l):r(m,f,d,t,a,l);if(!(M===void 0?m===f||e(m,f,c,r,l):M)){p=!1;break}z||(z=d=="constructor")}if(p&&!z){var H=t.constructor,w=a.constructor;H!=w&&"constructor"in t&&"constructor"in a&&!(typeof H=="function"&&H instanceof H&&typeof w=="function"&&w instanceof w)&&(p=!1)}return l.delete(t),l.delete(a),p}var $N,QN,XN,TL,EL=x(()=>{pL();$N=1,QN=Object.prototype,XN=QN.hasOwnProperty;TL=YN});function aU(t,a,c,r,e,l){var i=o2(t),o=o2(a),n=i?ZL:qv(t),h=o?ZL:qv(a);n=n==OL?qe:n,h=h==OL?qe:h;var v=n==qe,g=h==qe,d=n==h;if(d&&la(t)){if(!la(a))return!1;i=!0,v=!1}if(d&&!v)return l||(l=new T7),i||ke(t)?We(t,a,c,r,e,l):PL(t,a,n,c,r,e,l);if(!(c&JN)){var s=v&&DL.call(t,"__wrapped__"),u=g&&DL.call(a,"__wrapped__");if(s||u){var p=s?t.value():t,z=u?a.value():a;return l||(l=new T7),e(p,z,c,r,l)}}return d?(l||(l=new T7),TL(t,a,c,r,e,l)):!1}var JN,OL,ZL,qe,tU,DL,jL,WL=x(()=>{jv();$v();GL();EL();VL();d3();Rv();Iv();JN=1,OL="[object Arguments]",ZL="[object Array]",qe="[object Object]",tU=Object.prototype,DL=tU.hasOwnProperty;jL=aU});function _L(t,a,c,r,e){return t===a?!0:t==null||a==null||!N0(t)&&!N0(a)?t!==t&&a!==a:jL(t,a,c,r,_L,e)}var Ne,Xv=x(()=>{WL();o8();Ne=_L});function eU(t,a,c,r){var e=c.length,l=e,i=!r;if(t==null)return!l;for(t=Object(t);e--;){var o=c[e];if(i&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++e<l;){o=c[e];var n=o[0],h=t[n],v=o[1];if(i&&o[2]){if(h===void 0&&!(n in t))return!1}else{var g=new T7;if(r)var d=r(h,v,n,t,a,g);if(!(d===void 0?Ne(v,h,cU|rU,r,g):d))return!1}}return!0}var cU,rU,qL,NL=x(()=>{jv();Xv();cU=1,rU=2;qL=eU});function lU(t){return t===t&&!c0(t)}var Ue,Yv=x(()=>{D5();Ue=lU});function iU(t){for(var a=y7(t),c=a.length;c--;){var r=a[c],e=t[r];a[c]=[r,e,Ue(e)]}return a}var UL,KL=x(()=>{Yv();Re();UL=iU});function oU(t,a){return function(c){return c==null?!1:c[t]===a&&(a!==void 0||t in Object(c))}}var Ke,Jv=x(()=>{Ke=oU});function nU(t){var a=UL(t);return a.length==1&&a[0][2]?Ke(a[0][0],a[0][1]):function(c){return c===t||qL(c,t,a)}}var $L,QL=x(()=>{NL();KL();Jv();$L=nU});function hU(t,a){return t!=null&&a in Object(t)}var XL,YL=x(()=>{XL=hU});function vU(t,a,c){a=b7(a,t);for(var r=-1,e=a.length,l=!1;++r<e;){var i=g4(a[r]);if(!(l=t!=null&&c(t,i)))break;t=t[i]}return l||++r!=e?l:(e=t==null?0:t.length,!!e&&V7(e)&&q5(i,e)&&(o2(t)||w7(t)))}var JL,tH=x(()=>{Pe();ye();d3();ca();Be();F7();JL=vU});function sU(t,a){return t!=null&&JL(t,a,XL)}var aH,cH=x(()=>{YL();tH();aH=sU});function zU(t,a){return S7(t)&&Ue(a)?Ke(g4(t),a):function(c){var r=E3(c,t);return r===void 0&&r===a?aH(c,t):Ne(a,r,gU|dU)}}var gU,dU,rH,eH=x(()=>{Xv();P7();cH();be();Yv();Jv();F7();gU=1,dU=2;rH=zU});function uU(t){return function(a){return a==null?void 0:a[t]}}var lH,iH=x(()=>{lH=uU});function pU(t){return function(a){return I7(a,t)}}var oH,nH=x(()=>{Ge();oH=pU});function mU(t){return S7(t)?lH(g4(t)):oH(t)}var hH,vH=x(()=>{iH();nH();be();F7();hH=mU});function fU(t){return typeof t=="function"?t:t==null?W5:typeof t=="object"?o2(t)?rH(t[0],t[1]):$L(t):hH(t)}var d4,O7=x(()=>{QL();eH();aa();d3();vH();d4=fU});function MU(t,a,c,r){for(var e=-1,l=t==null?0:t.length;++e<l;){var i=t[e];a(r,i,c(i),t)}return r}var sH,gH=x(()=>{sH=MU});function xU(t){return function(a,c,r){for(var e=-1,l=Object(a),i=r(a),o=i.length;o--;){var n=i[t?o:++e];if(c(l[n],n,l)===!1)break}return a}}var dH,zH=x(()=>{dH=xU});var CU,uH,pH=x(()=>{zH();CU=dH(),uH=CU});function LU(t,a){return t&&uH(t,a,y7)}var $e,ts=x(()=>{pH();Re();$e=LU});function HU(t,a){return function(c,r){if(c==null)return c;if(!U5(c))return t(c,r);for(var e=c.length,l=a?e:-1,i=Object(c);(a?l--:++l<e)&&r(i[l],l,i)!==!1;);return c}}var mH,fH=x(()=>{ea();mH=HU});var VU,Qe,as=x(()=>{ts();fH();VU=mH($e),Qe=VU});function wU(t,a,c,r){return Qe(t,function(e,l,i){a(r,e,c(e),i)}),r}var MH,xH=x(()=>{as();MH=wU});function BU(t,a){return function(c,r){var e=o2(c)?sH:MH,l=a?a():{};return e(c,t,d4(r,2),l)}}var CH,LH=x(()=>{gH();xH();O7();d3();CH=BU});var yU,Xe,HH=x(()=>{g3();yU=function(){return h2.Date.now()},Xe=yU});function RU(t,a,c){var r,e,l,i,o,n,h=0,v=!1,g=!1,d=!0;if(typeof t!="function")throw new TypeError(SU);a=U0(a)||0,c0(c)&&(v=!!c.leading,g="maxWait"in c,l=g?kU(U0(c.maxWait)||0,a):l,d="trailing"in c?!!c.trailing:d);function s(B){var k=r,I=e;return r=e=void 0,h=B,i=t.apply(I,k),i}function u(B){return h=B,o=setTimeout(m,a),v?s(B):i}function p(B){var k=B-n,I=B-h,j=a-k;return g?AU(j,l-I):j}function z(B){var k=B-n,I=B-h;return n===void 0||k>=a||k<0||g&&I>=l}function m(){var B=Xe();if(z(B))return f(B);o=setTimeout(m,p(B))}function f(B){return o=void 0,d&&r?s(B):(r=e=void 0,i)}function M(){o!==void 0&&clearTimeout(o),h=0,r=n=e=o=void 0}function H(){return o===void 0?i:f(Xe())}function w(){var B=Xe(),k=z(B);if(r=arguments,e=this,n=B,k){if(o===void 0)return u(n);if(g)return clearTimeout(o),o=setTimeout(m,a),s(n)}return o===void 0&&(o=setTimeout(m,a)),i}return w.cancel=M,w.flush=H,w}var SU,kU,AU,za,cs=x(()=>{D5();HH();x7();SU="Expected a function",kU=Math.max,AU=Math.min;za=RU});function bU(t,a,c){for(var r=-1,e=t==null?0:t.length;++r<e;)if(c(a,t[r]))return!0;return!1}var VH,wH=x(()=>{VH=bU});function IU(t,a,c){var r=t==null?0:t.length;if(!r)return-1;var e=c==null?0:j5(c);return e<0&&(e=FU(r+e,0)),L7(t,d4(a,3),e)}var FU,Ye,BH=x(()=>{Le();O7();ta();FU=Math.max;Ye=IU});function TU(t,a,c){var r=t==null?0:t.length;if(!r)return-1;var e=r-1;return c!==void 0&&(e=j5(c),e=c<0?PU(r+e,0):GU(e,r-1)),L7(t,d4(a,3),e,!0)}var PU,GU,yH,SH=x(()=>{Le();O7();ta();PU=Math.max,GU=Math.min;yH=TU});function EU(t,a){var c=-1,r=U5(t)?Array(t.length):[];return Qe(t,function(e,l,i){r[++c]=a(e,l,i)}),r}var kH,AH=x(()=>{as();ea();kH=EU});function DU(t,a,c){return t>=ZU(a,c)&&t<OU(a,c)}var OU,ZU,RH,bH=x(()=>{OU=Math.max,ZU=Math.min;RH=DU});function jU(t,a,c){return a=Jt(a),c===void 0?(c=a,a=0):c=Jt(c),t=U0(t),RH(t,a,c)}var Je,FH=x(()=>{bH();Hv();x7();Je=jU});function WU(t){return typeof t=="number"&&t==j5(t)}var rs,IH=x(()=>{ta();rs=WU});var _U,ua,PH=x(()=>{Ve();LH();_U=CH(function(t,a,c){H7(t,c,a)}),ua=_U});function qU(t,a){var c={};return a=d4(a,3),$e(t,function(r,e,l){H7(c,e,a(r,e,l))}),c}var a5,es=x(()=>{Ve();ts();O7();a5=qU});function NU(t,a,c,r){if(!c0(t))return t;a=b7(a,t);for(var e=-1,l=a.length,i=l-1,o=t;o!=null&&++e<l;){var n=g4(a[e]),h=c;if(n==="__proto__"||n==="constructor"||n==="prototype")return t;if(e!=i){var v=o[n];h=r?r(v,n,o):void 0,h===void 0&&(h=c0(v)?v:q5(a[e+1])?[]:{})}yx(o,n,h),o=o[n]}return t}var GH,TH=x(()=>{Sx();Pe();ca();D5();F7();GH=NU});function UU(t,a){var c=t.length;for(t.sort(a);c--;)t[c]=t[c].value;return t}var EH,OH=x(()=>{EH=UU});function KU(t,a){if(t!==a){var c=t!==void 0,r=t===null,e=t===t,l=T3(t),i=a!==void 0,o=a===null,n=a===a,h=T3(a);if(!o&&!h&&!l&&t>a||l&&i&&n&&!o&&!h||r&&i&&n||!c&&n||!e)return 1;if(!r&&!l&&!h&&t<a||h&&c&&e&&!r&&!l||o&&c&&e||!i&&e||!n)return-1}return 0}var ZH,DH=x(()=>{M7();ZH=KU});function $U(t,a,c){for(var r=-1,e=t.criteria,l=a.criteria,i=e.length,o=c.length;++r<i;){var n=ZH(e[r],l[r]);if(n){if(r>=o)return n;var h=c[r];return n*(h=="desc"?-1:1)}}return t.index-a.index}var jH,WH=x(()=>{DH();jH=$U});function QU(t,a,c){a.length?a=Z5(a,function(l){return o2(l)?function(i){return I7(i,l.length===1?l[0]:l)}:l}):a=[W5];var r=-1;a=Z5(a,B7(d4));var e=kH(t,function(l,i,o){var n=Z5(a,function(h){return h(l)});return{criteria:n,index:++r,value:l}});return EH(e,function(l,i){return jH(l,i,c)})}var _H,qH=x(()=>{fe();Ge();O7();AH();OH();Se();WH();aa();d3();_H=QU});function XU(t,a,c,r){for(var e=c-1,l=t.length;++e<l;)if(r(t[e],a))return e;return-1}var NH,UH=x(()=>{NH=XU});function JU(t,a,c,r){var e=r?NH:He,l=-1,i=a.length,o=t;for(t===a&&(a=sx(a)),c&&(o=Z5(t,B7(c)));++l<i;)for(var n=0,h=a[l],v=c?c(h):h;(n=e(o,v,n,r))>-1;)o!==t&&KH.call(o,n,1),KH.call(t,n,1);return t}var YU,KH,$H,QH=x(()=>{fe();yv();UH();Se();gx();YU=Array.prototype,KH=YU.splice;$H=JU});function tK(t,a){return t&&t.length&&a&&a.length?$H(t,a):t}var XH,YH=x(()=>{QH();XH=tK});var aK,JH,tV=x(()=>{Sv();YH();aK=we(XH),JH=aK});var cK,ls,aV=x(()=>{KC();cK=UC("round"),ls=cK});function rK(t,a,c){return t==null?t:GH(t,a,c)}var J5,tl=x(()=>{TH();J5=rK});var eK,cV,rV=x(()=>{WC();qH();Sv();bx();eK=we(function(t,a){if(t==null)return[];var c=a.length;return c>1&&kv(t,a[0],a[1])?a=[]:c>2&&kv(a[0],a[1],a[2])&&(a=[a[0]]),_H(t,jC(a,1),[])}),cV=eK});var lK,iK,eV,lV=x(()=>{_v();vx();_e();lK=1/0,iK=Y5&&1/E7(new Y5([,-0]))[1]==lK?function(t){return new Y5(t)}:hx,eV=iK});function nK(t,a,c){var r=-1,e=wx,l=t.length,i=!0,o=[],n=o;if(c)i=!1,e=VH;else if(l>=oK){var h=a?null:eV(t);if(h)return E7(h);i=!1,e=je,n=new De}else n=a?[]:o;t:for(;++r<l;){var v=t[r],g=a?a(v):v;if(v=c||v!==0?v:0,i&&g===g){for(var d=n.length;d--;)if(n[d]===g)continue t;a&&n.push(g),o.push(v)}else e(n,g,c)||(n!==o&&n.push(g),o.push(v))}return o}var oK,iV,oV=x(()=>{Uv();Bx();wH();Kv();lV();_e();oK=200;iV=nK});function hK(t){return t&&t.length?iV(t):[]}var z3,nV=x(()=>{oV();z3=hK});var C2=x(()=>{da();cs();BH();FH();IH();Dv();Kt();es();Ev();aV();nV();});function s8(t){return JSON.stringify(is(t))}function is(t){return h8(t)?Object.keys(t).sort().reduce((a,c)=>(a[c]=is(t[c]),a),{}):Array.isArray(t)?t.map(is):t}var hV=x(()=>{C2()});var vK,Z7,os=x(()=>{vK="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Z7=(t=21)=>{let a="",c=t;for(;c--;)a+=vK[Math.random()*64|0];return a}});function ns(){return Z7(10)}function vV(){return Z7(10)}function sV(){return Z7(10)}var t2,z4=x(()=>{hV();os();t2={forSheet(){return"sheet"},forSheetObject(t){return s8({o:t.address.objectKey})},forSheetObjectProp(t,a){return s8({o:t.address.objectKey,p:a})},forTrackKeyframe(t,a,c){return s8({o:t.address.objectKey,t:a,k:c})},forSheetObjectAggregateKeyframe(t,a){return t2.forCompoundPropAggregateKeyframe(t,[],a)},forSheetAggregateKeyframe(t,a){return s8({o:t.address.sheetId,pos:a})},forCompoundPropAggregateKeyframe(t,a,c){return s8({o:t.address.objectKey,p:a,pos:c})}}});function Q0(t,a){return a.length===0?t:E3(t,a)}var Ma=x(()=>{P7()});var wV=L1((Fh1,VV)=>{var HV;VV.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(HV||(HV=Promise.resolve())).then(t).catch(a=>setTimeout(()=>{throw a},0))});var Vs=L1((Ih1,yV)=>{"use strict";var BV=Object.getOwnPropertySymbols,CK=Object.prototype.hasOwnProperty,LK=Object.prototype.propertyIsEnumerable;function HK(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function VK(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var a={},c=0;c<10;c++)a["_"+String.fromCharCode(c)]=c;var r=Object.getOwnPropertyNames(a).map(function(l){return a[l]});if(r.join("")!=="0123456789")return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(l){e[l]=l}),Object.keys(Object.assign({},e)).join("")==="abcdefghijklmnopqrst"}catch(l){return!1}}yV.exports=VK()?Object.assign:function(t,a){for(var c,r=HK(t),e,l=1;l<arguments.length;l++){c=Object(arguments[l]);for(var i in c)CK.call(c,i)&&(r[i]=c[i]);if(BV){e=BV(c);for(var o=0;o<e.length;o++)LK.call(c,e[o])&&(r[e[o]]=c[e[o]])}}return r}});var WV=L1(T1=>{"use strict";var ws=Vs(),W7=60103,SV=60106;T1.Fragment=60107;T1.StrictMode=60108;T1.Profiler=60114;var kV=60109,AV=60110,RV=60112;T1.Suspense=60113;var bV=60115,FV=60116;typeof Symbol=="function"&&Symbol.for&&(u3=Symbol.for,W7=u3("react.element"),SV=u3("react.portal"),T1.Fragment=u3("react.fragment"),T1.StrictMode=u3("react.strict_mode"),T1.Profiler=u3("react.profiler"),kV=u3("react.provider"),AV=u3("react.context"),RV=u3("react.forward_ref"),T1.Suspense=u3("react.suspense"),bV=u3("react.memo"),FV=u3("react.lazy"));var u3,IV=typeof Symbol=="function"&&Symbol.iterator;function wK(t){return t===null||typeof t!="object"?null:(t=IV&&t[IV]||t["@@iterator"],typeof t=="function"?t:null)}function xa(t){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GV={};function _7(t,a,c){this.props=t,this.context=a,this.refs=GV,this.updater=c||PV}_7.prototype.isReactComponent={};_7.prototype.setState=function(t,a){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(xa(85));this.updater.enqueueSetState(this,t,a,"setState")};_7.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TV(){}TV.prototype=_7.prototype;function Bs(t,a,c){this.props=t,this.context=a,this.refs=GV,this.updater=c||PV}var ys=Bs.prototype=new TV;ys.constructor=Bs;ws(ys,_7.prototype);ys.isPureReactComponent=!0;var Ss={current:null},EV=Object.prototype.hasOwnProperty,OV={key:!0,ref:!0,__self:!0,__source:!0};function ZV(t,a,c){var r,e={},l=null,i=null;if(a!=null)for(r in a.ref!==void 0&&(i=a.ref),a.key!==void 0&&(l=""+a.key),a)EV.call(a,r)&&!OV.hasOwnProperty(r)&&(e[r]=a[r]);var o=arguments.length-2;if(o===1)e.children=c;else if(1<o){for(var n=Array(o),h=0;h<o;h++)n[h]=arguments[h+2];e.children=n}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)e[r]===void 0&&(e[r]=o[r]);return{$$typeof:W7,type:t,key:l,ref:i,props:e,_owner:Ss.current}}function BK(t,a){return{$$typeof:W7,type:t.type,key:a,ref:t.ref,props:t.props,_owner:t._owner}}function ks(t){return typeof t=="object"&&t!==null&&t.$$typeof===W7}function yK(t){var a={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(c){return a[c]})}var DV=/\/+/g;function As(t,a){return typeof t=="object"&&t!==null&&t.key!=null?yK(""+t.key):a.toString(36)}function hl(t,a,c,r,e){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case W7:case SV:i=!0}}if(i)return i=t,e=e(i),t=r===""?"."+As(i,0):r,Array.isArray(e)?(c="",t!=null&&(c=t.replace(DV,"$&/")+"/"),hl(e,a,c,"",function(h){return h})):e!=null&&(ks(e)&&(e=BK(e,c+(!e.key||i&&i.key===e.key?"":(""+e.key).replace(DV,"$&/")+"/")+t)),a.push(e)),1;if(i=0,r=r===""?".":r+":",Array.isArray(t))for(var o=0;o<t.length;o++){l=t[o];var n=r+As(l,o);i+=hl(l,a,c,n,e)}else if(n=wK(t),typeof n=="function")for(t=n.call(t),o=0;!(l=t.next()).done;)l=l.value,n=r+As(l,o++),i+=hl(l,a,c,n,e);else if(l==="object")throw a=""+t,Error(xa(31,a==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":a));return i}function vl(t,a,c){if(t==null)return t;var r=[],e=0;return hl(t,r,"","",function(l){return a.call(c,l,e++)}),r}function SK(t){if(t._status===-1){var a=t._result;a=a(),t._status=0,t._result=a,a.then(function(c){t._status===0&&(c=c.default,t._status=1,t._result=c)},function(c){t._status===0&&(t._status=2,t._result=c)})}if(t._status===1)return t._result;throw t._result}var jV={current:null};function r5(){var t=jV.current;if(t===null)throw Error(xa(321));return t}var kK={ReactCurrentDispatcher:jV,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Ss,IsSomeRendererActing:{current:!1},assign:ws};T1.Children={map:vl,forEach:function(t,a,c){vl(t,function(){a.apply(this,arguments)},c)},count:function(t){var a=0;return vl(t,function(){a++}),a},toArray:function(t){return vl(t,function(a){return a})||[]},only:function(t){if(!ks(t))throw Error(xa(143));return t}};T1.Component=_7;T1.PureComponent=Bs;T1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kK;T1.cloneElement=function(t,a,c){if(t==null)throw Error(xa(267,t));var r=ws({},t.props),e=t.key,l=t.ref,i=t._owner;if(a!=null){if(a.ref!==void 0&&(l=a.ref,i=Ss.current),a.key!==void 0&&(e=""+a.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(n in a)EV.call(a,n)&&!OV.hasOwnProperty(n)&&(r[n]=a[n]===void 0&&o!==void 0?o[n]:a[n])}var n=arguments.length-2;if(n===1)r.children=c;else if(1<n){o=Array(n);for(var h=0;h<n;h++)o[h]=arguments[h+2];r.children=o}return{$$typeof:W7,type:t.type,key:e,ref:l,props:r,_owner:i}};T1.createContext=function(t,a){return a===void 0&&(a=null),t={$$typeof:AV,_calculateChangedBits:a,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:kV,_context:t},t.Consumer=t};T1.createElement=ZV;T1.createFactory=function(t){var a=ZV.bind(null,t);return a.type=t,a};T1.createRef=function(){return{current:null}};T1.forwardRef=function(t){return{$$typeof:RV,render:t}};T1.isValidElement=ks;T1.lazy=function(t){return{$$typeof:FV,_payload:{_status:-1,_result:t},_init:SK}};T1.memo=function(t,a){return{$$typeof:bV,type:t,compare:a===void 0?null:a}};T1.useCallback=function(t,a){return r5().useCallback(t,a)};T1.useContext=function(t,a){return r5().useContext(t,a)};T1.useDebugValue=function(){};T1.useEffect=function(t,a){return r5().useEffect(t,a)};T1.useImperativeHandle=function(t,a,c){return r5().useImperativeHandle(t,a,c)};T1.useLayoutEffect=function(t,a){return r5().useLayoutEffect(t,a)};T1.useMemo=function(t,a){return r5().useMemo(t,a)};T1.useReducer=function(t,a,c){return r5().useReducer(t,a,c)};T1.useRef=function(t){return r5().useRef(t)};T1.useState=function(t){return r5().useState(t)};T1.version="17.0.2"});var P=L1((Gh1,_V)=>{"use strict";_V.exports=WV()});var QV=L1(Z1=>{"use strict";var q7,Ca,sl,Rs;typeof performance=="object"&&typeof performance.now=="function"?(qV=performance,Z1.unstable_now=function(){return qV.now()}):(bs=Date,NV=bs.now(),Z1.unstable_now=function(){return bs.now()-NV});var qV,bs,NV;typeof window=="undefined"||typeof MessageChannel!="function"?(N7=null,Fs=null,Is=function(){if(N7!==null)try{var t=Z1.unstable_now();N7(!0,t),N7=null}catch(a){throw setTimeout(Is,0),a}},q7=function(t){N7!==null?setTimeout(q7,0,t):(N7=t,setTimeout(Is,0))},Ca=function(t,a){Fs=setTimeout(t,a)},sl=function(){clearTimeout(Fs)},Z1.unstable_shouldYield=function(){return!1},Rs=Z1.unstable_forceFrameRate=function(){}):(UV=window.setTimeout,KV=window.clearTimeout,typeof console!="undefined"&&($V=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof $V!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),La=!1,Ha=null,gl=-1,Ps=5,Gs=0,Z1.unstable_shouldYield=function(){return Z1.unstable_now()>=Gs},Rs=function(){},Z1.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ps=0<t?Math.floor(1e3/t):5},Ts=new MessageChannel,dl=Ts.port2,Ts.port1.onmessage=function(){if(Ha!==null){var t=Z1.unstable_now();Gs=t+Ps;try{Ha(!0,t)?dl.postMessage(null):(La=!1,Ha=null)}catch(a){throw dl.postMessage(null),a}}else La=!1},q7=function(t){Ha=t,La||(La=!0,dl.postMessage(null))},Ca=function(t,a){gl=UV(function(){t(Z1.unstable_now())},a)},sl=function(){KV(gl),gl=-1});var N7,Fs,Is,UV,KV,$V,La,Ha,gl,Ps,Gs,Ts,dl;function Es(t,a){var c=t.length;t.push(a);t:for(;;){var r=c-1>>>1,e=t[r];if(e!==void 0&&0<ul(e,a))t[r]=a,t[c]=e,c=r;else break t}}function Z3(t){return t=t[0],t===void 0?null:t}function zl(t){var a=t[0];if(a!==void 0){var c=t.pop();if(c!==a){t[0]=c;t:for(var r=0,e=t.length;r<e;){var l=2*(r+1)-1,i=t[l],o=l+1,n=t[o];if(i!==void 0&&0>ul(i,c))n!==void 0&&0>ul(n,i)?(t[r]=n,t[o]=c,r=o):(t[r]=i,t[l]=c,r=l);else if(n!==void 0&&0>ul(n,c))t[r]=n,t[o]=c,r=o;else break t}}return a}return null}function ul(t,a){var c=t.sortIndex-a.sortIndex;return c!==0?c:t.id-a.id}var u4=[],t6=[],AK=1,p3=null,r0=3,pl=!1,z8=!1,Va=!1;function Os(t){for(var a=Z3(t6);a!==null;){if(a.callback===null)zl(t6);else if(a.startTime<=t)zl(t6),a.sortIndex=a.expirationTime,Es(u4,a);else break;a=Z3(t6)}}function Zs(t){if(Va=!1,Os(t),!z8)if(Z3(u4)!==null)z8=!0,q7(Ds);else{var a=Z3(t6);a!==null&&Ca(Zs,a.startTime-t)}}function Ds(t,a){z8=!1,Va&&(Va=!1,sl()),pl=!0;var c=r0;try{for(Os(a),p3=Z3(u4);p3!==null&&(!(p3.expirationTime>a)||t&&!Z1.unstable_shouldYield());){var r=p3.callback;if(typeof r=="function"){p3.callback=null,r0=p3.priorityLevel;var e=r(p3.expirationTime<=a);a=Z1.unstable_now(),typeof e=="function"?p3.callback=e:p3===Z3(u4)&&zl(u4),Os(a)}else zl(u4);p3=Z3(u4)}if(p3!==null)var l=!0;else{var i=Z3(t6);i!==null&&Ca(Zs,i.startTime-a),l=!1}return l}finally{p3=null,r0=c,pl=!1}}var RK=Rs;Z1.unstable_IdlePriority=5;Z1.unstable_ImmediatePriority=1;Z1.unstable_LowPriority=4;Z1.unstable_NormalPriority=3;Z1.unstable_Profiling=null;Z1.unstable_UserBlockingPriority=2;Z1.unstable_cancelCallback=function(t){t.callback=null};Z1.unstable_continueExecution=function(){z8||pl||(z8=!0,q7(Ds))};Z1.unstable_getCurrentPriorityLevel=function(){return r0};Z1.unstable_getFirstCallbackNode=function(){return Z3(u4)};Z1.unstable_next=function(t){switch(r0){case 1:case 2:case 3:var a=3;break;default:a=r0}var c=r0;r0=a;try{return t()}finally{r0=c}};Z1.unstable_pauseExecution=function(){};Z1.unstable_requestPaint=RK;Z1.unstable_runWithPriority=function(t,a){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var c=r0;r0=t;try{return a()}finally{r0=c}};Z1.unstable_scheduleCallback=function(t,a,c){var r=Z1.unstable_now();switch(typeof c=="object"&&c!==null?(c=c.delay,c=typeof c=="number"&&0<c?r+c:r):c=r,t){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}return e=c+e,t={id:AK++,callback:a,priorityLevel:t,startTime:c,expirationTime:e,sortIndex:-1},c>r?(t.sortIndex=c,Es(t6,t),Z3(u4)===null&&t===Z3(t6)&&(Va?sl():Va=!0,Ca(Zs,c-r))):(t.sortIndex=e,Es(u4,t),z8||pl||(z8=!0,q7(Ds))),t};Z1.unstable_wrapCallback=function(t){var a=r0;return function(){var c=r0;r0=a;try{return t.apply(this,arguments)}finally{r0=c}}}});var YV=L1((Eh1,XV)=>{"use strict";XV.exports=QV()});var Oy=L1(L3=>{"use strict";var ml=P(),e2=Vs(),A2=YV();function n1(t){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ml)throw Error(n1(227));var JV=new Set,wa={};function u8(t,a){U7(t,a),U7(t+"Capture",a)}function U7(t,a){for(wa[t]=a,t=0;t<a.length;t++)JV.add(a[t])}var e5=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tw=Object.prototype.hasOwnProperty,aw={},cw={};function FK(t){return tw.call(cw,t)?!0:tw.call(aw,t)?!1:bK.test(t)?cw[t]=!0:(aw[t]=!0,!1)}function IK(t,a,c,r){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return r?!1:c!==null?!c.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PK(t,a,c,r){if(a===null||typeof a=="undefined"||IK(t,a,c,r))return!0;if(r)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function p0(t,a,c,r,e,l,i){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=r,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=t,this.type=a,this.sanitizeURL=l,this.removeEmptyString=i}var W2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W2[t]=new p0(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var a=t[0];W2[a]=new p0(a,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){W2[t]=new p0(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W2[t]=new p0(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W2[t]=new p0(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){W2[t]=new p0(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){W2[t]=new p0(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){W2[t]=new p0(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){W2[t]=new p0(t,5,!1,t.toLowerCase(),null,!1,!1)});var js=/[\-:]([a-z])/g;function Ws(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var a=t.replace(js,Ws);W2[a]=new p0(a,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var a=t.replace(js,Ws);W2[a]=new p0(a,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var a=t.replace(js,Ws);W2[a]=new p0(a,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){W2[t]=new p0(t,1,!1,t.toLowerCase(),null,!1,!1)});W2.xlinkHref=new p0("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){W2[t]=new p0(t,1,!1,t.toLowerCase(),null,!0,!0)});function _s(t,a,c,r){var e=W2.hasOwnProperty(a)?W2[a]:null,l=e!==null?e.type===0:r?!1:!(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N");l||(PK(a,c,e,r)&&(c=null),r||e===null?FK(a)&&(c===null?t.removeAttribute(a):t.setAttribute(a,""+c)):e.mustUseProperty?t[e.propertyName]=c===null?e.type===3?!1:"":c:(a=e.attributeName,r=e.attributeNamespace,c===null?t.removeAttribute(a):(e=e.type,c=e===3||e===4&&c===!0?"":""+c,r?t.setAttributeNS(r,a,c):t.setAttribute(a,c))))}var p8=ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=60103,m8=60106,a6=60107,qs=60108,ya=60114,Ns=60109,Us=60110,fl=60112,Sa=60113,Ml=60120,xl=60115,Ks=60116,$s=60121,Qs=60128,rw=60129,Xs=60130,Ys=60131;typeof Symbol=="function"&&Symbol.for&&(B2=Symbol.for,Ba=B2("react.element"),m8=B2("react.portal"),a6=B2("react.fragment"),qs=B2("react.strict_mode"),ya=B2("react.profiler"),Ns=B2("react.provider"),Us=B2("react.context"),fl=B2("react.forward_ref"),Sa=B2("react.suspense"),Ml=B2("react.suspense_list"),xl=B2("react.memo"),Ks=B2("react.lazy"),$s=B2("react.block"),B2("react.scope"),Qs=B2("react.opaque.id"),rw=B2("react.debug_trace_mode"),Xs=B2("react.offscreen"),Ys=B2("react.legacy_hidden"));var B2,ew=typeof Symbol=="function"&&Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var Js;function Aa(t){if(Js===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Js=a&&a[1]||""}return`
`+Js+t}var tg=!1;function Cl(t,a){if(!t||tg)return"";tg=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(n){var r=n}Reflect.construct(t,[],a)}else{try{a.call()}catch(n){r=n}t.call(a.prototype)}else{try{throw Error()}catch(n){r=n}t()}}catch(n){if(n&&r&&typeof n.stack=="string"){for(var e=n.stack.split(`
`),l=r.stack.split(`
`),i=e.length-1,o=l.length-1;1<=i&&0<=o&&e[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(e[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||e[i]!==l[o])return`
`+e[i].replace(" at new "," at ");while(1<=i&&0<=o);break}}}finally{tg=!1,Error.prepareStackTrace=c}return(t=t?t.displayName||t.name:"")?Aa(t):""}function GK(t){switch(t.tag){case 5:return Aa(t.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return t=Cl(t.type,!1),t;case 11:return t=Cl(t.type.render,!1),t;case 22:return t=Cl(t.type._render,!1),t;case 1:return t=Cl(t.type,!0),t;default:return""}}function K7(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case a6:return"Fragment";case m8:return"Portal";case ya:return"Profiler";case qs:return"StrictMode";case Sa:return"Suspense";case Ml:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Us:return(t.displayName||"Context")+".Consumer";case Ns:return(t._context.displayName||"Context")+".Provider";case fl:var a=t.render;return a=a.displayName||a.name||"",t.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case xl:return K7(t.type);case $s:return K7(t._render);case Ks:a=t._payload,t=t._init;try{return K7(t(a))}catch(c){}}return null}function c6(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function lw(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function TK(t){var a=lw(t)?"checked":"value",c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),r=""+t[a];if(!t.hasOwnProperty(a)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var e=c.get,l=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return e.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ll(t){t._valueTracker||(t._valueTracker=TK(t))}function iw(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var c=a.getValue(),r="";return t&&(r=lw(t)?t.checked?"true":"false":t.value),t=r,t!==c?(a.setValue(t),!0):!1}function Hl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(a){return t.body}}function ag(t,a){var c=a.checked;return e2({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c!=null?c:t._wrapperState.initialChecked})}function ow(t,a){var c=a.defaultValue==null?"":a.defaultValue,r=a.checked!=null?a.checked:a.defaultChecked;c=c6(a.value!=null?a.value:c),t._wrapperState={initialChecked:r,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function nw(t,a){a=a.checked,a!=null&&_s(t,"checked",a,!1)}function cg(t,a){nw(t,a);var c=c6(a.value),r=a.type;if(c!=null)r==="number"?(c===0&&t.value===""||t.value!=c)&&(t.value=""+c):t.value!==""+c&&(t.value=""+c);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}a.hasOwnProperty("value")?rg(t,a.type,c):a.hasOwnProperty("defaultValue")&&rg(t,a.type,c6(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(t.defaultChecked=!!a.defaultChecked)}function hw(t,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var r=a.type;if(!(r!=="submit"&&r!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+t._wrapperState.initialValue,c||a===t.value||(t.value=a),t.defaultValue=a}c=t.name,c!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,c!==""&&(t.name=c)}function rg(t,a,c){(a!=="number"||Hl(t.ownerDocument)!==t)&&(c==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+c&&(t.defaultValue=""+c))}function EK(t){var a="";return ml.Children.forEach(t,function(c){c!=null&&(a+=c)}),a}function eg(t,a){return t=e2({children:void 0},a),(a=EK(a.children))&&(t.children=a),t}function $7(t,a,c,r){if(t=t.options,a){a={};for(var e=0;e<c.length;e++)a["$"+c[e]]=!0;for(c=0;c<t.length;c++)e=a.hasOwnProperty("$"+t[c].value),t[c].selected!==e&&(t[c].selected=e),e&&r&&(t[c].defaultSelected=!0)}else{for(c=""+c6(c),a=null,e=0;e<t.length;e++){if(t[e].value===c){t[e].selected=!0,r&&(t[e].defaultSelected=!0);return}a!==null||t[e].disabled||(a=t[e])}a!==null&&(a.selected=!0)}}function lg(t,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n1(91));return e2({},a,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vw(t,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n1(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(n1(93));c=c[0]}a=c}a==null&&(a=""),c=a}t._wrapperState={initialValue:c6(c)}}function sw(t,a){var c=c6(a.value),r=c6(a.defaultValue);c!=null&&(c=""+c,c!==t.value&&(t.value=c),a.defaultValue==null&&t.defaultValue!==c&&(t.defaultValue=c)),r!=null&&(t.defaultValue=""+r)}function gw(t){var a=t.textContent;a===t._wrapperState.initialValue&&a!==""&&a!==null&&(t.value=a)}var ig={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,a){return t==null||t==="http://www.w3.org/1999/xhtml"?dw(a):t==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vl,zw=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,c,r,e){MSApp.execUnsafeLocalFunction(function(){return t(a,c,r,e)})}:t}(function(t,a){if(t.namespaceURI!==ig.svg||"innerHTML"in t)t.innerHTML=a;else{for(Vl=Vl||document.createElement("div"),Vl.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;a.firstChild;)t.appendChild(a.firstChild)}});function Ra(t,a){if(a){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=a;return}}t.textContent=a}var ba={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OK=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){OK.forEach(function(a){a=a+t.charAt(0).toUpperCase()+t.substring(1),ba[a]=ba[t]})});function uw(t,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||ba.hasOwnProperty(t)&&ba[t]?(""+a).trim():a+"px"}function pw(t,a){t=t.style;for(var c in a)if(a.hasOwnProperty(c)){var r=c.indexOf("--")===0,e=uw(c,a[c],r);c==="float"&&(c="cssFloat"),r?t.setProperty(c,e):t[c]=e}}var ZK=e2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(t,a){if(a){if(ZK[t]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n1(137,t));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n1(60));if(!(typeof a.dangerouslySetInnerHTML=="object"&&"__html"in a.dangerouslySetInnerHTML))throw Error(n1(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n1(62))}}function hg(t,a){if(t.indexOf("-")===-1)return typeof a.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sg=null,Q7=null,X7=null;function mw(t){if(t=Qa(t)){if(typeof sg!="function")throw Error(n1(280));var a=t.stateNode;a&&(a=_l(a),sg(t.stateNode,t.type,a))}}function fw(t){Q7?X7?X7.push(t):X7=[t]:Q7=t}function Mw(){if(Q7){var t=Q7,a=X7;if(X7=Q7=null,mw(t),a)for(t=0;t<a.length;t++)mw(a[t])}}function gg(t,a){return t(a)}function xw(t,a,c,r,e){return t(a,c,r,e)}function dg(){}var Cw=gg,f8=!1,zg=!1;function ug(){(Q7!==null||X7!==null)&&(dg(),Mw())}function DK(t,a,c){if(zg)return t(a,c);zg=!0;try{return Cw(t,a,c)}finally{zg=!1,ug()}}function Fa(t,a){var c=t.stateNode;if(c===null)return null;var r=_l(c);if(r===null)return null;c=r[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(n1(231,a,typeof c));return c}var pg=!1;if(e5)try{Y7={},Object.defineProperty(Y7,"passive",{get:function(){pg=!0}}),window.addEventListener("test",Y7,Y7),window.removeEventListener("test",Y7,Y7)}catch(t){pg=!1}var Y7;function jK(t,a,c,r,e,l,i,o,n){var h=Array.prototype.slice.call(arguments,3);try{a.apply(c,h)}catch(v){this.onError(v)}}var Ia=!1,wl=null,Bl=!1,mg=null,WK={onError:function(t){Ia=!0,wl=t}};function _K(t,a,c,r,e,l,i,o,n){Ia=!1,wl=null,jK.apply(WK,arguments)}function qK(t,a,c,r,e,l,i,o,n){if(_K.apply(this,arguments),Ia){if(Ia){var h=wl;Ia=!1,wl=null}else throw Error(n1(198));Bl||(Bl=!0,mg=h)}}function M8(t){var a=t,c=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&1026)!=0&&(c=a.return),t=a.return;while(t)}return a.tag===3?c:null}function Lw(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function Hw(t){if(M8(t)!==t)throw Error(n1(188))}function NK(t){var a=t.alternate;if(!a){if(a=M8(t),a===null)throw Error(n1(188));return a!==t?null:t}for(var c=t,r=a;;){var e=c.return;if(e===null)break;var l=e.alternate;if(l===null){if(r=e.return,r!==null){c=r;continue}break}if(e.child===l.child){for(l=e.child;l;){if(l===c)return Hw(e),t;if(l===r)return Hw(e),a;l=l.sibling}throw Error(n1(188))}if(c.return!==r.return)c=e,r=l;else{for(var i=!1,o=e.child;o;){if(o===c){i=!0,c=e,r=l;break}if(o===r){i=!0,r=e,c=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===c){i=!0,c=l,r=e;break}if(o===r){i=!0,r=l,c=e;break}o=o.sibling}if(!i)throw Error(n1(189))}}if(c.alternate!==r)throw Error(n1(190))}if(c.tag!==3)throw Error(n1(188));return c.stateNode.current===c?t:a}function Vw(t){if(t=NK(t),!t)return null;for(var a=t;;){if(a.tag===5||a.tag===6)return a;if(a.child)a.child.return=a,a=a.child;else{if(a===t)break;for(;!a.sibling;){if(!a.return||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}}return null}function ww(t,a){for(var c=t.alternate;a!==null;){if(a===t||a===c)return!0;a=a.return}return!1}var Bw,fg,yw,Sw,Mg=!1,p4=[],r6=null,e6=null,l6=null,Pa=new Map,Ga=new Map,Ta=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xg(t,a,c,r,e){return{blockedOn:t,domEventName:a,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[r]}}function Aw(t,a){switch(t){case"focusin":case"focusout":r6=null;break;case"dragenter":case"dragleave":e6=null;break;case"mouseover":case"mouseout":l6=null;break;case"pointerover":case"pointerout":Pa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(a.pointerId)}}function Ea(t,a,c,r,e,l){return t===null||t.nativeEvent!==l?(t=xg(a,c,r,e,l),a!==null&&(a=Qa(a),a!==null&&fg(a)),t):(t.eventSystemFlags|=r,a=t.targetContainers,e!==null&&a.indexOf(e)===-1&&a.push(e),t)}function UK(t,a,c,r,e){switch(a){case"focusin":return r6=Ea(r6,t,a,c,r,e),!0;case"dragenter":return e6=Ea(e6,t,a,c,r,e),!0;case"mouseover":return l6=Ea(l6,t,a,c,r,e),!0;case"pointerover":var l=e.pointerId;return Pa.set(l,Ea(Pa.get(l)||null,t,a,c,r,e)),!0;case"gotpointercapture":return l=e.pointerId,Ga.set(l,Ea(Ga.get(l)||null,t,a,c,r,e)),!0}return!1}function KK(t){var a=x8(t.target);if(a!==null){var c=M8(a);if(c!==null){if(a=c.tag,a===13){if(a=Lw(c),a!==null){t.blockedOn=a,Sw(t.lanePriority,function(){A2.unstable_runWithPriority(t.priority,function(){yw(c)})});return}}else if(a===3&&c.stateNode.hydrate){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var c=Bg(t.domEventName,t.eventSystemFlags,a[0],t.nativeEvent);if(c!==null)return a=Qa(c),a!==null&&fg(a),t.blockedOn=c,!1;a.shift()}return!0}function Rw(t,a,c){yl(t)&&c.delete(a)}function $K(){for(Mg=!1;0<p4.length;){var t=p4[0];if(t.blockedOn!==null){t=Qa(t.blockedOn),t!==null&&Bw(t);break}for(var a=t.targetContainers;0<a.length;){var c=Bg(t.domEventName,t.eventSystemFlags,a[0],t.nativeEvent);if(c!==null){t.blockedOn=c;break}a.shift()}t.blockedOn===null&&p4.shift()}r6!==null&&yl(r6)&&(r6=null),e6!==null&&yl(e6)&&(e6=null),l6!==null&&yl(l6)&&(l6=null),Pa.forEach(Rw),Ga.forEach(Rw)}function Oa(t,a){t.blockedOn===a&&(t.blockedOn=null,Mg||(Mg=!0,A2.unstable_scheduleCallback(A2.unstable_NormalPriority,$K)))}function bw(t){function a(e){return Oa(e,t)}if(0<p4.length){Oa(p4[0],t);for(var c=1;c<p4.length;c++){var r=p4[c];r.blockedOn===t&&(r.blockedOn=null)}}for(r6!==null&&Oa(r6,t),e6!==null&&Oa(e6,t),l6!==null&&Oa(l6,t),Pa.forEach(a),Ga.forEach(a),c=0;c<Ta.length;c++)r=Ta[c],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ta.length&&(c=Ta[0],c.blockedOn===null);)KK(c),c.blockedOn===null&&Ta.shift()}function Sl(t,a){var c={};return c[t.toLowerCase()]=a.toLowerCase(),c["Webkit"+t]="webkit"+a,c["Moz"+t]="moz"+a,c}var J7={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},Cg={},Fw={};e5&&(Fw=document.createElement("div").style,"AnimationEvent"in window||(delete J7.animationend.animation,delete J7.animationiteration.animation,delete J7.animationstart.animation),"TransitionEvent"in window||delete J7.transitionend.transition);function kl(t){if(Cg[t])return Cg[t];if(!J7[t])return t;var a=J7[t],c;for(c in a)if(a.hasOwnProperty(c)&&c in Fw)return Cg[t]=a[c];return t}var Iw=kl("animationend"),Pw=kl("animationiteration"),Gw=kl("animationstart"),Tw=kl("transitionend"),Ew=new Map,Lg=new Map,QK=["abort","abort",Iw,"animationEnd",Pw,"animationIteration",Gw,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tw,"transitionEnd","waiting","waiting"];function Hg(t,a){for(var c=0;c<t.length;c+=2){var r=t[c],e=t[c+1];e="on"+(e[0].toUpperCase()+e.slice(1)),Lg.set(r,a),Ew.set(r,e),u8(e,[r])}}var XK=A2.unstable_now;XK();var X1=8;function t9(t){if((1&t)!=0)return X1=15,1;if((2&t)!=0)return X1=14,2;if((4&t)!=0)return X1=13,4;var a=24&t;return a!==0?(X1=12,a):(t&32)!=0?(X1=11,32):(a=192&t,a!==0?(X1=10,a):(t&256)!=0?(X1=9,256):(a=3584&t,a!==0?(X1=8,a):(t&4096)!=0?(X1=7,4096):(a=4186112&t,a!==0?(X1=6,a):(a=62914560&t,a!==0?(X1=5,a):t&67108864?(X1=4,67108864):(t&134217728)!=0?(X1=3,134217728):(a=805306368&t,a!==0?(X1=2,a):(1073741824&t)!=0?(X1=1,1073741824):(X1=8,t))))))}function YK(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function JK(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(n1(358,t))}}function Za(t,a){var c=t.pendingLanes;if(c===0)return X1=0;var r=0,e=0,l=t.expiredLanes,i=t.suspendedLanes,o=t.pingedLanes;if(l!==0)r=l,e=X1=15;else if(l=c&134217727,l!==0){var n=l&~i;n!==0?(r=t9(n),e=X1):(o&=l,o!==0&&(r=t9(o),e=X1))}else l=c&~i,l!==0?(r=t9(l),e=X1):o!==0&&(r=t9(o),e=X1);if(r===0)return 0;if(r=31-i6(r),r=c&((0>r?0:1<<r)<<1)-1,a!==0&&a!==r&&(a&i)==0){if(t9(a),e<=X1)return a;X1=e}if(a=t.entangledLanes,a!==0)for(t=t.entanglements,a&=r;0<a;)c=31-i6(a),e=1<<c,r|=t[c],a&=~e;return r}function Ow(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Al(t,a){switch(t){case 15:return 1;case 14:return 2;case 12:return t=a9(24&~a),t===0?Al(10,a):t;case 10:return t=a9(192&~a),t===0?Al(8,a):t;case 8:return t=a9(3584&~a),t===0&&(t=a9(4186112&~a),t===0&&(t=512)),t;case 2:return a=a9(805306368&~a),a===0&&(a=268435456),a}throw Error(n1(358,t))}function a9(t){return t&-t}function Vg(t){for(var a=[],c=0;31>c;c++)a.push(t);return a}function Rl(t,a,c){t.pendingLanes|=a;var r=a-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,a=31-i6(a),t[a]=c}var i6=Math.clz32?Math.clz32:c$,t$=Math.log,a$=Math.LN2;function c$(t){return t===0?32:31-(t$(t)/a$|0)|0}var r$=A2.unstable_UserBlockingPriority,e$=A2.unstable_runWithPriority,bl=!0;function l$(t,a,c,r){f8||dg();var e=wg,l=f8;f8=!0;try{xw(e,t,a,c,r)}finally{(f8=l)||ug()}}function i$(t,a,c,r){e$(r$,wg.bind(null,t,a,c,r))}function wg(t,a,c,r){if(bl){var e;if((e=(a&4)==0)&&0<p4.length&&-1<kw.indexOf(t))t=xg(null,t,a,c,r),p4.push(t);else{var l=Bg(t,a,c,r);if(l===null)e&&Aw(t,r);else{if(e){if(-1<kw.indexOf(t)){t=xg(l,t,a,c,r),p4.push(t);return}if(UK(l,t,a,c,r))return;Aw(t,r)}zB(t,a,r,null,c)}}}}function Bg(t,a,c,r){var e=vg(r);if(e=x8(e),e!==null){var l=M8(e);if(l===null)e=null;else{var i=l.tag;if(i===13){if(e=Lw(l),e!==null)return e;e=null}else if(i===3){if(l.stateNode.hydrate)return l.tag===3?l.stateNode.containerInfo:null;e=null}else l!==e&&(e=null)}}return zB(t,a,r,e,c),null}var o6=null,yg=null,Fl=null;function Zw(){if(Fl)return Fl;var t,a=yg,c=a.length,r,e="value"in o6?o6.value:o6.textContent,l=e.length;for(t=0;t<c&&a[t]===e[t];t++);var i=c-t;for(r=1;r<=i&&a[c-r]===e[l-r];r++);return Fl=e.slice(t,1<r?1-r:void 0)}function Il(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function Dw(){return!1}function X0(t){function a(c,r,e,l,i){this._reactName=c,this._targetInst=e,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(c=t[o],this[o]=c?c(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Pl:Dw,this.isPropagationStopped=Dw,this}return e2(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),a}var c9={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=X0(c9),Da=e2({},c9,{view:0,detail:0}),o$=X0(Da),kg,Ag,ja,Gl=e2({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(kg=t.screenX-ja.screenX,Ag=t.screenY-ja.screenY):Ag=kg=0,ja=t),kg)},movementY:function(t){return"movementY"in t?t.movementY:Ag}}),jw=X0(Gl),n$=e2({},Gl,{dataTransfer:0}),h$=X0(n$),v$=e2({},Da,{relatedTarget:0}),Rg=X0(v$),s$=e2({},c9,{animationName:0,elapsedTime:0,pseudoElement:0}),g$=X0(s$),d$=e2({},c9,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z$=X0(d$),u$=e2({},c9,{data:0}),Ww=X0(u$),p$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M$(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=f$[t])?!!a[t]:!1}function bg(){return M$}var x$=e2({},Da,{key:function(t){if(t.key){var a=p$[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bg,charCode:function(t){return t.type==="keypress"?Il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C$=X0(x$),L$=e2({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_w=X0(L$),H$=e2({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bg}),V$=X0(H$),w$=e2({},c9,{propertyName:0,elapsedTime:0,pseudoElement:0}),B$=X0(w$),y$=e2({},Gl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S$=X0(y$),k$=[9,13,27,32],Fg=e5&&"CompositionEvent"in window,Wa=null;e5&&"documentMode"in document&&(Wa=document.documentMode);var A$=e5&&"TextEvent"in window&&!Wa,qw=e5&&(!Fg||Wa&&8<Wa&&11>=Wa),Nw=String.fromCharCode(32),Uw=!1;function Kw(t,a){switch(t){case"keyup":return k$.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $w(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var r9=!1;function R$(t,a){switch(t){case"compositionend":return $w(a);case"keypress":return a.which!==32?null:(Uw=!0,Nw);case"textInput":return t=a.data,t===Nw&&Uw?null:t;default:return null}}function b$(t,a){if(r9)return t==="compositionend"||!Fg&&Kw(t,a)?(t=Zw(),Fl=yg=o6=null,r9=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qw&&a.locale!=="ko"?null:a.data;default:return null}}var F$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qw(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!F$[t.type]:a==="textarea"}function Xw(t,a,c,r){fw(r),a=Zl(a,"onChange"),0<a.length&&(c=new Sg("onChange","change",null,c,r),t.push({event:c,listeners:a}))}var _a=null,qa=null;function I$(t){hB(t,0)}function Tl(t){var a=n9(t);if(iw(a))return t}function P$(t,a){if(t==="change")return a}var Yw=!1;e5&&(e5?(Ol="oninput"in document,Ol||(Ig=document.createElement("div"),Ig.setAttribute("oninput","return;"),Ol=typeof Ig.oninput=="function"),El=Ol):El=!1,Yw=El&&(!document.documentMode||9<document.documentMode));var El,Ol,Ig;function Jw(){_a&&(_a.detachEvent("onpropertychange",tB),qa=_a=null)}function tB(t){if(t.propertyName==="value"&&Tl(qa)){var a=[];if(Xw(a,qa,t,vg(t)),t=I$,f8)t(a);else{f8=!0;try{gg(t,a)}finally{f8=!1,ug()}}}}function G$(t,a,c){t==="focusin"?(Jw(),_a=a,qa=c,_a.attachEvent("onpropertychange",tB)):t==="focusout"&&Jw()}function T$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(qa)}function E$(t,a){if(t==="click")return Tl(a)}function O$(t,a){if(t==="input"||t==="change")return Tl(a)}function Z$(t,a){return t===a&&(t!==0||1/t==1/a)||t!==t&&a!==a}var m3=typeof Object.is=="function"?Object.is:Z$,D$=Object.prototype.hasOwnProperty;function Na(t,a){if(m3(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var c=Object.keys(t),r=Object.keys(a);if(c.length!==r.length)return!1;for(r=0;r<c.length;r++)if(!D$.call(a,c[r])||!m3(t[c[r]],a[c[r]]))return!1;return!0}function aB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cB(t,a){var c=aB(t);t=0;for(var r;c;){if(c.nodeType===3){if(r=t+c.textContent.length,t<=a&&r>=a)return{node:c,offset:a-t};t=r}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=aB(c)}}function rB(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?rB(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function eB(){for(var t=window,a=Hl();a instanceof t.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch(r){c=!1}if(c)t=a.contentWindow;else break;a=Hl(t.document)}return a}function Pg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var j$=e5&&"documentMode"in document&&11>=document.documentMode,e9=null,Gg=null,Ua=null,Tg=!1;function lB(t,a,c){var r=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tg||e9==null||e9!==Hl(r)||(r=e9,"selectionStart"in r&&Pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&Na(Ua,r)||(Ua=r,r=Zl(Gg,"onSelect"),0<r.length&&(a=new Sg("onSelect","select",null,a,c),t.push({event:a,listeners:r}),a.target=e9)))}Hg("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Hg("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Hg(QK,2);for(var iB="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Eg=0;Eg<iB.length;Eg++)Lg.set(iB[Eg],0);U7("onMouseEnter",["mouseout","mouseover"]);U7("onMouseLeave",["mouseout","mouseover"]);U7("onPointerEnter",["pointerout","pointerover"]);U7("onPointerLeave",["pointerout","pointerover"]);u8("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));u8("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));u8("onBeforeInput",["compositionend","keypress","textInput","paste"]);u8("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));u8("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));u8("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function nB(t,a,c){var r=t.type||"unknown-event";t.currentTarget=c,qK(r,a,void 0,t),t.currentTarget=null}function hB(t,a){a=(a&4)!=0;for(var c=0;c<t.length;c++){var r=t[c],e=r.event;r=r.listeners;t:{var l=void 0;if(a)for(var i=r.length-1;0<=i;i--){var o=r[i],n=o.instance,h=o.currentTarget;if(o=o.listener,n!==l&&e.isPropagationStopped())break t;nB(e,o,h),l=n}else for(i=0;i<r.length;i++){if(o=r[i],n=o.instance,h=o.currentTarget,o=o.listener,n!==l&&e.isPropagationStopped())break t;nB(e,o,h),l=n}}}if(Bl)throw t=mg,Bl=!1,mg=null,t}function a2(t,a){var c=xB(a),r=t+"__bubble";c.has(r)||(dB(a,t,2,!1),c.add(r))}var vB="_reactListening"+Math.random().toString(36).slice(2);function sB(t){t[vB]||(t[vB]=!0,JV.forEach(function(a){oB.has(a)||gB(a,!1,t,null),gB(a,!0,t,null)}))}function gB(t,a,c,r){var e=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,l=c;if(t==="selectionchange"&&c.nodeType!==9&&(l=c.ownerDocument),r!==null&&!a&&oB.has(t)){if(t!=="scroll")return;e|=2,l=r}var i=xB(l),o=t+"__"+(a?"capture":"bubble");i.has(o)||(a&&(e|=4),dB(l,t,e,a),i.add(o))}function dB(t,a,c,r){var e=Lg.get(a);switch(e===void 0?2:e){case 0:e=l$;break;case 1:e=i$;break;default:e=wg}c=e.bind(null,a,c,t),e=void 0,!pg||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(e=!0),r?e!==void 0?t.addEventListener(a,c,{capture:!0,passive:e}):t.addEventListener(a,c,!0):e!==void 0?t.addEventListener(a,c,{passive:e}):t.addEventListener(a,c,!1)}function zB(t,a,c,r,e){var l=r;if((a&1)==0&&(a&2)==0&&r!==null)t:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===e||o.nodeType===8&&o.parentNode===e)break;if(i===4)for(i=r.return;i!==null;){var n=i.tag;if((n===3||n===4)&&(n=i.stateNode.containerInfo,n===e||n.nodeType===8&&n.parentNode===e))return;i=i.return}for(;o!==null;){if(i=x8(o),i===null)return;if(n=i.tag,n===5||n===6){r=l=i;continue t}o=o.parentNode}}r=r.return}DK(function(){var h=l,v=vg(c),g=[];t:{var d=Ew.get(t);if(d!==void 0){var s=Sg,u=t;switch(t){case"keypress":if(Il(c)===0)break t;case"keydown":case"keyup":s=C$;break;case"focusin":u="focus",s=Rg;break;case"focusout":u="blur",s=Rg;break;case"beforeblur":case"afterblur":s=Rg;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=h$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=V$;break;case Iw:case Pw:case Gw:s=g$;break;case Tw:s=B$;break;case"scroll":s=o$;break;case"wheel":s=S$;break;case"copy":case"cut":case"paste":s=z$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_w}var p=(a&4)!=0,z=!p&&t==="scroll",m=p?d!==null?d+"Capture":null:d;p=[];for(var f=h,M;f!==null;){M=f;var H=M.stateNode;if(M.tag===5&&H!==null&&(M=H,m!==null&&(H=Fa(f,m),H!=null&&p.push($a(f,H,M)))),z)break;f=f.return}0<p.length&&(d=new s(d,u,null,c,v),g.push({event:d,listeners:p}))}}if((a&7)==0){t:{if(d=t==="mouseover"||t==="pointerover",s=t==="mouseout"||t==="pointerout",d&&(a&16)==0&&(u=c.relatedTarget||c.fromElement)&&(x8(u)||u[o9]))break t;if((s||d)&&(d=v.window===v?v:(d=v.ownerDocument)?d.defaultView||d.parentWindow:window,s?(u=c.relatedTarget||c.toElement,s=h,u=u?x8(u):null,u!==null&&(z=M8(u),u!==z||u.tag!==5&&u.tag!==6)&&(u=null)):(s=null,u=h),s!==u)){if(p=jw,H="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(p=_w,H="onPointerLeave",m="onPointerEnter",f="pointer"),z=s==null?d:n9(s),M=u==null?d:n9(u),d=new p(H,f+"leave",s,c,v),d.target=z,d.relatedTarget=M,H=null,x8(v)===h&&(p=new p(m,f+"enter",u,c,v),p.target=M,p.relatedTarget=z,H=p),z=H,s&&u)a:{for(p=s,m=u,f=0,M=p;M;M=l9(M))f++;for(M=0,H=m;H;H=l9(H))M++;for(;0<f-M;)p=l9(p),f--;for(;0<M-f;)m=l9(m),M--;for(;f--;){if(p===m||m!==null&&p===m.alternate)break a;p=l9(p),m=l9(m)}p=null}else p=null;s!==null&&uB(g,d,s,p,!1),u!==null&&z!==null&&uB(g,z,u,p,!0)}}t:{if(d=h?n9(h):window,s=d.nodeName&&d.nodeName.toLowerCase(),s==="select"||s==="input"&&d.type==="file")var w=P$;else if(Qw(d))if(Yw)w=O$;else{w=T$;var B=G$}else(s=d.nodeName)&&s.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=E$);if(w&&(w=w(t,h))){Xw(g,w,c,v);break t}B&&B(t,d,h),t==="focusout"&&(B=d._wrapperState)&&B.controlled&&d.type==="number"&&rg(d,"number",d.value)}switch(B=h?n9(h):window,t){case"focusin":(Qw(B)||B.contentEditable==="true")&&(e9=B,Gg=h,Ua=null);break;case"focusout":Ua=Gg=e9=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,lB(g,c,v);break;case"selectionchange":if(j$)break;case"keydown":case"keyup":lB(g,c,v)}var k;if(Fg)t:{switch(t){case"compositionstart":var I="onCompositionStart";break t;case"compositionend":I="onCompositionEnd";break t;case"compositionupdate":I="onCompositionUpdate";break t}I=void 0}else r9?Kw(t,c)&&(I="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(I="onCompositionStart");I&&(qw&&c.locale!=="ko"&&(r9||I!=="onCompositionStart"?I==="onCompositionEnd"&&r9&&(k=Zw()):(o6=v,yg="value"in o6?o6.value:o6.textContent,r9=!0)),B=Zl(h,I),0<B.length&&(I=new Ww(I,t,null,c,v),g.push({event:I,listeners:B}),k?I.data=k:(k=$w(c),k!==null&&(I.data=k)))),(k=A$?R$(t,c):b$(t,c))&&(h=Zl(h,"onBeforeInput"),0<h.length&&(v=new Ww("onBeforeInput","beforeinput",null,c,v),g.push({event:v,listeners:h}),v.data=k))}hB(g,a)})}function $a(t,a,c){return{instance:t,listener:a,currentTarget:c}}function Zl(t,a){for(var c=a+"Capture",r=[];t!==null;){var e=t,l=e.stateNode;e.tag===5&&l!==null&&(e=l,l=Fa(t,c),l!=null&&r.unshift($a(t,l,e)),l=Fa(t,a),l!=null&&r.push($a(t,l,e))),t=t.return}return r}function l9(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uB(t,a,c,r,e){for(var l=a._reactName,i=[];c!==null&&c!==r;){var o=c,n=o.alternate,h=o.stateNode;if(n!==null&&n===r)break;o.tag===5&&h!==null&&(o=h,e?(n=Fa(c,l),n!=null&&i.unshift($a(c,n,o))):e||(n=Fa(c,l),n!=null&&i.push($a(c,n,o)))),c=c.return}i.length!==0&&t.push({event:a,listeners:i})}function Dl(){}var Og=null,Zg=null;function pB(t,a){switch(t){case"button":case"input":case"select":case"textarea":return!!a.autoFocus}return!1}function Dg(t,a){return t==="textarea"||t==="option"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mB=typeof setTimeout=="function"?setTimeout:void 0,W$=typeof clearTimeout=="function"?clearTimeout:void 0;function jg(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function i9(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break}return t}function fB(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return t;a--}else c==="/$"&&a++}t=t.previousSibling}return null}var Wg=0;function _$(t){return{$$typeof:Qs,toString:t,valueOf:t}}var jl=Math.random().toString(36).slice(2),n6="__reactFiber$"+jl,Wl="__reactProps$"+jl,o9="__reactContainer$"+jl,MB="__reactEvents$"+jl;function x8(t){var a=t[n6];if(a)return a;for(var c=t.parentNode;c;){if(a=c[o9]||c[n6]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(t=fB(t);t!==null;){if(c=t[n6])return c;t=fB(t)}return a}t=c,c=t.parentNode}return null}function Qa(t){return t=t[n6]||t[o9],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function n9(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n1(33))}function _l(t){return t[Wl]||null}function xB(t){var a=t[MB];return a===void 0&&(a=t[MB]=new Set),a}var _g=[],h9=-1;function h6(t){return{current:t}}function c2(t){0>h9||(t.current=_g[h9],_g[h9]=null,h9--)}function v2(t,a){h9++,_g[h9]=t.current,t.current=a}var v6={},e0=h6(v6),V0=h6(!1),C8=v6;function v9(t,a){var c=t.type.contextTypes;if(!c)return v6;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===a)return r.__reactInternalMemoizedMaskedChildContext;var e={},l;for(l in c)e[l]=a[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=e),e}function w0(t){return t=t.childContextTypes,t!=null}function ql(){c2(V0),c2(e0)}function CB(t,a,c){if(e0.current!==v6)throw Error(n1(168));v2(e0,a),v2(V0,c)}function LB(t,a,c){var r=t.stateNode;if(t=a.childContextTypes,typeof r.getChildContext!="function")return c;r=r.getChildContext();for(var e in r)if(!(e in t))throw Error(n1(108,K7(a)||"Unknown",e));return e2({},c,r)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||v6,C8=e0.current,v2(e0,t),v2(V0,V0.current),!0}function HB(t,a,c){var r=t.stateNode;if(!r)throw Error(n1(169));c?(t=LB(t,a,C8),r.__reactInternalMemoizedMergedChildContext=t,c2(V0),c2(e0),v2(e0,t)):c2(V0),v2(V0,c)}var qg=null,L8=null,q$=A2.unstable_runWithPriority,Ng=A2.unstable_scheduleCallback,Ug=A2.unstable_cancelCallback,N$=A2.unstable_shouldYield,VB=A2.unstable_requestPaint,Kg=A2.unstable_now,U$=A2.unstable_getCurrentPriorityLevel,Ul=A2.unstable_ImmediatePriority,wB=A2.unstable_UserBlockingPriority,BB=A2.unstable_NormalPriority,yB=A2.unstable_LowPriority,SB=A2.unstable_IdlePriority,$g={},K$=VB!==void 0?VB:function(){},l5=null,Kl=null,Qg=!1,kB=Kg(),l0=1e4>kB?Kg:function(){return Kg()-kB};function s9(){switch(U$()){case Ul:return 99;case wB:return 98;case BB:return 97;case yB:return 96;case SB:return 95;default:throw Error(n1(332))}}function AB(t){switch(t){case 99:return Ul;case 98:return wB;case 97:return BB;case 96:return yB;case 95:return SB;default:throw Error(n1(332))}}function H8(t,a){return t=AB(t),q$(t,a)}function Xa(t,a,c){return t=AB(t),Ng(t,a,c)}function m4(){if(Kl!==null){var t=Kl;Kl=null,Ug(t)}RB()}function RB(){if(!Qg&&l5!==null){Qg=!0;var t=0;try{var a=l5;H8(99,function(){for(;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}}),l5=null}catch(c){throw l5!==null&&(l5=l5.slice(t+1)),Ng(Ul,m4),c}finally{Qg=!1}}}var $$=p8.ReactCurrentBatchConfig;function D3(t,a){if(t&&t.defaultProps){a=e2({},a),t=t.defaultProps;for(var c in t)a[c]===void 0&&(a[c]=t[c]);return a}return a}var $l=h6(null),Ql=null,g9=null,Xl=null;function Xg(){Xl=g9=Ql=null}function Yg(t){var a=$l.current;c2($l),t.type._context._currentValue=a}function bB(t,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)===a){if(c===null||(c.childLanes&a)===a)break;c.childLanes|=a}else t.childLanes|=a,c!==null&&(c.childLanes|=a);t=t.return}}function d9(t,a){Ql=t,Xl=g9=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&a)!=0&&(j3=!0),t.firstContext=null)}function f3(t,a){if(Xl!==t&&a!==!1&&a!==0)if((typeof a!="number"||a===1073741823)&&(Xl=t,a=1073741823),a={context:t,observedBits:a,next:null},g9===null){if(Ql===null)throw Error(n1(308));g9=a,Ql.dependencies={lanes:0,firstContext:a,responders:null}}else g9=g9.next=a;return t._currentValue}var s6=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function FB(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function g6(t,a){return{eventTime:t,lane:a,tag:0,payload:null,callback:null,next:null}}function d6(t,a){if(t=t.updateQueue,t!==null){t=t.shared;var c=t.pending;c===null?a.next=a:(a.next=c.next,c.next=a),t.pending=a}}function IB(t,a){var c=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,c===r)){var e=null,l=null;if(c=c.firstBaseUpdate,c!==null){do{var i={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};l===null?e=l=i:l=l.next=i,c=c.next}while(c!==null);l===null?e=l=a:l=l.next=a}else e=l=a;c={baseState:r.baseState,firstBaseUpdate:e,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=a:t.next=a,c.lastBaseUpdate=a}function Ya(t,a,c,r){var e=t.updateQueue;s6=!1;var l=e.firstBaseUpdate,i=e.lastBaseUpdate,o=e.shared.pending;if(o!==null){e.shared.pending=null;var n=o,h=n.next;n.next=null,i===null?l=h:i.next=h,i=n;var v=t.alternate;if(v!==null){v=v.updateQueue;var g=v.lastBaseUpdate;g!==i&&(g===null?v.firstBaseUpdate=h:g.next=h,v.lastBaseUpdate=n)}}if(l!==null){g=e.baseState,i=0,v=h=n=null;do{o=l.lane;var d=l.eventTime;if((r&o)===o){v!==null&&(v=v.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var s=t,u=l;switch(o=a,d=c,u.tag){case 1:if(s=u.payload,typeof s=="function"){g=s.call(d,g,o);break t}g=s;break t;case 3:s.flags=s.flags&-4097|64;case 0:if(s=u.payload,o=typeof s=="function"?s.call(d,g,o):s,o==null)break t;g=e2({},g,o);break t;case 2:s6=!0}}l.callback!==null&&(t.flags|=32,o=e.effects,o===null?e.effects=[l]:o.push(l))}else d={eventTime:d,lane:o,tag:l.tag,payload:l.payload,callback:l.callback,next:null},v===null?(h=v=d,n=g):v=v.next=d,i|=o;if(l=l.next,l===null){if(o=e.shared.pending,o===null)break;l=o.next,o.next=null,e.lastBaseUpdate=o,e.shared.pending=null}}while(1);v===null&&(n=g),e.baseState=n,e.firstBaseUpdate=h,e.lastBaseUpdate=v,vc|=i,t.lanes=i,t.memoizedState=g}}function PB(t,a,c){if(t=a.effects,a.effects=null,t!==null)for(a=0;a<t.length;a++){var r=t[a],e=r.callback;if(e!==null){if(r.callback=null,r=c,typeof e!="function")throw Error(n1(191,e));e.call(r)}}}var GB=new ml.Component().refs;function Yl(t,a,c,r){a=t.memoizedState,c=c(r,a),c=c==null?a:e2({},a,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var Jl={isMounted:function(t){return(t=t._reactInternals)?M8(t)===t:!1},enqueueSetState:function(t,a,c){t=t._reactInternals;var r=Y0(),e=p6(t),l=g6(r,e);l.payload=a,c!=null&&(l.callback=c),d6(t,l),m6(t,e,r)},enqueueReplaceState:function(t,a,c){t=t._reactInternals;var r=Y0(),e=p6(t),l=g6(r,e);l.tag=1,l.payload=a,c!=null&&(l.callback=c),d6(t,l),m6(t,e,r)},enqueueForceUpdate:function(t,a){t=t._reactInternals;var c=Y0(),r=p6(t),e=g6(c,r);e.tag=2,a!=null&&(e.callback=a),d6(t,e),m6(t,r,c)}};function TB(t,a,c,r,e,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,i):a.prototype&&a.prototype.isPureReactComponent?!Na(c,r)||!Na(e,l):!0}function EB(t,a,c){var r=!1,e=v6,l=a.contextType;return typeof l=="object"&&l!==null?l=f3(l):(e=w0(a)?C8:e0.current,r=a.contextTypes,l=(r=r!=null)?v9(t,e):v6),a=new a(c,l),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Jl,t.stateNode=a,a._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),a}function OB(t,a,c,r){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,r),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,r),a.state!==t&&Jl.enqueueReplaceState(a,a.state,null)}function td(t,a,c,r){var e=t.stateNode;e.props=c,e.state=t.memoizedState,e.refs=GB,Jg(t);var l=a.contextType;typeof l=="object"&&l!==null?e.context=f3(l):(l=w0(a)?C8:e0.current,e.context=v9(t,l)),Ya(t,c,e,r),e.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(Yl(t,a,l,c),e.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof e.getSnapshotBeforeUpdate=="function"||typeof e.UNSAFE_componentWillMount!="function"&&typeof e.componentWillMount!="function"||(a=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),a!==e.state&&Jl.enqueueReplaceState(e,e.state,null),Ya(t,c,e,r),e.state=t.memoizedState),typeof e.componentDidMount=="function"&&(t.flags|=4)}var ti=Array.isArray;function Ja(t,a,c){if(t=c.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n1(309));var r=c.stateNode}if(!r)throw Error(n1(147,t));var e=""+t;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===e?a.ref:(a=function(l){var i=r.refs;i===GB&&(i=r.refs={}),l===null?delete i[e]:i[e]=l},a._stringRef=e,a)}if(typeof t!="string")throw Error(n1(284));if(!c._owner)throw Error(n1(290,t))}return t}function ai(t,a){if(t.type!=="textarea")throw Error(n1(31,Object.prototype.toString.call(a)==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":a))}function ZB(t){function a(z,m){if(t){var f=z.lastEffect;f!==null?(f.nextEffect=m,z.lastEffect=m):z.firstEffect=z.lastEffect=m,m.nextEffect=null,m.flags=8}}function c(z,m){if(!t)return null;for(;m!==null;)a(z,m),m=m.sibling;return null}function r(z,m){for(z=new Map;m!==null;)m.key!==null?z.set(m.key,m):z.set(m.index,m),m=m.sibling;return z}function e(z,m){return z=x6(z,m),z.index=0,z.sibling=null,z}function l(z,m,f){return z.index=f,t?(f=z.alternate,f!==null?(f=f.index,f<m?(z.flags=2,m):f):(z.flags=2,m)):m}function i(z){return t&&z.alternate===null&&(z.flags=2),z}function o(z,m,f,M){return m===null||m.tag!==6?(m=Gd(f,z.mode,M),m.return=z,m):(m=e(m,f),m.return=z,m)}function n(z,m,f,M){return m!==null&&m.elementType===f.type?(M=e(m,f.props),M.ref=Ja(z,m,f),M.return=z,M):(M=Mi(f.type,f.key,f.props,null,z.mode,M),M.ref=Ja(z,m,f),M.return=z,M)}function h(z,m,f,M){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=Td(f,z.mode,M),m.return=z,m):(m=e(m,f.children||[]),m.return=z,m)}function v(z,m,f,M,H){return m===null||m.tag!==7?(m=C9(f,z.mode,M,H),m.return=z,m):(m=e(m,f),m.return=z,m)}function g(z,m,f){if(typeof m=="string"||typeof m=="number")return m=Gd(""+m,z.mode,f),m.return=z,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ba:return f=Mi(m.type,m.key,m.props,null,z.mode,f),f.ref=Ja(z,null,m),f.return=z,f;case m8:return m=Td(m,z.mode,f),m.return=z,m}if(ti(m)||ka(m))return m=C9(m,z.mode,f,null),m.return=z,m;ai(z,m)}return null}function d(z,m,f,M){var H=m!==null?m.key:null;if(typeof f=="string"||typeof f=="number")return H!==null?null:o(z,m,""+f,M);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ba:return f.key===H?f.type===a6?v(z,m,f.props.children,M,H):n(z,m,f,M):null;case m8:return f.key===H?h(z,m,f,M):null}if(ti(f)||ka(f))return H!==null?null:v(z,m,f,M,null);ai(z,f)}return null}function s(z,m,f,M,H){if(typeof M=="string"||typeof M=="number")return z=z.get(f)||null,o(m,z,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ba:return z=z.get(M.key===null?f:M.key)||null,M.type===a6?v(m,z,M.props.children,H,M.key):n(m,z,M,H);case m8:return z=z.get(M.key===null?f:M.key)||null,h(m,z,M,H)}if(ti(M)||ka(M))return z=z.get(f)||null,v(m,z,M,H,null);ai(m,M)}return null}function u(z,m,f,M){for(var H=null,w=null,B=m,k=m=0,I=null;B!==null&&k<f.length;k++){B.index>k?(I=B,B=null):I=B.sibling;var j=d(z,B,f[k],M);if(j===null){B===null&&(B=I);break}t&&B&&j.alternate===null&&a(z,B),m=l(j,m,k),w===null?H=j:w.sibling=j,w=j,B=I}if(k===f.length)return c(z,B),H;if(B===null){for(;k<f.length;k++)B=g(z,f[k],M),B!==null&&(m=l(B,m,k),w===null?H=B:w.sibling=B,w=B);return H}for(B=r(z,B);k<f.length;k++)I=s(B,z,k,f[k],M),I!==null&&(t&&I.alternate!==null&&B.delete(I.key===null?k:I.key),m=l(I,m,k),w===null?H=I:w.sibling=I,w=I);return t&&B.forEach(function(b){return a(z,b)}),H}function p(z,m,f,M){var H=ka(f);if(typeof H!="function")throw Error(n1(150));if(f=H.call(f),f==null)throw Error(n1(151));for(var w=H=null,B=m,k=m=0,I=null,j=f.next();B!==null&&!j.done;k++,j=f.next()){B.index>k?(I=B,B=null):I=B.sibling;var b=d(z,B,j.value,M);if(b===null){B===null&&(B=I);break}t&&B&&b.alternate===null&&a(z,B),m=l(b,m,k),w===null?H=b:w.sibling=b,w=b,B=I}if(j.done)return c(z,B),H;if(B===null){for(;!j.done;k++,j=f.next())j=g(z,j.value,M),j!==null&&(m=l(j,m,k),w===null?H=j:w.sibling=j,w=j);return H}for(B=r(z,B);!j.done;k++,j=f.next())j=s(B,z,k,j.value,M),j!==null&&(t&&j.alternate!==null&&B.delete(j.key===null?k:j.key),m=l(j,m,k),w===null?H=j:w.sibling=j,w=j);return t&&B.forEach(function(T){return a(z,T)}),H}return function(z,m,f,M){var H=typeof f=="object"&&f!==null&&f.type===a6&&f.key===null;H&&(f=f.props.children);var w=typeof f=="object"&&f!==null;if(w)switch(f.$$typeof){case Ba:t:{for(w=f.key,H=m;H!==null;){if(H.key===w){switch(H.tag){case 7:if(f.type===a6){c(z,H.sibling),m=e(H,f.props.children),m.return=z,z=m;break t}break;default:if(H.elementType===f.type){c(z,H.sibling),m=e(H,f.props),m.ref=Ja(z,H,f),m.return=z,z=m;break t}}c(z,H);break}else a(z,H);H=H.sibling}f.type===a6?(m=C9(f.props.children,z.mode,M,f.key),m.return=z,z=m):(M=Mi(f.type,f.key,f.props,null,z.mode,M),M.ref=Ja(z,m,f),M.return=z,z=M)}return i(z);case m8:t:{for(H=f.key;m!==null;){if(m.key===H)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){c(z,m.sibling),m=e(m,f.children||[]),m.return=z,z=m;break t}else{c(z,m);break}else a(z,m);m=m.sibling}m=Td(f,z.mode,M),m.return=z,z=m}return i(z)}if(typeof f=="string"||typeof f=="number")return f=""+f,m!==null&&m.tag===6?(c(z,m.sibling),m=e(m,f),m.return=z,z=m):(c(z,m),m=Gd(f,z.mode,M),m.return=z,z=m),i(z);if(ti(f))return u(z,m,f,M);if(ka(f))return p(z,m,f,M);if(w&&ai(z,f),typeof f=="undefined"&&!H)switch(z.tag){case 1:case 22:case 0:case 11:case 15:throw Error(n1(152,K7(z.type)||"Component"))}return c(z,m)}}var ci=ZB(!0),DB=ZB(!1),tc={},f4=h6(tc),ac=h6(tc),cc=h6(tc);function V8(t){if(t===tc)throw Error(n1(174));return t}function ad(t,a){switch(v2(cc,a),v2(ac,t),v2(f4,tc),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:og(null,"");break;default:t=t===8?a.parentNode:a,a=t.namespaceURI||null,t=t.tagName,a=og(a,t)}c2(f4),v2(f4,a)}function z9(){c2(f4),c2(ac),c2(cc)}function jB(t){V8(cc.current);var a=V8(f4.current),c=og(a,t.type);a!==c&&(v2(ac,t),v2(f4,c))}function cd(t){ac.current===t&&(c2(f4),c2(ac))}var s2=h6(0);function ri(t){for(var a=t;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&64)!=0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var i5=null,z6=null,M4=!1;function WB(t,a){var c=C3(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=a,c.return=t,c.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=c,t.lastEffect=c):t.firstEffect=t.lastEffect=c}function _B(t,a){switch(t.tag){case 5:var c=t.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(t.stateNode=a,!0):!1;case 6:return a=t.pendingProps===""||a.nodeType!==3?null:a,a!==null?(t.stateNode=a,!0):!1;case 13:return!1;default:return!1}}function rd(t){if(M4){var a=z6;if(a){var c=a;if(!_B(t,a)){if(a=i9(c.nextSibling),!a||!_B(t,a)){t.flags=t.flags&-1025|2,M4=!1,i5=t;return}WB(i5,c)}i5=t,z6=i9(a.firstChild)}else t.flags=t.flags&-1025|2,M4=!1,i5=t}}function qB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;i5=t}function ei(t){if(t!==i5)return!1;if(!M4)return qB(t),M4=!0,!1;var a=t.type;if(t.tag!==5||a!=="head"&&a!=="body"&&!Dg(a,t.memoizedProps))for(a=z6;a;)WB(t,a),a=i9(a.nextSibling);if(qB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n1(317));t:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8){var c=t.data;if(c==="/$"){if(a===0){z6=i9(t.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}t=t.nextSibling}z6=null}}else z6=i5?i9(t.stateNode.nextSibling):null;return!0}function ed(){z6=i5=null,M4=!1}var u9=[];function ld(){for(var t=0;t<u9.length;t++)u9[t]._workInProgressVersionPrimary=null;u9.length=0}var rc=p8.ReactCurrentDispatcher,M3=p8.ReactCurrentBatchConfig,ec=0,p2=null,i0=null,_2=null,li=!1,lc=!1;function B0(){throw Error(n1(321))}function id(t,a){if(a===null)return!1;for(var c=0;c<a.length&&c<t.length;c++)if(!m3(t[c],a[c]))return!1;return!0}function od(t,a,c,r,e,l){if(ec=l,p2=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,rc.current=t===null||t.memoizedState===null?X$:Y$,t=c(r,e),lc){l=0;do{if(lc=!1,!(25>l))throw Error(n1(301));l+=1,_2=i0=null,a.updateQueue=null,rc.current=J$,t=c(r,e)}while(lc)}if(rc.current=hi,a=i0!==null&&i0.next!==null,ec=0,_2=i0=p2=null,li=!1,a)throw Error(n1(300));return t}function w8(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _2===null?p2.memoizedState=_2=t:_2=_2.next=t,_2}function B8(){if(i0===null){var t=p2.alternate;t=t!==null?t.memoizedState:null}else t=i0.next;var a=_2===null?p2.memoizedState:_2.next;if(a!==null)_2=a,i0=t;else{if(t===null)throw Error(n1(310));i0=t,t={memoizedState:i0.memoizedState,baseState:i0.baseState,baseQueue:i0.baseQueue,queue:i0.queue,next:null},_2===null?p2.memoizedState=_2=t:_2=_2.next=t}return _2}function x4(t,a){return typeof a=="function"?a(t):a}function ic(t){var a=B8(),c=a.queue;if(c===null)throw Error(n1(311));c.lastRenderedReducer=t;var r=i0,e=r.baseQueue,l=c.pending;if(l!==null){if(e!==null){var i=e.next;e.next=l.next,l.next=i}r.baseQueue=e=l,c.pending=null}if(e!==null){e=e.next,r=r.baseState;var o=i=l=null,n=e;do{var h=n.lane;if((ec&h)===h)o!==null&&(o=o.next={lane:0,action:n.action,eagerReducer:n.eagerReducer,eagerState:n.eagerState,next:null}),r=n.eagerReducer===t?n.eagerState:t(r,n.action);else{var v={lane:h,action:n.action,eagerReducer:n.eagerReducer,eagerState:n.eagerState,next:null};o===null?(i=o=v,l=r):o=o.next=v,p2.lanes|=h,vc|=h}n=n.next}while(n!==null&&n!==e);o===null?l=r:o.next=i,m3(r,a.memoizedState)||(j3=!0),a.memoizedState=r,a.baseState=l,a.baseQueue=o,c.lastRenderedState=r}return[a.memoizedState,c.dispatch]}function oc(t){var a=B8(),c=a.queue;if(c===null)throw Error(n1(311));c.lastRenderedReducer=t;var r=c.dispatch,e=c.pending,l=a.memoizedState;if(e!==null){c.pending=null;var i=e=e.next;do l=t(l,i.action),i=i.next;while(i!==e);m3(l,a.memoizedState)||(j3=!0),a.memoizedState=l,a.baseQueue===null&&(a.baseState=l),c.lastRenderedState=l}return[l,r]}function NB(t,a,c){var r=a._getVersion;r=r(a._source);var e=a._workInProgressVersionPrimary;if(e!==null?t=e===r:(t=t.mutableReadLanes,(t=(ec&t)===t)&&(a._workInProgressVersionPrimary=r,u9.push(a))),t)return c(a._source);throw u9.push(a),Error(n1(350))}function UB(t,a,c,r){var e=m0;if(e===null)throw Error(n1(349));var l=a._getVersion,i=l(a._source),o=rc.current,n=o.useState(function(){return NB(e,a,c)}),h=n[1],v=n[0];n=_2;var g=t.memoizedState,d=g.refs,s=d.getSnapshot,u=g.source;g=g.subscribe;var p=p2;return t.memoizedState={refs:d,source:a,subscribe:r},o.useEffect(function(){d.getSnapshot=c,d.setSnapshot=h;var z=l(a._source);if(!m3(i,z)){z=c(a._source),m3(v,z)||(h(z),z=p6(p),e.mutableReadLanes|=z&e.pendingLanes),z=e.mutableReadLanes,e.entangledLanes|=z;for(var m=e.entanglements,f=z;0<f;){var M=31-i6(f),H=1<<M;m[M]|=z,f&=~H}}},[c,a,r]),o.useEffect(function(){return r(a._source,function(){var z=d.getSnapshot,m=d.setSnapshot;try{m(z(a._source));var f=p6(p);e.mutableReadLanes|=f&e.pendingLanes}catch(M){m(function(){throw M})}})},[a,r]),m3(s,c)&&m3(u,a)&&m3(g,r)||(t={pending:null,dispatch:null,lastRenderedReducer:x4,lastRenderedState:v},t.dispatch=h=sd.bind(null,p2,t),n.queue=t,n.baseQueue=null,v=NB(e,a,c),n.memoizedState=n.baseState=v),v}function KB(t,a,c){var r=B8();return UB(r,t,a,c)}function nc(t){var a=w8();return typeof t=="function"&&(t=t()),a.memoizedState=a.baseState=t,t=a.queue={pending:null,dispatch:null,lastRenderedReducer:x4,lastRenderedState:t},t=t.dispatch=sd.bind(null,p2,t),[a.memoizedState,t]}function ii(t,a,c,r){return t={tag:t,create:a,destroy:c,deps:r,next:null},a=p2.updateQueue,a===null?(a={lastEffect:null},p2.updateQueue=a,a.lastEffect=t.next=t):(c=a.lastEffect,c===null?a.lastEffect=t.next=t:(r=c.next,c.next=t,t.next=r,a.lastEffect=t)),t}function $B(t){var a=w8();return t={current:t},a.memoizedState=t}function oi(){return B8().memoizedState}function nd(t,a,c,r){var e=w8();p2.flags|=t,e.memoizedState=ii(1|a,c,void 0,r===void 0?null:r)}function hd(t,a,c,r){var e=B8();r=r===void 0?null:r;var l=void 0;if(i0!==null){var i=i0.memoizedState;if(l=i.destroy,r!==null&&id(r,i.deps)){ii(a,c,l,r);return}}p2.flags|=t,e.memoizedState=ii(1|a,c,l,r)}function QB(t,a){return nd(516,4,t,a)}function ni(t,a){return hd(516,4,t,a)}function XB(t,a){return hd(4,2,t,a)}function YB(t,a){if(typeof a=="function")return t=t(),a(t),function(){a(null)};if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function JB(t,a,c){return c=c!=null?c.concat([t]):null,hd(4,2,YB.bind(null,a,t),c)}function vd(){}function ty(t,a){var c=B8();a=a===void 0?null:a;var r=c.memoizedState;return r!==null&&a!==null&&id(a,r[1])?r[0]:(c.memoizedState=[t,a],t)}function ay(t,a){var c=B8();a=a===void 0?null:a;var r=c.memoizedState;return r!==null&&a!==null&&id(a,r[1])?r[0]:(t=t(),c.memoizedState=[t,a],t)}function Q$(t,a){var c=s9();H8(98>c?98:c,function(){t(!0)}),H8(97<c?97:c,function(){var r=M3.transition;M3.transition=1;try{t(!1),a()}finally{M3.transition=r}})}function sd(t,a,c){var r=Y0(),e=p6(t),l={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},i=a.pending;if(i===null?l.next=l:(l.next=i.next,i.next=l),a.pending=l,i=t.alternate,t===p2||i!==null&&i===p2)lc=li=!0;else{if(t.lanes===0&&(i===null||i.lanes===0)&&(i=a.lastRenderedReducer,i!==null))try{var o=a.lastRenderedState,n=i(o,c);if(l.eagerReducer=i,l.eagerState=n,m3(n,o))return}catch(h){}finally{}m6(t,e,r)}}var hi={readContext:f3,useCallback:B0,useContext:B0,useEffect:B0,useImperativeHandle:B0,useLayoutEffect:B0,useMemo:B0,useReducer:B0,useRef:B0,useState:B0,useDebugValue:B0,useDeferredValue:B0,useTransition:B0,useMutableSource:B0,useOpaqueIdentifier:B0,unstable_isNewReconciler:!1},X$={readContext:f3,useCallback:function(t,a){return w8().memoizedState=[t,a===void 0?null:a],t},useContext:f3,useEffect:QB,useImperativeHandle:function(t,a,c){return c=c!=null?c.concat([t]):null,nd(4,2,YB.bind(null,a,t),c)},useLayoutEffect:function(t,a){return nd(4,2,t,a)},useMemo:function(t,a){var c=w8();return a=a===void 0?null:a,t=t(),c.memoizedState=[t,a],t},useReducer:function(t,a,c){var r=w8();return a=c!==void 0?c(a):a,r.memoizedState=r.baseState=a,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},t=t.dispatch=sd.bind(null,p2,t),[r.memoizedState,t]},useRef:$B,useState:nc,useDebugValue:vd,useDeferredValue:function(t){var a=nc(t),c=a[0],r=a[1];return QB(function(){var e=M3.transition;M3.transition=1;try{r(t)}finally{M3.transition=e}},[t]),c},useTransition:function(){var t=nc(!1),a=t[0];return t=Q$.bind(null,t[1]),$B(t),[t,a]},useMutableSource:function(t,a,c){var r=w8();return r.memoizedState={refs:{getSnapshot:a,setSnapshot:null},source:t,subscribe:c},UB(r,t,a,c)},useOpaqueIdentifier:function(){if(M4){var t=!1,a=_$(function(){throw t||(t=!0,c("r:"+(Wg++).toString(36))),Error(n1(355))}),c=nc(a)[1];return(p2.mode&2)==0&&(p2.flags|=516,ii(5,function(){c("r:"+(Wg++).toString(36))},void 0,null)),a}return a="r:"+(Wg++).toString(36),nc(a),a},unstable_isNewReconciler:!1},Y$={readContext:f3,useCallback:ty,useContext:f3,useEffect:ni,useImperativeHandle:JB,useLayoutEffect:XB,useMemo:ay,useReducer:ic,useRef:oi,useState:function(){return ic(x4)},useDebugValue:vd,useDeferredValue:function(t){var a=ic(x4),c=a[0],r=a[1];return ni(function(){var e=M3.transition;M3.transition=1;try{r(t)}finally{M3.transition=e}},[t]),c},useTransition:function(){var t=ic(x4)[0];return[oi().current,t]},useMutableSource:KB,useOpaqueIdentifier:function(){return ic(x4)[0]},unstable_isNewReconciler:!1},J$={readContext:f3,useCallback:ty,useContext:f3,useEffect:ni,useImperativeHandle:JB,useLayoutEffect:XB,useMemo:ay,useReducer:oc,useRef:oi,useState:function(){return oc(x4)},useDebugValue:vd,useDeferredValue:function(t){var a=oc(x4),c=a[0],r=a[1];return ni(function(){var e=M3.transition;M3.transition=1;try{r(t)}finally{M3.transition=e}},[t]),c},useTransition:function(){var t=oc(x4)[0];return[oi().current,t]},useMutableSource:KB,useOpaqueIdentifier:function(){return oc(x4)[0]},unstable_isNewReconciler:!1},tQ=p8.ReactCurrentOwner,j3=!1;function y0(t,a,c,r){a.child=t===null?DB(a,null,c,r):ci(a,t.child,c,r)}function cy(t,a,c,r,e){c=c.render;var l=a.ref;return d9(a,e),r=od(t,a,c,r,l,e),t!==null&&!j3?(a.updateQueue=t.updateQueue,a.flags&=-517,t.lanes&=~e,o5(t,a,e)):(a.flags|=1,y0(t,a,r,e),a.child)}function ry(t,a,c,r,e,l){if(t===null){var i=c.type;return typeof i=="function"&&!Id(i)&&i.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=i,ey(t,a,i,r,e,l)):(t=Mi(c.type,null,r,a,a.mode,l),t.ref=a.ref,t.return=a,a.child=t)}return i=t.child,(e&l)==0&&(e=i.memoizedProps,c=c.compare,c=c!==null?c:Na,c(e,r)&&t.ref===a.ref)?o5(t,a,l):(a.flags|=1,t=x6(i,r),t.ref=a.ref,t.return=a,a.child=t)}function ey(t,a,c,r,e,l){if(t!==null&&Na(t.memoizedProps,r)&&t.ref===a.ref)if(j3=!1,(l&e)!=0)(t.flags&16384)!=0&&(j3=!0);else return a.lanes=t.lanes,o5(t,a,l);return dd(t,a,c,r,l)}function gd(t,a,c){var r=a.pendingProps,e=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((a.mode&4)==0)a.memoizedState={baseLanes:0},fi(a,c);else if((c&1073741824)!=0)a.memoizedState={baseLanes:0},fi(a,l!==null?l.baseLanes:c);else return t=l!==null?l.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:t},fi(a,t),null;else l!==null?(r=l.baseLanes|c,a.memoizedState=null):r=c,fi(a,r);return y0(t,a,e,c),a.child}function ly(t,a){var c=a.ref;(t===null&&c!==null||t!==null&&t.ref!==c)&&(a.flags|=128)}function dd(t,a,c,r,e){var l=w0(c)?C8:e0.current;return l=v9(a,l),d9(a,e),c=od(t,a,c,r,l,e),t!==null&&!j3?(a.updateQueue=t.updateQueue,a.flags&=-517,t.lanes&=~e,o5(t,a,e)):(a.flags|=1,y0(t,a,c,e),a.child)}function iy(t,a,c,r,e){if(w0(c)){var l=!0;Nl(a)}else l=!1;if(d9(a,e),a.stateNode===null)t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),EB(a,c,r),td(a,c,r,e),r=!0;else if(t===null){var i=a.stateNode,o=a.memoizedProps;i.props=o;var n=i.context,h=c.contextType;typeof h=="object"&&h!==null?h=f3(h):(h=w0(c)?C8:e0.current,h=v9(a,h));var v=c.getDerivedStateFromProps,g=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||n!==h)&&OB(a,i,r,h),s6=!1;var d=a.memoizedState;i.state=d,Ya(a,r,i,e),n=a.memoizedState,o!==r||d!==n||V0.current||s6?(typeof v=="function"&&(Yl(a,c,v,r),n=a.memoizedState),(o=s6||TB(a,c,o,r,d,n,h))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(a.flags|=4)):(typeof i.componentDidMount=="function"&&(a.flags|=4),a.memoizedProps=r,a.memoizedState=n),i.props=r,i.state=n,i.context=h,r=o):(typeof i.componentDidMount=="function"&&(a.flags|=4),r=!1)}else{i=a.stateNode,FB(t,a),o=a.memoizedProps,h=a.type===a.elementType?o:D3(a.type,o),i.props=h,g=a.pendingProps,d=i.context,n=c.contextType,typeof n=="object"&&n!==null?n=f3(n):(n=w0(c)?C8:e0.current,n=v9(a,n));var s=c.getDerivedStateFromProps;(v=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||d!==n)&&OB(a,i,r,n),s6=!1,d=a.memoizedState,i.state=d,Ya(a,r,i,e);var u=a.memoizedState;o!==g||d!==u||V0.current||s6?(typeof s=="function"&&(Yl(a,c,s,r),u=a.memoizedState),(h=s6||TB(a,c,h,r,d,u,n))?(v||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,u,n),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,u,n)),typeof i.componentDidUpdate=="function"&&(a.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(a.flags|=256)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(a.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(a.flags|=256),a.memoizedProps=r,a.memoizedState=u),i.props=r,i.state=u,i.context=n,r=h):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(a.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(a.flags|=256),r=!1)}return zd(t,a,c,r,l,e)}function zd(t,a,c,r,e,l){ly(t,a);var i=(a.flags&64)!=0;if(!r&&!i)return e&&HB(a,c,!1),o5(t,a,l);r=a.stateNode,tQ.current=a;var o=i&&typeof c.getDerivedStateFromError!="function"?null:r.render();return a.flags|=1,t!==null&&i?(a.child=ci(a,t.child,null,l),a.child=ci(a,null,o,l)):y0(t,a,o,l),a.memoizedState=r.state,e&&HB(a,c,!0),a.child}function oy(t){var a=t.stateNode;a.pendingContext?CB(t,a.pendingContext,a.pendingContext!==a.context):a.context&&CB(t,a.context,!1),ad(t,a.containerInfo)}var vi={dehydrated:null,retryLane:0};function ny(t,a,c){var r=a.pendingProps,e=s2.current,l=!1,i;return(i=(a.flags&64)!=0)||(i=t!==null&&t.memoizedState===null?!1:(e&2)!=0),i?(l=!0,a.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(e|=1),v2(s2,e&1),t===null?(r.fallback!==void 0&&rd(a),t=r.children,e=r.fallback,l?(t=hy(a,t,e,c),a.child.memoizedState={baseLanes:c},a.memoizedState=vi,t):typeof r.unstable_expectedLoadTime=="number"?(t=hy(a,t,e,c),a.child.memoizedState={baseLanes:c},a.memoizedState=vi,a.lanes=33554432,t):(c=Pd({mode:"visible",children:t},a.mode,c,null),c.return=a,a.child=c)):t.memoizedState!==null?l?(r=sy(t,a,r.children,r.fallback,c),l=a.child,e=t.child.memoizedState,l.memoizedState=e===null?{baseLanes:c}:{baseLanes:e.baseLanes|c},l.childLanes=t.childLanes&~c,a.memoizedState=vi,r):(c=vy(t,a,r.children,c),a.memoizedState=null,c):l?(r=sy(t,a,r.children,r.fallback,c),l=a.child,e=t.child.memoizedState,l.memoizedState=e===null?{baseLanes:c}:{baseLanes:e.baseLanes|c},l.childLanes=t.childLanes&~c,a.memoizedState=vi,r):(c=vy(t,a,r.children,c),a.memoizedState=null,c)}function hy(t,a,c,r){var e=t.mode,l=t.child;return a={mode:"hidden",children:a},(e&2)==0&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Pd(a,e,0,null),c=C9(c,e,r,null),l.return=t,c.return=t,l.sibling=c,t.child=l,c}function vy(t,a,c,r){var e=t.child;return t=e.sibling,c=x6(e,{mode:"visible",children:c}),(a.mode&2)==0&&(c.lanes=r),c.return=a,c.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,a.firstEffect=a.lastEffect=t),a.child=c}function sy(t,a,c,r,e){var l=a.mode,i=t.child;t=i.sibling;var o={mode:"hidden",children:c};return(l&2)==0&&a.child!==i?(c=a.child,c.childLanes=0,c.pendingProps=o,i=c.lastEffect,i!==null?(a.firstEffect=c.firstEffect,a.lastEffect=i,i.nextEffect=null):a.firstEffect=a.lastEffect=null):c=x6(i,o),t!==null?r=x6(t,r):(r=C9(r,l,e,null),r.flags|=2),r.return=a,c.return=a,c.sibling=r,a.child=c,r}function gy(t,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),bB(t.return,a)}function ud(t,a,c,r,e,l){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:r,tail:c,tailMode:e,lastEffect:l}:(i.isBackwards=a,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=c,i.tailMode=e,i.lastEffect=l)}function dy(t,a,c){var r=a.pendingProps,e=r.revealOrder,l=r.tail;if(y0(t,a,r.children,c),r=s2.current,(r&2)!=0)r=r&1|2,a.flags|=64;else{if(t!==null&&(t.flags&64)!=0)t:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,c);else if(t.tag===19)gy(t,c);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break t;for(;t.sibling===null;){if(t.return===null||t.return===a)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(v2(s2,r),(a.mode&2)==0)a.memoizedState=null;else switch(e){case"forwards":for(c=a.child,e=null;c!==null;)t=c.alternate,t!==null&&ri(t)===null&&(e=c),c=c.sibling;c=e,c===null?(e=a.child,a.child=null):(e=c.sibling,c.sibling=null),ud(a,!1,e,c,l,a.lastEffect);break;case"backwards":for(c=null,e=a.child,a.child=null;e!==null;){if(t=e.alternate,t!==null&&ri(t)===null){a.child=e;break}t=e.sibling,e.sibling=c,c=e,e=t}ud(a,!0,c,null,l,a.lastEffect);break;case"together":ud(a,!1,null,null,void 0,a.lastEffect);break;default:a.memoizedState=null}return a.child}function o5(t,a,c){if(t!==null&&(a.dependencies=t.dependencies),vc|=a.lanes,(c&a.childLanes)!=0){if(t!==null&&a.child!==t.child)throw Error(n1(153));if(a.child!==null){for(t=a.child,c=x6(t,t.pendingProps),a.child=c,c.return=a;t.sibling!==null;)t=t.sibling,c=c.sibling=x6(t,t.pendingProps),c.return=a;c.sibling=null}return a.child}return null}var zy,pd,uy,py;zy=function(t,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};pd=function(){};uy=function(t,a,c,r){var e=t.memoizedProps;if(e!==r){t=a.stateNode,V8(f4.current);var l=null;switch(c){case"input":e=ag(t,e),r=ag(t,r),l=[];break;case"option":e=eg(t,e),r=eg(t,r),l=[];break;case"select":e=e2({},e,{value:void 0}),r=e2({},r,{value:void 0}),l=[];break;case"textarea":e=lg(t,e),r=lg(t,r),l=[];break;default:typeof e.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dl)}ng(c,r);var i;c=null;for(h in e)if(!r.hasOwnProperty(h)&&e.hasOwnProperty(h)&&e[h]!=null)if(h==="style"){var o=e[h];for(i in o)o.hasOwnProperty(i)&&(c||(c={}),c[i]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(wa.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var n=r[h];if(o=e!=null?e[h]:void 0,r.hasOwnProperty(h)&&n!==o&&(n!=null||o!=null))if(h==="style")if(o){for(i in o)!o.hasOwnProperty(i)||n&&n.hasOwnProperty(i)||(c||(c={}),c[i]="");for(i in n)n.hasOwnProperty(i)&&o[i]!==n[i]&&(c||(c={}),c[i]=n[i])}else c||(l||(l=[]),l.push(h,c)),c=n;else h==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,o=o?o.__html:void 0,n!=null&&o!==n&&(l=l||[]).push(h,n)):h==="children"?typeof n!="string"&&typeof n!="number"||(l=l||[]).push(h,""+n):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(wa.hasOwnProperty(h)?(n!=null&&h==="onScroll"&&a2("scroll",t),l||o===n||(l=[])):typeof n=="object"&&n!==null&&n.$$typeof===Qs?n.toString():(l=l||[]).push(h,n))}c&&(l=l||[]).push("style",c);var h=l;(a.updateQueue=h)&&(a.flags|=4)}};py=function(t,a,c,r){c!==r&&(a.flags|=4)};function hc(t,a){if(!M4)switch(t.tailMode){case"hidden":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var r=null;c!==null;)c.alternate!==null&&(r=c),c=c.sibling;r===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function aQ(t,a,c){var r=a.pendingProps;switch(a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return w0(a.type)&&ql(),null;case 3:return z9(),c2(V0),c2(e0),ld(),r=a.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ei(a)?a.flags|=4:r.hydrate||(a.flags|=256)),pd(a),null;case 5:cd(a);var e=V8(cc.current);if(c=a.type,t!==null&&a.stateNode!=null)uy(t,a,c,r,e),t.ref!==a.ref&&(a.flags|=128);else{if(!r){if(a.stateNode===null)throw Error(n1(166));return null}if(t=V8(f4.current),ei(a)){r=a.stateNode,c=a.type;var l=a.memoizedProps;switch(r[n6]=a,r[Wl]=l,c){case"dialog":a2("cancel",r),a2("close",r);break;case"iframe":case"object":case"embed":a2("load",r);break;case"video":case"audio":for(t=0;t<Ka.length;t++)a2(Ka[t],r);break;case"source":a2("error",r);break;case"img":case"image":case"link":a2("error",r),a2("load",r);break;case"details":a2("toggle",r);break;case"input":ow(r,l),a2("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},a2("invalid",r);break;case"textarea":vw(r,l),a2("invalid",r)}ng(c,l),t=null;for(var i in l)l.hasOwnProperty(i)&&(e=l[i],i==="children"?typeof e=="string"?r.textContent!==e&&(t=["children",e]):typeof e=="number"&&r.textContent!==""+e&&(t=["children",""+e]):wa.hasOwnProperty(i)&&e!=null&&i==="onScroll"&&a2("scroll",r));switch(c){case"input":Ll(r),hw(r,l,!0);break;case"textarea":Ll(r),gw(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Dl)}r=t,a.updateQueue=r,r!==null&&(a.flags|=4)}else{switch(i=e.nodeType===9?e:e.ownerDocument,t===ig.html&&(t=dw(c)),t===ig.html?c==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(c,{is:r.is}):(t=i.createElement(c),c==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,c),t[n6]=a,t[Wl]=r,zy(t,a,!1,!1),a.stateNode=t,i=hg(c,r),c){case"dialog":a2("cancel",t),a2("close",t),e=r;break;case"iframe":case"object":case"embed":a2("load",t),e=r;break;case"video":case"audio":for(e=0;e<Ka.length;e++)a2(Ka[e],t);e=r;break;case"source":a2("error",t),e=r;break;case"img":case"image":case"link":a2("error",t),a2("load",t),e=r;break;case"details":a2("toggle",t),e=r;break;case"input":ow(t,r),e=ag(t,r),a2("invalid",t);break;case"option":e=eg(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},e=e2({},r,{value:void 0}),a2("invalid",t);break;case"textarea":vw(t,r),e=lg(t,r),a2("invalid",t);break;default:e=r}ng(c,e);var o=e;for(l in o)if(o.hasOwnProperty(l)){var n=o[l];l==="style"?pw(t,n):l==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,n!=null&&zw(t,n)):l==="children"?typeof n=="string"?(c!=="textarea"||n!=="")&&Ra(t,n):typeof n=="number"&&Ra(t,""+n):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(wa.hasOwnProperty(l)?n!=null&&l==="onScroll"&&a2("scroll",t):n!=null&&_s(t,l,n,i))}switch(c){case"input":Ll(t),hw(t,r,!1);break;case"textarea":Ll(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+c6(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?$7(t,!!r.multiple,l,!1):r.defaultValue!=null&&$7(t,!!r.multiple,r.defaultValue,!0);break;default:typeof e.onClick=="function"&&(t.onclick=Dl)}pB(c,r)&&(a.flags|=4)}a.ref!==null&&(a.flags|=128)}return null;case 6:if(t&&a.stateNode!=null)py(t,a,t.memoizedProps,r);else{if(typeof r!="string"&&a.stateNode===null)throw Error(n1(166));c=V8(cc.current),V8(f4.current),ei(a)?(r=a.stateNode,c=a.memoizedProps,r[n6]=a,r.nodeValue!==c&&(a.flags|=4)):(r=(c.nodeType===9?c:c.ownerDocument).createTextNode(r),r[n6]=a,a.stateNode=r)}return null;case 13:return c2(s2),r=a.memoizedState,(a.flags&64)!=0?(a.lanes=c,a):(r=r!==null,c=!1,t===null?a.memoizedProps.fallback!==void 0&&ei(a):c=t.memoizedState!==null,r&&!c&&(a.mode&2)!=0&&(t===null&&a.memoizedProps.unstable_avoidThisFallback!==!0||(s2.current&1)!=0?q2===0&&(q2=3):((q2===0||q2===3)&&(q2=4),m0===null||(vc&134217727)==0&&(m9&134217727)==0||M9(m0,o0))),(r||c)&&(a.flags|=4),null);case 4:return z9(),pd(a),t===null&&sB(a.stateNode.containerInfo),null;case 10:return Yg(a),null;case 17:return w0(a.type)&&ql(),null;case 19:if(c2(s2),r=a.memoizedState,r===null)return null;if(l=(a.flags&64)!=0,i=r.rendering,i===null)if(l)hc(r,!1);else{if(q2!==0||t!==null&&(t.flags&64)!=0)for(t=a.child;t!==null;){if(i=ri(t),i!==null){for(a.flags|=64,hc(r,!1),l=i.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),r.lastEffect===null&&(a.firstEffect=null),a.lastEffect=r.lastEffect,r=c,c=a.child;c!==null;)l=c,t=r,l.flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),c=c.sibling;return v2(s2,s2.current&1|2),a.child}t=t.sibling}r.tail!==null&&l0()>yd&&(a.flags|=64,l=!0,hc(r,!1),a.lanes=33554432)}else{if(!l)if(t=ri(i),t!==null){if(a.flags|=64,l=!0,c=t.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),hc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!M4)return a=a.lastEffect=r.lastEffect,a!==null&&(a.nextEffect=null),null}else 2*l0()-r.renderingStartTime>yd&&c!==1073741824&&(a.flags|=64,l=!0,hc(r,!1),a.lanes=33554432);r.isBackwards?(i.sibling=a.child,a.child=i):(c=r.last,c!==null?c.sibling=i:a.child=i,r.last=i)}return r.tail!==null?(c=r.tail,r.rendering=c,r.tail=c.sibling,r.lastEffect=a.lastEffect,r.renderingStartTime=l0(),c.sibling=null,a=s2.current,v2(s2,l?a&1|2:a&1),c):null;case 23:case 24:return Fd(),t!==null&&t.memoizedState!==null!=(a.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(a.flags|=4),null}throw Error(n1(156,a.tag))}function cQ(t){switch(t.tag){case 1:w0(t.type)&&ql();var a=t.flags;return a&4096?(t.flags=a&-4097|64,t):null;case 3:if(z9(),c2(V0),c2(e0),ld(),a=t.flags,(a&64)!=0)throw Error(n1(285));return t.flags=a&-4097|64,t;case 5:return cd(t),null;case 13:return c2(s2),a=t.flags,a&4096?(t.flags=a&-4097|64,t):null;case 19:return c2(s2),null;case 4:return z9(),null;case 10:return Yg(t),null;case 23:case 24:return Fd(),null;default:return null}}function md(t,a){try{var c="",r=a;do c+=GK(r),r=r.return;while(r);var e=c}catch(l){e=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:a,stack:e}}function fd(t,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var rQ=typeof WeakMap=="function"?WeakMap:Map;function my(t,a,c){c=g6(-1,c),c.tag=3,c.payload={element:null};var r=a.value;return c.callback=function(){di||(di=!0,Sd=r),fd(t,a)},c}function fy(t,a,c){c=g6(-1,c),c.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var e=a.value;c.payload=function(){return fd(t,a),r(e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(c.callback=function(){typeof r!="function"&&(C4===null?C4=new Set([this]):C4.add(this),fd(t,a));var i=a.stack;this.componentDidCatch(a.value,{componentStack:i!==null?i:""})}),c}var eQ=typeof WeakSet=="function"?WeakSet:Set;function My(t){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){M6(t,c)}else a.current=null}function lQ(t,a){switch(a.tag){case 0:case 11:case 15:case 22:return;case 1:if(a.flags&256&&t!==null){var c=t.memoizedProps,r=t.memoizedState;t=a.stateNode,a=t.getSnapshotBeforeUpdate(a.elementType===a.type?c:D3(a.type,c),r),t.__reactInternalSnapshotBeforeUpdate=a}return;case 3:a.flags&256&&jg(a.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(n1(163))}function iQ(t,a,c){switch(c.tag){case 0:case 11:case 15:case 22:if(a=c.updateQueue,a=a!==null?a.lastEffect:null,a!==null){t=a=a.next;do{if((t.tag&3)==3){var r=t.create;t.destroy=r()}t=t.next}while(t!==a)}if(a=c.updateQueue,a=a!==null?a.lastEffect:null,a!==null){t=a=a.next;do{var e=t;r=e.next,e=e.tag,(e&4)!=0&&(e&1)!=0&&(Iy(c,t),zQ(c,t)),t=r}while(t!==a)}return;case 1:t=c.stateNode,c.flags&4&&(a===null?t.componentDidMount():(r=c.elementType===c.type?a.memoizedProps:D3(c.type,a.memoizedProps),t.componentDidUpdate(r,a.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),a=c.updateQueue,a!==null&&PB(c,a,t);return;case 3:if(a=c.updateQueue,a!==null){if(t=null,c.child!==null)switch(c.child.tag){case 5:t=c.child.stateNode;break;case 1:t=c.child.stateNode}PB(c,a,t)}return;case 5:t=c.stateNode,a===null&&c.flags&4&&pB(c.type,c.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:c.memoizedState===null&&(c=c.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&bw(c))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(n1(163))}function xy(t,a){for(var c=t;;){if(c.tag===5){var r=c.stateNode;if(a)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=c.stateNode;var e=c.memoizedProps.style;e=e!=null&&e.hasOwnProperty("display")?e.display:null,r.style.display=uw("display",e)}}else if(c.tag===6)c.stateNode.nodeValue=a?"":c.memoizedProps;else if((c.tag!==23&&c.tag!==24||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break;for(;c.sibling===null;){if(c.return===null||c.return===t)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function Cy(t,a){if(L8&&typeof L8.onCommitFiberUnmount=="function")try{L8.onCommitFiberUnmount(qg,a)}catch(l){}switch(a.tag){case 0:case 11:case 14:case 15:case 22:if(t=a.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var c=t=t.next;do{var r=c,e=r.destroy;if(r=r.tag,e!==void 0)if((r&4)!=0)Iy(a,c);else{r=a;try{e()}catch(l){M6(r,l)}}c=c.next}while(c!==t)}break;case 1:if(My(a),t=a.stateNode,typeof t.componentWillUnmount=="function")try{t.props=a.memoizedProps,t.state=a.memoizedState,t.componentWillUnmount()}catch(l){M6(a,l)}break;case 5:My(a);break;case 4:wy(t,a)}}function Ly(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Hy(t){return t.tag===5||t.tag===3||t.tag===4}function Vy(t){t:{for(var a=t.return;a!==null;){if(Hy(a))break t;a=a.return}throw Error(n1(160))}var c=a;switch(a=c.stateNode,c.tag){case 5:var r=!1;break;case 3:a=a.containerInfo,r=!0;break;case 4:a=a.containerInfo,r=!0;break;default:throw Error(n1(161))}c.flags&16&&(Ra(a,""),c.flags&=-17);t:a:for(c=t;;){for(;c.sibling===null;){if(c.return===null||Hy(c.return)){c=null;break t}c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue a;c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break t}}r?Md(t,c,a):xd(t,c,a)}function Md(t,a,c){var r=t.tag,e=r===5||r===6;if(e)t=e?t.stateNode:t.stateNode.instance,a?c.nodeType===8?c.parentNode.insertBefore(t,a):c.insertBefore(t,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(t,c)):(a=c,a.appendChild(t)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Dl));else if(r!==4&&(t=t.child,t!==null))for(Md(t,a,c),t=t.sibling;t!==null;)Md(t,a,c),t=t.sibling}function xd(t,a,c){var r=t.tag,e=r===5||r===6;if(e)t=e?t.stateNode:t.stateNode.instance,a?c.insertBefore(t,a):c.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xd(t,a,c),t=t.sibling;t!==null;)xd(t,a,c),t=t.sibling}function wy(t,a){for(var c=a,r=!1,e,l;;){if(!r){r=c.return;t:for(;;){if(r===null)throw Error(n1(160));switch(e=r.stateNode,r.tag){case 5:l=!1;break t;case 3:e=e.containerInfo,l=!0;break t;case 4:e=e.containerInfo,l=!0;break t}r=r.return}r=!0}if(c.tag===5||c.tag===6){t:for(var i=t,o=c,n=o;;)if(Cy(i,n),n.child!==null&&n.tag!==4)n.child.return=n,n=n.child;else{if(n===o)break t;for(;n.sibling===null;){if(n.return===null||n.return===o)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l?(i=e,o=c.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):e.removeChild(c.stateNode)}else if(c.tag===4){if(c.child!==null){e=c.stateNode.containerInfo,l=!0,c.child.return=c,c=c.child;continue}}else if(Cy(t,c),c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return,c.tag===4&&(r=!1)}c.sibling.return=c.return,c=c.sibling}}function Cd(t,a){switch(a.tag){case 0:case 11:case 14:case 15:case 22:var c=a.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var r=c=c.next;do(r.tag&3)==3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==c)}return;case 1:return;case 5:if(c=a.stateNode,c!=null){r=a.memoizedProps;var e=t!==null?t.memoizedProps:r;t=a.type;var l=a.updateQueue;if(a.updateQueue=null,l!==null){for(c[Wl]=r,t==="input"&&r.type==="radio"&&r.name!=null&&nw(c,r),hg(t,e),a=hg(t,r),e=0;e<l.length;e+=2){var i=l[e],o=l[e+1];i==="style"?pw(c,o):i==="dangerouslySetInnerHTML"?zw(c,o):i==="children"?Ra(c,o):_s(c,i,o,a)}switch(t){case"input":cg(c,r);break;case"textarea":sw(c,r);break;case"select":t=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!r.multiple,l=r.value,l!=null?$7(c,!!r.multiple,l,!1):t!==!!r.multiple&&(r.defaultValue!=null?$7(c,!!r.multiple,r.defaultValue,!0):$7(c,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(a.stateNode===null)throw Error(n1(162));a.stateNode.nodeValue=a.memoizedProps;return;case 3:c=a.stateNode,c.hydrate&&(c.hydrate=!1,bw(c.containerInfo));return;case 12:return;case 13:a.memoizedState!==null&&(Bd=l0(),xy(a.child,!0)),By(a);return;case 19:By(a);return;case 17:return;case 23:case 24:xy(a,a.memoizedState!==null);return}throw Error(n1(163))}function By(t){var a=t.updateQueue;if(a!==null){t.updateQueue=null;var c=t.stateNode;c===null&&(c=t.stateNode=new eQ),a.forEach(function(r){var e=mQ.bind(null,t,r);c.has(r)||(c.add(r),r.then(e,e))})}}function oQ(t,a){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(a=a.memoizedState,a!==null&&a.dehydrated===null):!1}var nQ=Math.ceil,si=p8.ReactCurrentDispatcher,Ld=p8.ReactCurrentOwner,B1=0,m0=null,y2=null,o0=0,y8=0,Hd=h6(0),q2=0,gi=null,p9=0,vc=0,m9=0,Vd=0,wd=null,Bd=0,yd=1/0;function f9(){yd=l0()+500}var p1=null,di=!1,Sd=null,C4=null,u6=!1,sc=null,gc=90,kd=[],Ad=[],n5=null,dc=0,Rd=null,zi=-1,h5=0,ui=0,zc=null,pi=!1;function Y0(){return(B1&48)!=0?l0():zi!==-1?zi:zi=l0()}function p6(t){if(t=t.mode,(t&2)==0)return 1;if((t&4)==0)return s9()===99?1:2;if(h5===0&&(h5=p9),$$.transition!==0){ui!==0&&(ui=wd!==null?wd.pendingLanes:0),t=h5;var a=4186112&~ui;return a&=-a,a===0&&(t=4186112&~t,a=t&-t,a===0&&(a=8192)),a}return t=s9(),(B1&4)!=0&&t===98?t=Al(12,h5):(t=YK(t),t=Al(t,h5)),t}function m6(t,a,c){if(50<dc)throw dc=0,Rd=null,Error(n1(185));if(t=mi(t,a),t===null)return null;Rl(t,a,c),t===m0&&(m9|=a,q2===4&&M9(t,o0));var r=s9();a===1?(B1&8)!=0&&(B1&48)==0?bd(t):(x3(t,c),B1===0&&(f9(),m4())):((B1&4)==0||r!==98&&r!==99||(n5===null?n5=new Set([t]):n5.add(t)),x3(t,c)),wd=t}function mi(t,a){t.lanes|=a;var c=t.alternate;for(c!==null&&(c.lanes|=a),c=t,t=t.return;t!==null;)t.childLanes|=a,c=t.alternate,c!==null&&(c.childLanes|=a),c=t,t=t.return;return c.tag===3?c.stateNode:null}function x3(t,a){for(var c=t.callbackNode,r=t.suspendedLanes,e=t.pingedLanes,l=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-i6(i),n=1<<o,h=l[o];if(h===-1){if((n&r)==0||(n&e)!=0){h=a,t9(n);var v=X1;l[o]=10<=v?h+250:6<=v?h+5e3:-1}}else h<=a&&(t.expiredLanes|=n);i&=~n}if(r=Za(t,t===m0?o0:0),a=X1,r===0)c!==null&&(c!==$g&&Ug(c),t.callbackNode=null,t.callbackPriority=0);else{if(c!==null){if(t.callbackPriority===a)return;c!==$g&&Ug(c)}a===15?(c=bd.bind(null,t),l5===null?(l5=[c],Kl=Ng(Ul,RB)):l5.push(c),c=$g):a===14?c=Xa(99,bd.bind(null,t)):(c=JK(a),c=Xa(c,yy.bind(null,t))),t.callbackPriority=a,t.callbackNode=c}}function yy(t){if(zi=-1,ui=h5=0,(B1&48)!=0)throw Error(n1(327));var a=t.callbackNode;if(f6()&&t.callbackNode!==a)return null;var c=Za(t,t===m0?o0:0);if(c===0)return null;var r=c,e=B1;B1|=16;var l=Ry();(m0!==t||o0!==r)&&(f9(),x9(t,r));do try{sQ();break}catch(o){Ay(t,o)}while(1);if(Xg(),si.current=l,B1=e,y2!==null?r=0:(m0=null,o0=0,r=q2),(p9&m9)!=0)x9(t,0);else if(r!==0){if(r===2&&(B1|=64,t.hydrate&&(t.hydrate=!1,jg(t.containerInfo)),c=Ow(t),c!==0&&(r=uc(t,c))),r===1)throw a=gi,x9(t,0),M9(t,c),x3(t,l0()),a;switch(t.finishedWork=t.current.alternate,t.finishedLanes=c,r){case 0:case 1:throw Error(n1(345));case 2:S8(t);break;case 3:if(M9(t,c),(c&62914560)===c&&(r=Bd+500-l0(),10<r)){if(Za(t,0)!==0)break;if(e=t.suspendedLanes,(e&c)!==c){Y0(),t.pingedLanes|=t.suspendedLanes&e;break}t.timeoutHandle=mB(S8.bind(null,t),r);break}S8(t);break;case 4:if(M9(t,c),(c&4186112)===c)break;for(r=t.eventTimes,e=-1;0<c;){var i=31-i6(c);l=1<<i,i=r[i],i>e&&(e=i),c&=~l}if(c=e,c=l0()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*nQ(c/1960))-c,10<c){t.timeoutHandle=mB(S8.bind(null,t),c);break}S8(t);break;case 5:S8(t);break;default:throw Error(n1(329))}}return x3(t,l0()),t.callbackNode===a?yy.bind(null,t):null}function M9(t,a){for(a&=~Vd,a&=~m9,t.suspendedLanes|=a,t.pingedLanes&=~a,t=t.expirationTimes;0<a;){var c=31-i6(a),r=1<<c;t[c]=-1,a&=~r}}function bd(t){if((B1&48)!=0)throw Error(n1(327));if(f6(),t===m0&&(t.expiredLanes&o0)!=0){var a=o0,c=uc(t,a);(p9&m9)!=0&&(a=Za(t,a),c=uc(t,a))}else a=Za(t,0),c=uc(t,a);if(t.tag!==0&&c===2&&(B1|=64,t.hydrate&&(t.hydrate=!1,jg(t.containerInfo)),a=Ow(t),a!==0&&(c=uc(t,a))),c===1)throw c=gi,x9(t,0),M9(t,a),x3(t,l0()),c;return t.finishedWork=t.current.alternate,t.finishedLanes=a,S8(t),x3(t,l0()),null}function hQ(){if(n5!==null){var t=n5;n5=null,t.forEach(function(a){a.expiredLanes|=24&a.pendingLanes,x3(a,l0())})}m4()}function Sy(t,a){var c=B1;B1|=1;try{return t(a)}finally{B1=c,B1===0&&(f9(),m4())}}function ky(t,a){var c=B1;B1&=-2,B1|=8;try{return t(a)}finally{B1=c,B1===0&&(f9(),m4())}}function fi(t,a){v2(Hd,y8),y8|=a,p9|=a}function Fd(){y8=Hd.current,c2(Hd)}function x9(t,a){t.finishedWork=null,t.finishedLanes=0;var c=t.timeoutHandle;if(c!==-1&&(t.timeoutHandle=-1,W$(c)),y2!==null)for(c=y2.return;c!==null;){var r=c;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ql();break;case 3:z9(),c2(V0),c2(e0),ld();break;case 5:cd(r);break;case 4:z9();break;case 13:c2(s2);break;case 19:c2(s2);break;case 10:Yg(r);break;case 23:case 24:Fd()}c=c.return}m0=t,y2=x6(t.current,null),o0=y8=p9=a,q2=0,gi=null,Vd=m9=vc=0}function Ay(t,a){do{var c=y2;try{if(Xg(),rc.current=hi,li){for(var r=p2.memoizedState;r!==null;){var e=r.queue;e!==null&&(e.pending=null),r=r.next}li=!1}if(ec=0,_2=i0=p2=null,lc=!1,Ld.current=null,c===null||c.return===null){q2=1,gi=a,y2=null;break}t:{var l=t,i=c.return,o=c,n=a;if(a=o0,o.flags|=2048,o.firstEffect=o.lastEffect=null,n!==null&&typeof n=="object"&&typeof n.then=="function"){var h=n;if((o.mode&2)==0){var v=o.alternate;v?(o.updateQueue=v.updateQueue,o.memoizedState=v.memoizedState,o.lanes=v.lanes):(o.updateQueue=null,o.memoizedState=null)}var g=(s2.current&1)!=0,d=i;do{var s;if(s=d.tag===13){var u=d.memoizedState;if(u!==null)s=u.dehydrated!==null;else{var p=d.memoizedProps;s=p.fallback===void 0?!1:p.unstable_avoidThisFallback!==!0?!0:!g}}if(s){var z=d.updateQueue;if(z===null){var m=new Set;m.add(h),d.updateQueue=m}else z.add(h);if((d.mode&2)==0){if(d.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var f=g6(-1,1);f.tag=2,d6(o,f)}o.lanes|=1;break t}n=void 0,o=a;var M=l.pingCache;if(M===null?(M=l.pingCache=new rQ,n=new Set,M.set(h,n)):(n=M.get(h),n===void 0&&(n=new Set,M.set(h,n))),!n.has(o)){n.add(o);var H=pQ.bind(null,l,h,o);h.then(H,H)}d.flags|=4096,d.lanes=a;break t}d=d.return}while(d!==null);n=Error((K7(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}q2!==5&&(q2=2),n=md(n,o),d=i;do{switch(d.tag){case 3:l=n,d.flags|=4096,a&=-a,d.lanes|=a;var w=my(d,l,a);IB(d,w);break t;case 1:l=n;var B=d.type,k=d.stateNode;if((d.flags&64)==0&&(typeof B.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(C4===null||!C4.has(k)))){d.flags|=4096,a&=-a,d.lanes|=a;var I=fy(d,l,a);IB(d,I);break t}}d=d.return}while(d!==null)}Fy(c)}catch(j){a=j,y2===c&&c!==null&&(y2=c=c.return);continue}break}while(1)}function Ry(){var t=si.current;return si.current=hi,t===null?hi:t}function uc(t,a){var c=B1;B1|=16;var r=Ry();m0===t&&o0===a||x9(t,a);do try{vQ();break}catch(e){Ay(t,e)}while(1);if(Xg(),B1=c,si.current=r,y2!==null)throw Error(n1(261));return m0=null,o0=0,q2}function vQ(){for(;y2!==null;)by(y2)}function sQ(){for(;y2!==null&&!N$();)by(y2)}function by(t){var a=Gy(t.alternate,t,y8);t.memoizedProps=t.pendingProps,a===null?Fy(t):y2=a,Ld.current=null}function Fy(t){var a=t;do{var c=a.alternate;if(t=a.return,(a.flags&2048)==0){if(c=aQ(c,a,y8),c!==null){y2=c;return}if(c=a,c.tag!==24&&c.tag!==23||c.memoizedState===null||(y8&1073741824)!=0||(c.mode&4)==0){for(var r=0,e=c.child;e!==null;)r|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=r}t!==null&&(t.flags&2048)==0&&(t.firstEffect===null&&(t.firstEffect=a.firstEffect),a.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=a.firstEffect),t.lastEffect=a.lastEffect),1<a.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=a:t.firstEffect=a,t.lastEffect=a))}else{if(c=cQ(a),c!==null){c.flags&=2047,y2=c;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(a=a.sibling,a!==null){y2=a;return}y2=a=t}while(a!==null);q2===0&&(q2=5)}function S8(t){var a=s9();return H8(99,gQ.bind(null,t,a)),null}function gQ(t,a){do f6();while(sc!==null);if((B1&48)!=0)throw Error(n1(327));var c=t.finishedWork;if(c===null)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(n1(177));t.callbackNode=null;var r=c.lanes|c.childLanes,e=r,l=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;for(var i=t.eventTimes,o=t.expirationTimes;0<l;){var n=31-i6(l),h=1<<n;e[n]=0,i[n]=-1,o[n]=-1,l&=~h}if(n5!==null&&(r&24)==0&&n5.has(t)&&n5.delete(t),t===m0&&(y2=m0=null,o0=0),1<c.flags?c.lastEffect!==null?(c.lastEffect.nextEffect=c,r=c.firstEffect):r=c:r=c.firstEffect,r!==null){if(e=B1,B1|=32,Ld.current=null,Og=bl,i=eB(),Pg(i)){if("selectionStart"in i)o={start:i.selectionStart,end:i.selectionEnd};else t:if(o=(o=i.ownerDocument)&&o.defaultView||window,(h=o.getSelection&&o.getSelection())&&h.rangeCount!==0){o=h.anchorNode,l=h.anchorOffset,n=h.focusNode,h=h.focusOffset;try{o.nodeType,n.nodeType}catch(j){o=null;break t}var v=0,g=-1,d=-1,s=0,u=0,p=i,z=null;a:for(;;){for(var m;p!==o||l!==0&&p.nodeType!==3||(g=v+l),p!==n||h!==0&&p.nodeType!==3||(d=v+h),p.nodeType===3&&(v+=p.nodeValue.length),(m=p.firstChild)!==null;)z=p,p=m;for(;;){if(p===i)break a;if(z===o&&++s===l&&(g=v),z===n&&++u===h&&(d=v),(m=p.nextSibling)!==null)break;p=z,z=p.parentNode}p=m}o=g===-1||d===-1?null:{start:g,end:d}}else o=null;o=o||{start:0,end:0}}else o=null;Zg={focusedElem:i,selectionRange:o},bl=!1,zc=null,pi=!1,p1=r;do try{dQ()}catch(j){if(p1===null)throw Error(n1(330));M6(p1,j),p1=p1.nextEffect}while(p1!==null);zc=null,p1=r;do try{for(i=t;p1!==null;){var f=p1.flags;if(f&16&&Ra(p1.stateNode,""),f&128){var M=p1.alternate;if(M!==null){var H=M.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(f&1038){case 2:Vy(p1),p1.flags&=-3;break;case 6:Vy(p1),p1.flags&=-3,Cd(p1.alternate,p1);break;case 1024:p1.flags&=-1025;break;case 1028:p1.flags&=-1025,Cd(p1.alternate,p1);break;case 4:Cd(p1.alternate,p1);break;case 8:o=p1,wy(i,o);var w=o.alternate;Ly(o),w!==null&&Ly(w)}p1=p1.nextEffect}}catch(j){if(p1===null)throw Error(n1(330));M6(p1,j),p1=p1.nextEffect}while(p1!==null);if(H=Zg,M=eB(),f=H.focusedElem,i=H.selectionRange,M!==f&&f&&f.ownerDocument&&rB(f.ownerDocument.documentElement,f)){for(i!==null&&Pg(f)&&(M=i.start,H=i.end,H===void 0&&(H=M),"selectionStart"in f?(f.selectionStart=M,f.selectionEnd=Math.min(H,f.value.length)):(H=(M=f.ownerDocument||document)&&M.defaultView||window,H.getSelection&&(H=H.getSelection(),o=f.textContent.length,w=Math.min(i.start,o),i=i.end===void 0?w:Math.min(i.end,o),!H.extend&&w>i&&(o=i,i=w,w=o),o=cB(f,w),l=cB(f,i),o&&l&&(H.rangeCount!==1||H.anchorNode!==o.node||H.anchorOffset!==o.offset||H.focusNode!==l.node||H.focusOffset!==l.offset)&&(M=M.createRange(),M.setStart(o.node,o.offset),H.removeAllRanges(),w>i?(H.addRange(M),H.extend(l.node,l.offset)):(M.setEnd(l.node,l.offset),H.addRange(M)))))),M=[],H=f;H=H.parentNode;)H.nodeType===1&&M.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<M.length;f++)H=M[f],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}bl=!!Og,Zg=Og=null,t.current=c,p1=r;do try{for(f=t;p1!==null;){var B=p1.flags;if(B&36&&iQ(f,p1.alternate,p1),B&128){M=void 0;var k=p1.ref;if(k!==null){var I=p1.stateNode;switch(p1.tag){case 5:M=I;break;default:M=I}typeof k=="function"?k(M):k.current=M}}p1=p1.nextEffect}}catch(j){if(p1===null)throw Error(n1(330));M6(p1,j),p1=p1.nextEffect}while(p1!==null);p1=null,K$(),B1=e}else t.current=c;if(u6)u6=!1,sc=t,gc=a;else for(p1=r;p1!==null;)a=p1.nextEffect,p1.nextEffect=null,p1.flags&8&&(B=p1,B.sibling=null,B.stateNode=null),p1=a;if(r=t.pendingLanes,r===0&&(C4=null),r===1?t===Rd?dc++:(dc=0,Rd=t):dc=0,c=c.stateNode,L8&&typeof L8.onCommitFiberRoot=="function")try{L8.onCommitFiberRoot(qg,c,void 0,(c.current.flags&64)==64)}catch(j){}if(x3(t,l0()),di)throw di=!1,t=Sd,Sd=null,t;return(B1&8)!=0||m4(),null}function dQ(){for(;p1!==null;){var t=p1.alternate;pi||zc===null||((p1.flags&8)!=0?ww(p1,zc)&&(pi=!0):p1.tag===13&&oQ(t,p1)&&ww(p1,zc)&&(pi=!0));var a=p1.flags;(a&256)!=0&&lQ(t,p1),(a&512)==0||u6||(u6=!0,Xa(97,function(){return f6(),null})),p1=p1.nextEffect}}function f6(){if(gc!==90){var t=97<gc?97:gc;return gc=90,H8(t,uQ)}return!1}function zQ(t,a){kd.push(a,t),u6||(u6=!0,Xa(97,function(){return f6(),null}))}function Iy(t,a){Ad.push(a,t),u6||(u6=!0,Xa(97,function(){return f6(),null}))}function uQ(){if(sc===null)return!1;var t=sc;if(sc=null,(B1&48)!=0)throw Error(n1(331));var a=B1;B1|=32;var c=Ad;Ad=[];for(var r=0;r<c.length;r+=2){var e=c[r],l=c[r+1],i=e.destroy;if(e.destroy=void 0,typeof i=="function")try{i()}catch(n){if(l===null)throw Error(n1(330));M6(l,n)}}for(c=kd,kd=[],r=0;r<c.length;r+=2){e=c[r],l=c[r+1];try{var o=e.create;e.destroy=o()}catch(n){if(l===null)throw Error(n1(330));M6(l,n)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return B1=a,m4(),!0}function Py(t,a,c){a=md(c,a),a=my(t,a,1),d6(t,a),a=Y0(),t=mi(t,1),t!==null&&(Rl(t,1,a),x3(t,a))}function M6(t,a){if(t.tag===3)Py(t,t,a);else for(var c=t.return;c!==null;){if(c.tag===3){Py(c,t,a);break}else if(c.tag===1){var r=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(C4===null||!C4.has(r))){t=md(a,t);var e=fy(c,t,1);if(d6(c,e),e=Y0(),c=mi(c,1),c!==null)Rl(c,1,e),x3(c,e);else if(typeof r.componentDidCatch=="function"&&(C4===null||!C4.has(r)))try{r.componentDidCatch(a,t)}catch(l){}break}}c=c.return}}function pQ(t,a,c){var r=t.pingCache;r!==null&&r.delete(a),a=Y0(),t.pingedLanes|=t.suspendedLanes&c,m0===t&&(o0&c)===c&&(q2===4||q2===3&&(o0&62914560)===o0&&500>l0()-Bd?x9(t,0):Vd|=c),x3(t,a)}function mQ(t,a){var c=t.stateNode;c!==null&&c.delete(a),a=0,a===0&&(a=t.mode,(a&2)==0?a=1:(a&4)==0?a=s9()===99?1:2:(h5===0&&(h5=p9),a=a9(62914560&~h5),a===0&&(a=4194304))),c=Y0(),t=mi(t,a),t!==null&&(Rl(t,a,c),x3(t,c))}var Gy;Gy=function(t,a,c){var r=a.lanes;if(t!==null)if(t.memoizedProps!==a.pendingProps||V0.current)j3=!0;else if((c&r)!=0)j3=(t.flags&16384)!=0;else{switch(j3=!1,a.tag){case 3:oy(a),ed();break;case 5:jB(a);break;case 1:w0(a.type)&&Nl(a);break;case 4:ad(a,a.stateNode.containerInfo);break;case 10:r=a.memoizedProps.value;var e=a.type._context;v2($l,e._currentValue),e._currentValue=r;break;case 13:if(a.memoizedState!==null)return(c&a.child.childLanes)!=0?ny(t,a,c):(v2(s2,s2.current&1),a=o5(t,a,c),a!==null?a.sibling:null);v2(s2,s2.current&1);break;case 19:if(r=(c&a.childLanes)!=0,(t.flags&64)!=0){if(r)return dy(t,a,c);a.flags|=64}if(e=a.memoizedState,e!==null&&(e.rendering=null,e.tail=null,e.lastEffect=null),v2(s2,s2.current),r)break;return null;case 23:case 24:return a.lanes=0,gd(t,a,c)}return o5(t,a,c)}else j3=!1;switch(a.lanes=0,a.tag){case 2:if(r=a.type,t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),t=a.pendingProps,e=v9(a,e0.current),d9(a,c),e=od(null,a,r,t,e,c),a.flags|=1,typeof e=="object"&&e!==null&&typeof e.render=="function"&&e.$$typeof===void 0){if(a.tag=1,a.memoizedState=null,a.updateQueue=null,w0(r)){var l=!0;Nl(a)}else l=!1;a.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,Jg(a);var i=r.getDerivedStateFromProps;typeof i=="function"&&Yl(a,r,i,t),e.updater=Jl,a.stateNode=e,e._reactInternals=a,td(a,r,t,c),a=zd(null,a,r,!0,l,c)}else a.tag=0,y0(null,a,e,c),a=a.child;return a;case 16:e=a.elementType;t:{switch(t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),t=a.pendingProps,l=e._init,e=l(e._payload),a.type=e,l=a.tag=MQ(e),t=D3(e,t),l){case 0:a=dd(null,a,e,t,c);break t;case 1:a=iy(null,a,e,t,c);break t;case 11:a=cy(null,a,e,t,c);break t;case 14:a=ry(null,a,e,D3(e.type,t),r,c);break t}throw Error(n1(306,e,""))}return a;case 0:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:D3(r,e),dd(t,a,r,e,c);case 1:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:D3(r,e),iy(t,a,r,e,c);case 3:if(oy(a),r=a.updateQueue,t===null||r===null)throw Error(n1(282));if(r=a.pendingProps,e=a.memoizedState,e=e!==null?e.element:null,FB(t,a),Ya(a,r,null,c),r=a.memoizedState.element,r===e)ed(),a=o5(t,a,c);else{if(e=a.stateNode,(l=e.hydrate)&&(z6=i9(a.stateNode.containerInfo.firstChild),i5=a,l=M4=!0),l){if(t=e.mutableSourceEagerHydrationData,t!=null)for(e=0;e<t.length;e+=2)l=t[e],l._workInProgressVersionPrimary=t[e+1],u9.push(l);for(c=DB(a,null,r,c),a.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else y0(t,a,r,c),ed();a=a.child}return a;case 5:return jB(a),t===null&&rd(a),r=a.type,e=a.pendingProps,l=t!==null?t.memoizedProps:null,i=e.children,Dg(r,e)?i=null:l!==null&&Dg(r,l)&&(a.flags|=16),ly(t,a),y0(t,a,i,c),a.child;case 6:return t===null&&rd(a),null;case 13:return ny(t,a,c);case 4:return ad(a,a.stateNode.containerInfo),r=a.pendingProps,t===null?a.child=ci(a,null,r,c):y0(t,a,r,c),a.child;case 11:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:D3(r,e),cy(t,a,r,e,c);case 7:return y0(t,a,a.pendingProps,c),a.child;case 8:return y0(t,a,a.pendingProps.children,c),a.child;case 12:return y0(t,a,a.pendingProps.children,c),a.child;case 10:t:{r=a.type._context,e=a.pendingProps,i=a.memoizedProps,l=e.value;var o=a.type._context;if(v2($l,o._currentValue),o._currentValue=l,i!==null)if(o=i.value,l=m3(o,l)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(o,l):1073741823)|0,l===0){if(i.children===e.children&&!V0.current){a=o5(t,a,c);break t}}else for(o=a.child,o!==null&&(o.return=a);o!==null;){var n=o.dependencies;if(n!==null){i=o.child;for(var h=n.firstContext;h!==null;){if(h.context===r&&(h.observedBits&l)!=0){o.tag===1&&(h=g6(-1,c&-c),h.tag=2,d6(o,h)),o.lanes|=c,h=o.alternate,h!==null&&(h.lanes|=c),bB(o.return,c),n.lanes|=c;break}h=h.next}}else i=o.tag===10&&o.type===a.type?null:o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===a){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}y0(t,a,e.children,c),a=a.child}return a;case 9:return e=a.type,l=a.pendingProps,r=l.children,d9(a,c),e=f3(e,l.unstable_observedBits),r=r(e),a.flags|=1,y0(t,a,r,c),a.child;case 14:return e=a.type,l=D3(e,a.pendingProps),l=D3(e.type,l),ry(t,a,e,l,r,c);case 15:return ey(t,a,a.type,a.pendingProps,r,c);case 17:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:D3(r,e),t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2),a.tag=1,w0(r)?(t=!0,Nl(a)):t=!1,d9(a,c),EB(a,r,e),td(a,r,e,c),zd(null,a,r,!0,t,c);case 19:return dy(t,a,c);case 23:return gd(t,a,c);case 24:return gd(t,a,c)}throw Error(n1(156,a.tag))};function fQ(t,a,c,r){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function C3(t,a,c,r){return new fQ(t,a,c,r)}function Id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MQ(t){if(typeof t=="function")return Id(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fl)return 11;if(t===xl)return 14}return 2}function x6(t,a){var c=t.alternate;return c===null?(c=C3(t.tag,a,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=a,c.type=t.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,a=t.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c}function Mi(t,a,c,r,e,l){var i=2;if(r=t,typeof t=="function")Id(t)&&(i=1);else if(typeof t=="string")i=5;else t:switch(t){case a6:return C9(c.children,e,l,a);case rw:i=8,e|=16;break;case qs:i=8,e|=1;break;case ya:return t=C3(12,c,a,e|8),t.elementType=ya,t.type=ya,t.lanes=l,t;case Sa:return t=C3(13,c,a,e),t.type=Sa,t.elementType=Sa,t.lanes=l,t;case Ml:return t=C3(19,c,a,e),t.elementType=Ml,t.lanes=l,t;case Xs:return Pd(c,e,l,a);case Ys:return t=C3(24,c,a,e),t.elementType=Ys,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ns:i=10;break t;case Us:i=9;break t;case fl:i=11;break t;case xl:i=14;break t;case Ks:i=16,r=null;break t;case $s:i=22;break t}throw Error(n1(130,t==null?t:typeof t,""))}return a=C3(i,c,a,e),a.elementType=t,a.type=r,a.lanes=l,a}function C9(t,a,c,r){return t=C3(7,t,r,a),t.lanes=c,t}function Pd(t,a,c,r){return t=C3(23,t,r,a),t.elementType=Xs,t.lanes=c,t}function Gd(t,a,c){return t=C3(6,t,null,a),t.lanes=c,t}function Td(t,a,c){return a=C3(4,t.children!==null?t.children:[],t.key,a),a.lanes=c,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function xQ(t,a,c){this.tag=a,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vg(0),this.expirationTimes=Vg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vg(0),this.mutableSourceEagerHydrationData=null}function CQ(t,a,c){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m8,key:r==null?null:""+r,children:t,containerInfo:a,implementation:c}}function xi(t,a,c,r){var e=a.current,l=Y0(),i=p6(e);t:if(c){c=c._reactInternals;a:{if(M8(c)!==c||c.tag!==1)throw Error(n1(170));var o=c;do{switch(o.tag){case 3:o=o.stateNode.context;break a;case 1:if(w0(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break a}}o=o.return}while(o!==null);throw Error(n1(171))}if(c.tag===1){var n=c.type;if(w0(n)){c=LB(c,n,o);break t}}c=o}else c=v6;return a.context===null?a.context=c:a.pendingContext=c,a=g6(l,i),a.payload={element:t},r=r===void 0?null:r,r!==null&&(a.callback=r),d6(e,a),m6(e,i,l),i}function Ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ty(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<a?c:a}}function Od(t,a){Ty(t,a),(t=t.alternate)&&Ty(t,a)}function LQ(){return null}function Zd(t,a,c){var r=c!=null&&c.hydrationOptions!=null&&c.hydrationOptions.mutableSources||null;if(c=new xQ(t,a,c!=null&&c.hydrate===!0),a=C3(3,null,null,a===2?7:a===1?3:0),c.current=a,a.stateNode=c,Jg(a),t[o9]=c.current,sB(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){a=r[t];var e=a._getVersion;e=e(a._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[a,e]:c.mutableSourceEagerHydrationData.push(a,e)}this._internalRoot=c}Zd.prototype.render=function(t){xi(t,this._internalRoot,null,null)};Zd.prototype.unmount=function(){var t=this._internalRoot,a=t.containerInfo;xi(null,t,null,function(){a[o9]=null})};function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function HQ(t,a){if(a||(a=t?t.nodeType===9?t.documentElement:t.firstChild:null,a=!(!a||a.nodeType!==1||!a.hasAttribute("data-reactroot"))),!a)for(var c;c=t.lastChild;)t.removeChild(c);return new Zd(t,0,a?{hydrate:!0}:void 0)}function Ci(t,a,c,r,e){var l=c._reactRootContainer;if(l){var i=l._internalRoot;if(typeof e=="function"){var o=e;e=function(){var h=Ed(i);o.call(h)}}xi(a,i,t,e)}else{if(l=c._reactRootContainer=HQ(c,r),i=l._internalRoot,typeof e=="function"){var n=e;e=function(){var h=Ed(i);n.call(h)}}ky(function(){xi(a,i,t,e)})}return Ed(i)}Bw=function(t){if(t.tag===13){var a=Y0();m6(t,4,a),Od(t,4)}};fg=function(t){if(t.tag===13){var a=Y0();m6(t,67108864,a),Od(t,67108864)}};yw=function(t){if(t.tag===13){var a=Y0(),c=p6(t);m6(t,c,a),Od(t,c)}};Sw=function(t,a){return a()};sg=function(t,a,c){switch(a){case"input":if(cg(t,c),a=c.name,c.type==="radio"&&a!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var r=c[a];if(r!==t&&r.form===t.form){var e=_l(r);if(!e)throw Error(n1(90));iw(r),cg(r,e)}}}break;case"textarea":sw(t,c);break;case"select":a=c.value,a!=null&&$7(t,!!c.multiple,a,!1)}};gg=Sy;xw=function(t,a,c,r,e){var l=B1;B1|=4;try{return H8(98,t.bind(null,a,c,r,e))}finally{B1=l,B1===0&&(f9(),m4())}};dg=function(){(B1&49)==0&&(hQ(),f6())};Cw=function(t,a){var c=B1;B1|=2;try{return t(a)}finally{B1=c,B1===0&&(f9(),m4())}};function Ey(t,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(a))throw Error(n1(200));return CQ(t,a,null,c)}var VQ={Events:[Qa,n9,_l,fw,Mw,f6,{current:!1}]},mc={findFiberByHostInstance:x8,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},wQ={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p8.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||LQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(fc=__REACT_DEVTOOLS_GLOBAL_HOOK__,!fc.isDisabled&&fc.supportsFiber))try{qg=fc.inject(wQ),L8=fc}catch(t){}var fc;L3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VQ;L3.createPortal=Ey;L3.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(n1(188)):Error(n1(268,Object.keys(t)));return t=Vw(a),t=t===null?null:t.stateNode,t};L3.flushSync=function(t,a){var c=B1;if((c&48)!=0)return t(a);B1|=1;try{if(t)return H8(99,t.bind(null,a))}finally{B1=c,m4()}};L3.hydrate=function(t,a,c){if(!pc(a))throw Error(n1(200));return Ci(null,t,a,!0,c)};L3.render=function(t,a,c){if(!pc(a))throw Error(n1(200));return Ci(null,t,a,!1,c)};L3.unmountComponentAtNode=function(t){if(!pc(t))throw Error(n1(40));return t._reactRootContainer?(ky(function(){Ci(null,null,t,!1,function(){t._reactRootContainer=null,t[o9]=null})}),!0):!1};L3.unstable_batchedUpdates=Sy;L3.unstable_createPortal=function(t,a){return Ey(t,a,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};L3.unstable_renderSubtreeIntoContainer=function(t,a,c,r){if(!pc(c))throw Error(n1(200));if(t==null||t._reactInternals===void 0)throw Error(n1(38));return Ci(t,a,c,!1,r)};L3.version="17.0.2"});var L4=L1((Zh1,Dy)=>{"use strict";function Zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zy)}catch(t){console.error(t)}}Zy(),Dy.exports=Oy()});function BQ(t){let[,a]=(0,J0.useState)(0);return(0,J0.useCallback)(()=>{a(r=>r+1)},[])}function h1(t,a,c){let r=(0,J0.useCallback)(t,a),e=(0,J0.useRef)(null);e.current?e.current.set(r):e.current=new jy.Atom(r);let l=(0,J0.useMemo)(()=>(0,Li.prism)(()=>e.current.prism.getValue()()),[]);return k8(l,c)}function kQ(){Dd||(Dd=!0,(0,Wy.default)(()=>{(0,_y.unstable_batchedUpdates)(function(){var a,c;for(;H4.length>0;){let r=H4.shift();Mc.delete(r);let e;L9&&((a=r.debug)==null||a.history.push("queue reached"));try{e=r.der.getValue()}catch(l){L9&&((c=r.debug)==null||c.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(l),r.runUpdate();continue}e!==r.lastValue&&(r.lastValue=e,r.runUpdate())}},1),Dd=!1}))}function k8(t,a){var l;let c=BQ(a),r=(0,J0.useRef)(void 0);r.current||(qy++,r.current={order:qy,runUpdate:()=>{r.current.unmounted||c()},der:t,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var i;L9&&((i=r.current.debug)==null||i.history.push("queueUpdate()")),yQ(r.current)},untap:t.onStale(()=>{L9&&r.current.debug.history.push("onStale(cb)"),r.current.queueUpdate()})},L9&&(r.current.debug={label:a,traceOfFirstTimeRender:new Error,history:[]})),(0,J0.useLayoutEffect)(()=>function(){r.current.unmounted=!0,r.current.untap(),Ny(r.current)},[]),Ny(r.current);let e=r.current.der.getValue();return r.current.lastValue=e,L9&&((l=r.current.debug)==null||l.history.push("rendered")),e}var jy,Li,Wy,J0,_y,L9,g1,qy,H4,Mc,Dd,yQ,SQ,Ny,f1=x(()=>{jy=y(require("@theatre/dataverse")),Li=y(require("@theatre/dataverse"));C2();Wy=y(wV()),J0=y(P()),_y=y(L4()),L9=!1;g1=(t,a)=>h1(()=>(0,Li.val)(t),[t],a),qy=0,H4=[],Mc=new Set,Dd=!1,yQ=t=>{SQ(t),kQ()},SQ=t=>{if(!Mc.has(t))if(Mc.add(t),H4.length===0)H4.push(t);else{let a=Ye(H4,c=>c.order>=t.order);a===-1?H4.push(t):H4[a].order>t.order&&H4.splice(a,0,t)}},Ny=t=>{if(!Mc.has(t))return;Mc.delete(t);let a=Ye(H4,c=>c===t);H4.splice(a,1)}});var Yy=L1(N1=>{"use strict";var Hi=60103,Vi=60106,xc=60107,Cc=60108,Lc=60114,Hc=60109,Vc=60110,wc=60112,Bc=60113,jd=60120,yc=60115,Sc=60116,Uy=60121,Ky=60122,$y=60117,Qy=60129,Xy=60131;typeof Symbol=="function"&&Symbol.for&&(R2=Symbol.for,Hi=R2("react.element"),Vi=R2("react.portal"),xc=R2("react.fragment"),Cc=R2("react.strict_mode"),Lc=R2("react.profiler"),Hc=R2("react.provider"),Vc=R2("react.context"),wc=R2("react.forward_ref"),Bc=R2("react.suspense"),jd=R2("react.suspense_list"),yc=R2("react.memo"),Sc=R2("react.lazy"),Uy=R2("react.block"),Ky=R2("react.server.block"),$y=R2("react.fundamental"),Qy=R2("react.debug_trace_mode"),Xy=R2("react.legacy_hidden"));var R2;function W3(t){if(typeof t=="object"&&t!==null){var a=t.$$typeof;switch(a){case Hi:switch(t=t.type,t){case xc:case Lc:case Cc:case Bc:case jd:return t;default:switch(t=t&&t.$$typeof,t){case Vc:case wc:case Sc:case yc:case Hc:return t;default:return a}}case Vi:return a}}}var AQ=Hc,RQ=Hi,bQ=wc,FQ=xc,IQ=Sc,PQ=yc,GQ=Vi,TQ=Lc,EQ=Cc,OQ=Bc;N1.ContextConsumer=Vc;N1.ContextProvider=AQ;N1.Element=RQ;N1.ForwardRef=bQ;N1.Fragment=FQ;N1.Lazy=IQ;N1.Memo=PQ;N1.Portal=GQ;N1.Profiler=TQ;N1.StrictMode=EQ;N1.Suspense=OQ;N1.isAsyncMode=function(){return!1};N1.isConcurrentMode=function(){return!1};N1.isContextConsumer=function(t){return W3(t)===Vc};N1.isContextProvider=function(t){return W3(t)===Hc};N1.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hi};N1.isForwardRef=function(t){return W3(t)===wc};N1.isFragment=function(t){return W3(t)===xc};N1.isLazy=function(t){return W3(t)===Sc};N1.isMemo=function(t){return W3(t)===yc};N1.isPortal=function(t){return W3(t)===Vi};N1.isProfiler=function(t){return W3(t)===Lc};N1.isStrictMode=function(t){return W3(t)===Cc};N1.isSuspense=function(t){return W3(t)===Bc};N1.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xc||t===Lc||t===Qy||t===Cc||t===Bc||t===jd||t===Xy||typeof t=="object"&&t!==null&&(t.$$typeof===Sc||t.$$typeof===yc||t.$$typeof===Hc||t.$$typeof===Vc||t.$$typeof===wc||t.$$typeof===$y||t.$$typeof===Uy||t[0]===Ky)};N1.typeOf=W3});var tS=L1((_h1,Jy)=>{"use strict";Jy.exports=Yy()});var Wd=L1((qh1,aS)=>{aS.exports=function(a,c,r,e){var l=r?r.call(e,a,c):void 0;if(l!==void 0)return!!l;if(a===c)return!0;if(typeof a!="object"||!a||typeof c!="object"||!c)return!1;var i=Object.keys(a),o=Object.keys(c);if(i.length!==o.length)return!1;for(var n=Object.prototype.hasOwnProperty.bind(c),h=0;h<i.length;h++){var v=i[h];if(!n(v))return!1;var g=a[v],d=c[v];if(l=r?r.call(e,g,d,v):void 0,l===!1||l===void 0&&g!==d)return!1}return!0}});function ZQ(t){function a($,U,o1,C1,N){for(var M1=0,l1=0,y1=0,k1=0,A1,L,X=0,K=0,R,A=R=A1=0,E=0,Y=0,c1=0,q=0,i1=o1.length,s1=i1-1,e1,r1="",w1="",b1="",J2="",L0;E<i1;){if(L=o1.charCodeAt(E),E===s1&&l1+k1+y1+M1!==0&&(l1!==0&&(L=l1===47?10:47),k1=y1=M1=0,i1++,s1++),l1+k1+y1+M1===0){if(E===s1&&(0<Y&&(r1=r1.replace(d,"")),0<r1.trim().length)){switch(L){case 32:case 9:case 59:case 13:case 10:break;default:r1+=o1.charAt(E)}L=59}switch(L){case 123:for(r1=r1.trim(),A1=r1.charCodeAt(0),R=1,q=++E;E<i1;){switch(L=o1.charCodeAt(E)){case 123:R++;break;case 125:R--;break;case 47:switch(L=o1.charCodeAt(E+1)){case 42:case 47:t:{for(A=E+1;A<s1;++A)switch(o1.charCodeAt(A)){case 47:if(L===42&&o1.charCodeAt(A-1)===42&&E+2!==A){E=A+1;break t}break;case 10:if(L===47){E=A+1;break t}}E=A}}break;case 91:L++;case 40:L++;case 34:case 39:for(;E++<s1&&o1.charCodeAt(E)!==L;);}if(R===0)break;E++}switch(R=o1.substring(q,E),A1===0&&(A1=(r1=r1.replace(g,"").trim()).charCodeAt(0)),A1){case 64:switch(0<Y&&(r1=r1.replace(d,"")),L=r1.charCodeAt(1),L){case 100:case 109:case 115:case 45:Y=U;break;default:Y=Q}if(R=a(U,Y,R,L,N+1),q=R.length,0<t1&&(Y=c(Q,r1,c1),L0=o(3,R,Y,U,O,C,q,L,N,C1),r1=Y.join(""),L0!==void 0&&(q=(R=L0.trim()).length)===0&&(L=0,R="")),0<q)switch(L){case 115:r1=r1.replace(B,i);case 100:case 109:case 45:R=r1+"{"+R+"}";break;case 107:r1=r1.replace(f,"$1 $2"),R=r1+"{"+R+"}",R=F===1||F===2&&l("@"+R,3)?"@-webkit-"+R+"@"+R:"@"+R;break;default:R=r1+R,C1===112&&(R=(w1+=R,""))}else R="";break;default:R=a(U,c(U,r1,c1),R,C1,N+1)}b1+=R,R=c1=Y=A=A1=0,r1="",L=o1.charCodeAt(++E);break;case 125:case 59:if(r1=(0<Y?r1.replace(d,""):r1).trim(),1<(q=r1.length))switch(A===0&&(A1=r1.charCodeAt(0),A1===45||96<A1&&123>A1)&&(q=(r1=r1.replace(" ",":")).length),0<t1&&(L0=o(1,r1,U,$,O,C,w1.length,C1,N,C1))!==void 0&&(q=(r1=L0.trim()).length)===0&&(r1="\0\0"),A1=r1.charCodeAt(0),L=r1.charCodeAt(1),A1){case 0:break;case 64:if(L===105||L===99){J2+=r1+o1.charAt(E);break}default:r1.charCodeAt(q-1)!==58&&(w1+=e(r1,A1,L,r1.charCodeAt(2)))}c1=Y=A=A1=0,r1="",L=o1.charCodeAt(++E)}}switch(L){case 13:case 10:l1===47?l1=0:1+A1===0&&C1!==107&&0<r1.length&&(Y=1,r1+="\0"),0<t1*W&&o(0,r1,U,$,O,C,w1.length,C1,N,C1),C=1,O++;break;case 59:case 125:if(l1+k1+y1+M1===0){C++;break}default:switch(C++,e1=o1.charAt(E),L){case 9:case 32:if(k1+M1+l1===0)switch(X){case 44:case 58:case 9:case 32:e1="";break;default:L!==32&&(e1=" ")}break;case 0:e1="\\0";break;case 12:e1="\\f";break;case 11:e1="\\v";break;case 38:k1+l1+M1===0&&(Y=c1=1,e1="\f"+e1);break;case 108:if(k1+l1+M1+J===0&&0<A)switch(E-A){case 2:X===112&&o1.charCodeAt(E-3)===58&&(J=X);case 8:K===111&&(J=K)}break;case 58:k1+l1+M1===0&&(A=E);break;case 44:l1+y1+k1+M1===0&&(Y=1,e1+="\r");break;case 34:case 39:l1===0&&(k1=k1===L?0:k1===0?L:k1);break;case 91:k1+l1+y1===0&&M1++;break;case 93:k1+l1+y1===0&&M1--;break;case 41:k1+l1+M1===0&&y1--;break;case 40:if(k1+l1+M1===0){if(A1===0)switch(2*X+3*K){case 533:break;default:A1=1}y1++}break;case 64:l1+y1+k1+M1+A+R===0&&(R=1);break;case 42:case 47:if(!(0<k1+M1+y1))switch(l1){case 0:switch(2*L+3*o1.charCodeAt(E+1)){case 235:l1=47;break;case 220:q=E,l1=42}break;case 42:L===47&&X===42&&q+2!==E&&(o1.charCodeAt(q+2)===33&&(w1+=o1.substring(q,E+1)),e1="",l1=0)}}l1===0&&(r1+=e1)}K=X,X=L,E++}if(q=w1.length,0<q){if(Y=U,0<t1&&(L0=o(2,w1,Y,$,O,C,q,C1,N,C1),L0!==void 0&&(w1=L0).length===0))return J2+w1+b1;if(w1=Y.join(",")+"{"+w1+"}",F*J!=0){switch(F!==2||l(w1,2)||(J=0),J){case 111:w1=w1.replace(H,":-moz-$1")+w1;break;case 112:w1=w1.replace(M,"::-webkit-input-$1")+w1.replace(M,"::-moz-$1")+w1.replace(M,":-ms-input-$1")+w1}J=0}}return J2+w1+b1}function c($,U,o1){var C1=U.trim().split(z);U=C1;var N=C1.length,M1=$.length;switch(M1){case 0:case 1:var l1=0;for($=M1===0?"":$[0]+" ";l1<N;++l1)U[l1]=r($,U[l1],o1).trim();break;default:var y1=l1=0;for(U=[];l1<N;++l1)for(var k1=0;k1<M1;++k1)U[y1++]=r($[k1]+" ",C1[l1],o1).trim()}return U}function r($,U,o1){var C1=U.charCodeAt(0);switch(33>C1&&(C1=(U=U.trim()).charCodeAt(0)),C1){case 38:return U.replace(m,"$1"+$.trim());case 58:return $.trim()+U.replace(m,"$1"+$.trim());default:if(0<1*o1&&0<U.indexOf("\f"))return U.replace(m,($.charCodeAt(0)===58?"":"$1")+$.trim())}return $+U}function e($,U,o1,C1){var N=$+";",M1=2*U+3*o1+4*C1;if(M1===944){$=N.indexOf(":",9)+1;var l1=N.substring($,N.length-1).trim();return l1=N.substring(0,$).trim()+l1+";",F===1||F===2&&l(l1,1)?"-webkit-"+l1+l1:l1}if(F===0||F===2&&!l(N,1))return N;switch(M1){case 1015:return N.charCodeAt(10)===97?"-webkit-"+N+N:N;case 951:return N.charCodeAt(3)===116?"-webkit-"+N+N:N;case 963:return N.charCodeAt(5)===110?"-webkit-"+N+N:N;case 1009:if(N.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+N+N;case 978:return"-webkit-"+N+"-moz-"+N+N;case 1019:case 983:return"-webkit-"+N+"-moz-"+N+"-ms-"+N+N;case 883:if(N.charCodeAt(8)===45)return"-webkit-"+N+N;if(0<N.indexOf("image-set(",11))return N.replace(T,"$1-webkit-$2")+N;break;case 932:if(N.charCodeAt(4)===45)switch(N.charCodeAt(5)){case 103:return"-webkit-box-"+N.replace("-grow","")+"-webkit-"+N+"-ms-"+N.replace("grow","positive")+N;case 115:return"-webkit-"+N+"-ms-"+N.replace("shrink","negative")+N;case 98:return"-webkit-"+N+"-ms-"+N.replace("basis","preferred-size")+N}return"-webkit-"+N+"-ms-"+N+N;case 964:return"-webkit-"+N+"-ms-flex-"+N+N;case 1023:if(N.charCodeAt(8)!==99)break;return l1=N.substring(N.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+l1+"-webkit-"+N+"-ms-flex-pack"+l1+N;case 1005:return u.test(N)?N.replace(s,":-webkit-")+N.replace(s,":-moz-")+N:N;case 1e3:switch(l1=N.substring(13).trim(),U=l1.indexOf("-")+1,l1.charCodeAt(0)+l1.charCodeAt(U)){case 226:l1=N.replace(w,"tb");break;case 232:l1=N.replace(w,"tb-rl");break;case 220:l1=N.replace(w,"lr");break;default:return N}return"-webkit-"+N+"-ms-"+l1+N;case 1017:if(N.indexOf("sticky",9)===-1)break;case 975:switch(U=(N=$).length-10,l1=(N.charCodeAt(U)===33?N.substring(0,U):N).substring($.indexOf(":",7)+1).trim(),M1=l1.charCodeAt(0)+(l1.charCodeAt(7)|0)){case 203:if(111>l1.charCodeAt(8))break;case 115:N=N.replace(l1,"-webkit-"+l1)+";"+N;break;case 207:case 102:N=N.replace(l1,"-webkit-"+(102<M1?"inline-":"")+"box")+";"+N.replace(l1,"-webkit-"+l1)+";"+N.replace(l1,"-ms-"+l1+"box")+";"+N}return N+";";case 938:if(N.charCodeAt(5)===45)switch(N.charCodeAt(6)){case 105:return l1=N.replace("-items",""),"-webkit-"+N+"-webkit-box-"+l1+"-ms-flex-"+l1+N;case 115:return"-webkit-"+N+"-ms-flex-item-"+N.replace(I,"")+N;default:return"-webkit-"+N+"-ms-flex-line-pack"+N.replace("align-content","").replace(I,"")+N}break;case 973:case 989:if(N.charCodeAt(3)!==45||N.charCodeAt(4)===122)break;case 931:case 953:if(b.test($)===!0)return(l1=$.substring($.indexOf(":")+1)).charCodeAt(0)===115?e($.replace("stretch","fill-available"),U,o1,C1).replace(":fill-available",":stretch"):N.replace(l1,"-webkit-"+l1)+N.replace(l1,"-moz-"+l1.replace("fill-",""))+N;break;case 962:if(N="-webkit-"+N+(N.charCodeAt(5)===102?"-ms-"+N:"")+N,o1+C1===211&&N.charCodeAt(13)===105&&0<N.indexOf("transform",10))return N.substring(0,N.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+N}return N}function l($,U){var o1=$.indexOf(U===1?":":"{"),C1=$.substring(0,U!==3?o1:10);return o1=$.substring(o1+1,$.length-1),_(U!==2?C1:C1.replace(j,"$1"),o1,U)}function i($,U){var o1=e(U,U.charCodeAt(0),U.charCodeAt(1),U.charCodeAt(2));return o1!==U+";"?o1.replace(k," or ($1)").substring(4):"("+U+")"}function o($,U,o1,C1,N,M1,l1,y1,k1,A1){for(var L=0,X=U,K;L<t1;++L)switch(K=Z[L].call(v,$,X,o1,C1,N,M1,l1,y1,k1,A1)){case void 0:case!1:case!0:case null:break;default:X=K}if(X!==U)return X}function n($){switch($){case void 0:case null:t1=Z.length=0;break;default:if(typeof $=="function")Z[t1++]=$;else if(typeof $=="object")for(var U=0,o1=$.length;U<o1;++U)n($[U]);else W=!!$|0}return n}function h($){return $=$.prefix,$!==void 0&&(_=null,$?typeof $!="function"?F=1:(F=2,_=$):F=0),h}function v($,U){var o1=$;if(33>o1.charCodeAt(0)&&(o1=o1.trim()),v1=o1,o1=[v1],0<t1){var C1=o(-1,U,o1,o1,O,C,0,0,0,0);C1!==void 0&&typeof C1=="string"&&(U=C1)}var N=a(Q,o1,U,0,0);return 0<t1&&(C1=o(-2,N,o1,o1,O,C,N.length,0,0,0),C1!==void 0&&(N=C1)),v1="",J=0,C=O=1,N}var g=/^\0+/g,d=/[\0\r\f]/g,s=/: */g,u=/zoo|gra/,p=/([,: ])(transform)/g,z=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,f=/@(k\w+)\s*(\S*)\s*/,M=/::(place)/g,H=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,B=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,I=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,b=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,C=1,O=1,J=0,F=1,Q=[],Z=[],t1=0,_=null,W=0,v1="";return v.use=n,v.set=h,t!==void 0&&h(t),v}var cS,rS=x(()=>{cS=ZQ});var DQ,eS,lS=x(()=>{DQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eS=DQ});var iS=L1(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});function jQ(t){var a=Object.create(null);return function(c){return a[c]===void 0&&(a[c]=t(c)),a[c]}}_d.default=jQ});var nS=L1(($h1,oS)=>{"use strict";oS.exports=iS()});var hS=L1(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});var WQ=nS();function _Q(t){return t&&t.__esModule?t:{default:t}}var qQ=_Q(WQ),NQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,UQ=qQ.default(function(t){return NQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});qd.default=UQ});var sS=L1((Xh1,vS)=>{"use strict";vS.exports=hS()});var dS=L1(j1=>{"use strict";var b2=typeof Symbol=="function"&&Symbol.for,Nd=b2?Symbol.for("react.element"):60103,Ud=b2?Symbol.for("react.portal"):60106,wi=b2?Symbol.for("react.fragment"):60107,Bi=b2?Symbol.for("react.strict_mode"):60108,yi=b2?Symbol.for("react.profiler"):60114,Si=b2?Symbol.for("react.provider"):60109,ki=b2?Symbol.for("react.context"):60110,Kd=b2?Symbol.for("react.async_mode"):60111,Ai=b2?Symbol.for("react.concurrent_mode"):60111,Ri=b2?Symbol.for("react.forward_ref"):60112,bi=b2?Symbol.for("react.suspense"):60113,KQ=b2?Symbol.for("react.suspense_list"):60120,Fi=b2?Symbol.for("react.memo"):60115,Ii=b2?Symbol.for("react.lazy"):60116,$Q=b2?Symbol.for("react.block"):60121,QQ=b2?Symbol.for("react.fundamental"):60117,XQ=b2?Symbol.for("react.responder"):60118,YQ=b2?Symbol.for("react.scope"):60119;function t3(t){if(typeof t=="object"&&t!==null){var a=t.$$typeof;switch(a){case Nd:switch(t=t.type,t){case Kd:case Ai:case wi:case yi:case Bi:case bi:return t;default:switch(t=t&&t.$$typeof,t){case ki:case Ri:case Ii:case Fi:case Si:return t;default:return a}}case Ud:return a}}}function gS(t){return t3(t)===Ai}j1.AsyncMode=Kd;j1.ConcurrentMode=Ai;j1.ContextConsumer=ki;j1.ContextProvider=Si;j1.Element=Nd;j1.ForwardRef=Ri;j1.Fragment=wi;j1.Lazy=Ii;j1.Memo=Fi;j1.Portal=Ud;j1.Profiler=yi;j1.StrictMode=Bi;j1.Suspense=bi;j1.isAsyncMode=function(t){return gS(t)||t3(t)===Kd};j1.isConcurrentMode=gS;j1.isContextConsumer=function(t){return t3(t)===ki};j1.isContextProvider=function(t){return t3(t)===Si};j1.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nd};j1.isForwardRef=function(t){return t3(t)===Ri};j1.isFragment=function(t){return t3(t)===wi};j1.isLazy=function(t){return t3(t)===Ii};j1.isMemo=function(t){return t3(t)===Fi};j1.isPortal=function(t){return t3(t)===Ud};j1.isProfiler=function(t){return t3(t)===yi};j1.isStrictMode=function(t){return t3(t)===Bi};j1.isSuspense=function(t){return t3(t)===bi};j1.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wi||t===Ai||t===yi||t===Bi||t===bi||t===KQ||typeof t=="object"&&t!==null&&(t.$$typeof===Ii||t.$$typeof===Fi||t.$$typeof===Si||t.$$typeof===ki||t.$$typeof===Ri||t.$$typeof===QQ||t.$$typeof===XQ||t.$$typeof===YQ||t.$$typeof===$Q)};j1.typeOf=t3});var uS=L1((Jh1,zS)=>{"use strict";zS.exports=dS()});var LS=L1((tv1,CS)=>{"use strict";var $d=uS(),JQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tX={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qd={};Qd[$d.ForwardRef]=aX;Qd[$d.Memo]=pS;function mS(t){return $d.isMemo(t)?pS:Qd[t.$$typeof]||JQ}var cX=Object.defineProperty,rX=Object.getOwnPropertyNames,fS=Object.getOwnPropertySymbols,eX=Object.getOwnPropertyDescriptor,lX=Object.getPrototypeOf,MS=Object.prototype;function xS(t,a,c){if(typeof a!="string"){if(MS){var r=lX(a);r&&r!==MS&&xS(t,r,c)}var e=rX(a);fS&&(e=e.concat(fS(a)));for(var l=mS(t),i=mS(a),o=0;o<e.length;++o){var n=e[o];if(!tX[n]&&!(c&&c[n])&&!(i&&i[n])&&!(l&&l[n])){var h=eX(a,n);try{cX(t,n,h)}catch(v){}}}}return t}CS.exports=xS});function _3(){return(_3=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r])}return t}).apply(this,arguments)}function kc(t){return typeof t=="function"}function BS(t){return t.displayName||t.name||"Component"}function Jd(t){return t&&typeof t.styledComponentId=="string"}function v5(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(c.length>0?" Args: "+c.join(", "):""))}function cz(t){var a,c="";for(a=Math.abs(t);a>52;a=a/52|0)c=kS(a%52)+c;return(kS(a%52)+c).replace(MX,"$1-$2")}function RS(t){for(var a=0;a<t.length;a+=1){var c=t[a];if(kc(c)&&!Jd(c))return!1}return!0}function bS(t){var a,c,r,e,l=t===void 0?C6:t,i=l.options,o=i===void 0?C6:i,n=l.plugins,h=n===void 0?Gi:n,v=new cS(o),g=[],d=function(p){function z(m){if(m)try{p(m+"}")}catch(f){}}return function(m,f,M,H,w,B,k,I,j,b){switch(m){case 1:if(j===0&&f.charCodeAt(0)===64)return p(f+";"),"";break;case 2:if(I===0)return f+"/*|*/";break;case 3:switch(I){case 102:case 112:return p(M[0]+f),"";default:return f+(b===0?"/*|*/":"")}case-2:f.split("/*|*/}").forEach(z)}}}(function(p){g.push(p)}),s=function(p,z,m){return z===0&&HX.indexOf(m[c.length])!==-1||m.match(e)?p:"."+a};function u(p,z,m,f){f===void 0&&(f="&");var M=p.replace(LX,""),H=z&&m?m+" "+z+" { "+M+" }":M;return a=f,c=z,r=new RegExp("\\"+c+"\\b","g"),e=new RegExp("(\\"+c+"\\b){2,}"),v(m||!z?"":z,H)}return v.use([].concat(h,[function(p,z,m){p===2&&m.length&&m[0].lastIndexOf(c)>0&&(m[0]=m[0].replace(r,s))},d,function(p){if(p===-2){var z=g;return g=[],z}}])),u.hash=h.length?h.reduce(function(p,z){return z.name||v5(15),H9(p,z.name)},5381).toString():"",u}function iz(){return(0,q1.useContext)(rz)||VX}function FS(){return(0,q1.useContext)(ez)||lz}function oz(t){var a=(0,q1.useState)(t.stylisPlugins),c=a[0],r=a[1],e=iz(),l=(0,q1.useMemo)(function(){var o=e;return t.sheet?o=t.sheet:t.target&&(o=o.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(o=o.reconstructWithOptions({useCSSOMInjection:!1})),o},[t.disableCSSOMInjection,t.sheet,t.target]),i=(0,q1.useMemo)(function(){return bS({options:{prefix:!t.disableVendorPrefixes},plugins:c})},[t.disableVendorPrefixes,c]);return(0,q1.useEffect)(function(){(0,HS.default)(c,t.stylisPlugins)||r(t.stylisPlugins)},[t.stylisPlugins]),q1.default.createElement(rz.Provider,{value:l},q1.default.createElement(ez.Provider,{value:i},t.children))}function IS(t){return BX.test(t)?t.replace(yX,kX).replace(SX,"-ms-"):t}function A8(t,a,c,r){if(Array.isArray(t)){for(var e,l=[],i=0,o=t.length;i<o;i+=1)(e=A8(t[i],a,c,r))!==""&&(Array.isArray(e)?l.push.apply(l,e):l.push(e));return l}if(PS(t))return"";if(Jd(t))return"."+t.styledComponentId;if(kc(t)){if(typeof(h=t)!="function"||h.prototype&&h.prototype.isReactComponent||!a)return t;var n=t(a);return A8(n,a,c,r)}var h;return t instanceof wX?c?(t.inject(c,r),t.getName(r)):t:Yd(t)?function v(g,d){var s,u,p=[];for(var z in g)g.hasOwnProperty(z)&&!PS(g[z])&&(Array.isArray(g[z])&&g[z].isCss||kc(g[z])?p.push(IS(z)+":",g[z],";"):Yd(g[z])?p.push.apply(p,v(g[z],z)):p.push(IS(z)+": "+(s=z,(u=g[z])==null||typeof u=="boolean"||u===""?"":typeof u!="number"||u===0||s in eS?String(u).trim():u+"px")+";"));return d?[d+" {"].concat(p,["}"]):p}(t):t.toString()}function F2(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];return kc(t)||Yd(t)?GS(A8(wS(Gi,[t].concat(c)))):c.length===0&&t.length===1&&typeof t[0]=="string"?t:GS(A8(wS(t,c)))}function nz(t){return t.replace(AX,"-").replace(RX,"")}function Zi(t){return typeof t=="string"&&!0}function FX(t,a,c){var r=t[c];hz(a)&&hz(r)?OS(r,a):t[c]=a}function OS(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];for(var e=0,l=c;e<l.length;e++){var i=l[e];if(hz(i))for(var o in i)bX(o)&&FX(t,i[o],o)}return t}function ZS(t,a,c){var r=Jd(t),e=!Zi(t),l=a.attrs,i=l===void 0?Gi:l,o=a.componentId,n=o===void 0?function(f,M){var H=typeof f!="string"?"sc":nz(f);sz[H]=(sz[H]||0)+1;var w=H+"-"+ES("5.3.5"+H+sz[H]);return M?M+"-"+w:w}(a.displayName,a.parentComponentId):o,h=a.displayName,v=h===void 0?function(f){return Zi(f)?"styled."+f:"Styled("+BS(f)+")"}(t):h,g=a.displayName&&a.componentId?nz(a.displayName)+"-"+a.componentId:a.componentId||n,d=r&&t.attrs?Array.prototype.concat(t.attrs,i).filter(Boolean):i,s=a.shouldForwardProp;r&&t.shouldForwardProp&&(s=a.shouldForwardProp?function(f,M,H){return t.shouldForwardProp(f,M,H)&&a.shouldForwardProp(f,M,H)}:t.shouldForwardProp);var u,p=new CX(c,g,r?t.componentStyle:void 0),z=p.isStatic&&i.length===0,m=function(f,M){return function(H,w,B,k){var I=H.attrs,j=H.componentStyle,b=H.defaultProps,T=H.foldedComponentIds,C=H.shouldForwardProp,O=H.styledComponentId,J=H.target,F=function(C1,N,M1){C1===void 0&&(C1=C6);var l1=_3({},N,{theme:C1}),y1={};return M1.forEach(function(k1){var A1,L,X,K=k1;for(A1 in kc(K)&&(K=K(l1)),K)l1[A1]=y1[A1]=A1==="className"?(L=y1[A1],X=K[A1],L&&X?L+" "+X:L||X):K[A1]}),[l1,y1]}(TS(w,(0,q1.useContext)(vz),b)||C6,w,I),Q=F[0],Z=F[1],t1=function(C1,N,M1,l1){var y1=iz(),k1=FS(),A1=N?C1.generateAndInjectStyles(C6,y1,k1):C1.generateAndInjectStyles(M1,y1,k1);return A1}(j,k,Q,void 0),_=B,W=Z.$as||w.$as||Z.as||w.as||J,v1=Zi(W),$=Z!==w?_3({},w,{},Z):w,U={};for(var o1 in $)o1[0]!=="$"&&o1!=="as"&&(o1==="forwardedAs"?U.as=$[o1]:(C?C(o1,Xd.default,W):!v1||(0,Xd.default)(o1))&&(U[o1]=$[o1]));return w.style&&Z.style!==w.style&&(U.style=_3({},w.style,{},Z.style)),U.className=Array.prototype.concat(T,O,t1!==O?t1:null,w.className,Z.className).filter(Boolean).join(" "),U.ref=_,(0,q1.createElement)(W,U)}(u,f,M,z)};return m.displayName=v,(u=q1.default.forwardRef(m)).attrs=d,u.componentStyle=p,u.displayName=v,u.shouldForwardProp=s,u.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Gi,u.styledComponentId=g,u.target=r?t.target:t,u.withComponent=function(f){var M=a.componentId,H=function(B,k){if(B==null)return{};var I,j,b={},T=Object.keys(B);for(j=0;j<T.length;j++)I=T[j],k.indexOf(I)>=0||(b[I]=B[I]);return b}(a,["componentId"]),w=M&&M+"-"+(Zi(f)?f:nz(BS(f)));return ZS(f,_3({},H,{attrs:d,componentId:w}),c)},Object.defineProperty(u,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(f){this._foldedDefaultProps=r?OS({},t.defaultProps,f):f}}),u.toString=function(){return"."+u.styledComponentId},e&&(0,VS.default)(u,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),u}function Di(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];var e=F2.apply(void 0,[t].concat(c)),l="sc-global-"+ES(JSON.stringify(e)),i=new IX(e,l);function o(h){var v=iz(),g=FS(),d=(0,q1.useContext)(vz),s=(0,q1.useRef)(v.allocateGSInstance(l)).current;return v.server&&n(s,h,v,d,g),(0,q1.useLayoutEffect)(function(){if(!v.server)return n(s,h,v,d,g),function(){return i.removeStyles(s,v)}},[s,h,v,d,g]),null}function n(h,v,g,d,s){if(i.isStatic)i.renderStyles(h,oX,g,s);else{var u=_3({},v,{theme:TS(v,d,o.defaultProps)});i.renderStyles(h,u,g,s)}}return q1.default.memo(o)}var Pi,q1,HS,Xd,VS,wS,Yd,Gi,C6,L6,tz,iX,oX,nX,Ti,Ei,Ac,Oi,hX,vX,sX,gX,dX,zX,az,yS,uX,pX,mX,SS,fX,Rc,MX,kS,H9,AS,xX,CX,LX,HX,rz,lv1,ez,VX,lz,wX,BX,yX,SX,kX,PS,GS,iv1,TS,AX,RX,ES,hz,bX,vz,ov1,sz,gz,IX,nv1,V,a1=x(()=>{Pi=y(tS()),q1=y(P()),HS=y(Wd());rS();lS();Xd=y(sS()),VS=y(LS());wS=function(t,a){for(var c=[t[0]],r=0,e=a.length;r<e;r+=1)c.push(a[r],t[r+1]);return c},Yd=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!(0,Pi.typeOf)(t)},Gi=Object.freeze([]),C6=Object.freeze({});L6=typeof process!="undefined"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",tz=typeof window!="undefined"&&"HTMLElement"in window,iX=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1),oX={};nX=function(){function t(c){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=c}var a=t.prototype;return a.indexOfGroup=function(c){for(var r=0,e=0;e<c;e++)r+=this.groupSizes[e];return r},a.insertRules=function(c,r){if(c>=this.groupSizes.length){for(var e=this.groupSizes,l=e.length,i=l;c>=i;)(i<<=1)<0&&v5(16,""+c);this.groupSizes=new Uint32Array(i),this.groupSizes.set(e),this.length=i;for(var o=l;o<i;o++)this.groupSizes[o]=0}for(var n=this.indexOfGroup(c+1),h=0,v=r.length;h<v;h++)this.tag.insertRule(n,r[h])&&(this.groupSizes[c]++,n++)},a.clearGroup=function(c){if(c<this.length){var r=this.groupSizes[c],e=this.indexOfGroup(c),l=e+r;this.groupSizes[c]=0;for(var i=e;i<l;i++)this.tag.deleteRule(e)}},a.getGroup=function(c){var r="";if(c>=this.length||this.groupSizes[c]===0)return r;for(var e=this.groupSizes[c],l=this.indexOfGroup(c),i=l+e,o=l;o<i;o++)r+=this.tag.getRule(o)+`/*!sc*/
`;return r},t}(),Ti=new Map,Ei=new Map,Ac=1,Oi=function(t){if(Ti.has(t))return Ti.get(t);for(;Ei.has(Ac);)Ac++;var a=Ac++;return Ti.set(t,a),Ei.set(a,t),a},hX=function(t){return Ei.get(t)},vX=function(t,a){a>=Ac&&(Ac=a+1),Ti.set(t,a),Ei.set(a,t)},sX="style["+L6+'][data-styled-version="5.3.5"]',gX=new RegExp("^"+L6+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),dX=function(t,a,c){for(var r,e=c.split(","),l=0,i=e.length;l<i;l++)(r=e[l])&&t.registerName(a,r)},zX=function(t,a){for(var c=(a.textContent||"").split(`/*!sc*/
`),r=[],e=0,l=c.length;e<l;e++){var i=c[e].trim();if(i){var o=i.match(gX);if(o){var n=0|parseInt(o[1],10),h=o[2];n!==0&&(vX(h,n),dX(t,h,o[3]),t.getTag().insertRules(n,r)),r.length=0}else r.push(i)}}},az=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},yS=function(t){var a=document.head,c=t||a,r=document.createElement("style"),e=function(o){for(var n=o.childNodes,h=n.length;h>=0;h--){var v=n[h];if(v&&v.nodeType===1&&v.hasAttribute(L6))return v}}(c),l=e!==void 0?e.nextSibling:null;r.setAttribute(L6,"active"),r.setAttribute("data-styled-version","5.3.5");var i=az();return i&&r.setAttribute("nonce",i),c.insertBefore(r,l),r},uX=function(){function t(c){var r=this.element=yS(c);r.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var l=document.styleSheets,i=0,o=l.length;i<o;i++){var n=l[i];if(n.ownerNode===e)return n}v5(17)}(r),this.length=0}var a=t.prototype;return a.insertRule=function(c,r){try{return this.sheet.insertRule(r,c),this.length++,!0}catch(e){return!1}},a.deleteRule=function(c){this.sheet.deleteRule(c),this.length--},a.getRule=function(c){var r=this.sheet.cssRules[c];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),pX=function(){function t(c){var r=this.element=yS(c);this.nodes=r.childNodes,this.length=0}var a=t.prototype;return a.insertRule=function(c,r){if(c<=this.length&&c>=0){var e=document.createTextNode(r),l=this.nodes[c];return this.element.insertBefore(e,l||null),this.length++,!0}return!1},a.deleteRule=function(c){this.element.removeChild(this.nodes[c]),this.length--},a.getRule=function(c){return c<this.length?this.nodes[c].textContent:""},t}(),mX=function(){function t(c){this.rules=[],this.length=0}var a=t.prototype;return a.insertRule=function(c,r){return c<=this.length&&(this.rules.splice(c,0,r),this.length++,!0)},a.deleteRule=function(c){this.rules.splice(c,1),this.length--},a.getRule=function(c){return c<this.length?this.rules[c]:""},t}(),SS=tz,fX={isServer:!tz,useCSSOMInjection:!iX},Rc=function(){function t(c,r,e){c===void 0&&(c=C6),r===void 0&&(r={}),this.options=_3({},fX,{},c),this.gs=r,this.names=new Map(e),this.server=!!c.isServer,!this.server&&tz&&SS&&(SS=!1,function(l){for(var i=document.querySelectorAll(sX),o=0,n=i.length;o<n;o++){var h=i[o];h&&h.getAttribute(L6)!=="active"&&(zX(l,h),h.parentNode&&h.parentNode.removeChild(h))}}(this))}t.registerId=function(c){return Oi(c)};var a=t.prototype;return a.reconstructWithOptions=function(c,r){return r===void 0&&(r=!0),new t(_3({},this.options,{},c),this.gs,r&&this.names||void 0)},a.allocateGSInstance=function(c){return this.gs[c]=(this.gs[c]||0)+1},a.getTag=function(){return this.tag||(this.tag=(e=(r=this.options).isServer,l=r.useCSSOMInjection,i=r.target,c=e?new mX(i):l?new uX(i):new pX(i),new nX(c)));var c,r,e,l,i},a.hasNameForId=function(c,r){return this.names.has(c)&&this.names.get(c).has(r)},a.registerName=function(c,r){if(Oi(c),this.names.has(c))this.names.get(c).add(r);else{var e=new Set;e.add(r),this.names.set(c,e)}},a.insertRules=function(c,r,e){this.registerName(c,r),this.getTag().insertRules(Oi(c),e)},a.clearNames=function(c){this.names.has(c)&&this.names.get(c).clear()},a.clearRules=function(c){this.getTag().clearGroup(Oi(c)),this.clearNames(c)},a.clearTag=function(){this.tag=void 0},a.toString=function(){return function(c){for(var r=c.getTag(),e=r.length,l="",i=0;i<e;i++){var o=hX(i);if(o!==void 0){var n=c.names.get(o),h=r.getGroup(i);if(n&&h&&n.size){var v=L6+".g"+i+'[id="'+o+'"]',g="";n!==void 0&&n.forEach(function(d){d.length>0&&(g+=d+",")}),l+=""+h+v+'{content:"'+g+`"}/*!sc*/
`}}}return l}(this)},t}(),MX=/(a)(d)/gi,kS=function(t){return String.fromCharCode(t+(t>25?39:97))};H9=function(t,a){for(var c=a.length;c;)t=33*t^a.charCodeAt(--c);return t},AS=function(t){return H9(5381,t)};xX=AS("5.3.5"),CX=function(){function t(a,c,r){this.rules=a,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&RS(a),this.componentId=c,this.baseHash=H9(xX,c),this.baseStyle=r,Rc.registerId(c)}return t.prototype.generateAndInjectStyles=function(a,c,r){var e=this.componentId,l=[];if(this.baseStyle&&l.push(this.baseStyle.generateAndInjectStyles(a,c,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&c.hasNameForId(e,this.staticRulesId))l.push(this.staticRulesId);else{var i=A8(this.rules,a,c,r).join(""),o=cz(H9(this.baseHash,i)>>>0);if(!c.hasNameForId(e,o)){var n=r(i,"."+o,void 0,e);c.insertRules(e,o,n)}l.push(o),this.staticRulesId=o}else{for(var h=this.rules.length,v=H9(this.baseHash,r.hash),g="",d=0;d<h;d++){var s=this.rules[d];if(typeof s=="string")g+=s;else if(s){var u=A8(s,a,c,r),p=Array.isArray(u)?u.join(""):u;v=H9(v,p+d),g+=p}}if(g){var z=cz(v>>>0);if(!c.hasNameForId(e,z)){var m=r(g,"."+z,void 0,e);c.insertRules(e,z,m)}l.push(z)}}return l.join(" ")},t}(),LX=/^\s*\/\/.*$/gm,HX=[":","[",".","#"];rz=q1.default.createContext(),lv1=rz.Consumer,ez=q1.default.createContext(),VX=(ez.Consumer,new Rc),lz=bS();wX=function(){function t(a,c){var r=this;this.inject=function(e,l){l===void 0&&(l=lz);var i=r.name+l.hash;e.hasNameForId(r.id,i)||e.insertRules(r.id,i,l(r.rules,i,"@keyframes"))},this.toString=function(){return v5(12,String(r.name))},this.name=a,this.id="sc-keyframes-"+a,this.rules=c}return t.prototype.getName=function(a){return a===void 0&&(a=lz),this.name+a.hash},t}(),BX=/([A-Z])/,yX=/([A-Z])/g,SX=/^ms-/,kX=function(t){return"-"+t.toLowerCase()};PS=function(t){return t==null||t===!1||t===""};GS=function(t){return Array.isArray(t)&&(t.isCss=!0),t};iv1=new Set,TS=function(t,a,c){return c===void 0&&(c=C6),t.theme!==c.theme&&t.theme||a||c.theme},AX=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RX=/(^-|-$)/g;ES=function(t){return cz(AS(t)>>>0)};hz=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},bX=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};vz=q1.default.createContext(),ov1=vz.Consumer,sz={};gz=function(t){return function a(c,r,e){if(e===void 0&&(e=C6),!(0,Pi.isValidElementType)(r))return v5(1,String(r));var l=function(){return c(r,e,F2.apply(void 0,arguments))};return l.withConfig=function(i){return a(c,r,_3({},e,{},i))},l.attrs=function(i){return a(c,r,_3({},e,{attrs:Array.prototype.concat(e.attrs,i).filter(Boolean)}))},l}(ZS,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){gz[t]=gz(t)});IX=function(){function t(c,r){this.rules=c,this.componentId=r,this.isStatic=RS(c),Rc.registerId(this.componentId+1)}var a=t.prototype;return a.createStyles=function(c,r,e,l){var i=l(A8(this.rules,r,e,l).join(""),""),o=this.componentId+c;e.insertRules(o,o,i)},a.removeStyles=function(c,r){r.clearRules(this.componentId+c)},a.renderStyles=function(c,r,e,l){c>2&&Rc.registerId(this.componentId+c),this.removeStyles(c,e),this.createStyles(c,r,e,l)},t}();nv1=function(){function t(){var c=this;this._emitSheetCSS=function(){var r=c.instance.toString();if(!r)return"";var e=az();return"<style "+[e&&'nonce="'+e+'"',L6+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return c.sealed?v5(2):c._emitSheetCSS()},this.getStyleElement=function(){var r;if(c.sealed)return v5(2);var e=((r={})[L6]="",r["data-styled-version"]="5.3.5",r.dangerouslySetInnerHTML={__html:c.instance.toString()},r),l=az();return l&&(e.nonce=l),[q1.default.createElement("style",_3({},e,{key:"sc-0-0"}))]},this.seal=function(){c.sealed=!0},this.instance=new Rc({isServer:!0}),this.sealed=!1}var a=t.prototype;return a.collectStyles=function(c){return this.sealed?v5(2):q1.default.createElement(oz,{sheet:this.instance},c)},a.interleaveWithNodeStream=function(c){return v5(3)},t}(),V=gz});var S0,PX,k0,GX,TX,DS,EX,g2,jS,A0=x(()=>{S0=y(P());a1();PX="pointer-root",k0="--lockedCursor",GX=V.div`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`,TX=V.div`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`,DS=(0,S0.createContext)({}),EX=t=>{var l,i,o,n;let[a,c]=(0,S0.useState)([]),r=(0,S0.useMemo)(()=>({getLock:(v,g)=>{let d={className:v,cursor:g};return c(u=>[...u,d]),()=>{c(u=>u.filter(p=>p!==d))}}}),[]),e=(i=(l=a[0])==null?void 0:l.cursor)!=null?i:"";return S0.default.createElement(DS.Provider,{value:r},S0.default.createElement(GX,{id:PX,className:((n=(o=a[0])==null?void 0:o.className)!=null?n:"normal")+" "+t.className},S0.default.createElement(TX,{style:{cursor:e,[k0]:e}},t.children)))},g2=(t,a,c)=>{let r=(0,S0.useContext)(DS);(0,S0.useLayoutEffect)(()=>{if(!!t)return r.getLock(a,c)},[t,a,c])},jS=EX});function ji(t){return R8.default.createElement(WS.Provider,{value:t.logger},t.children)}function f0(t,a){let c=(0,R8.useContext)(WS);return(0,R8.useMemo)(()=>t?c.named(t,a):c,[c,t,a])}var R8,WS,s5=x(()=>{R8=y(P()),WS=R8.default.createContext(null)});function OX(){let t=f0("PointerCapturing"),a=R0.default.useRef(null),c=()=>a.current!=null;return r=>{let e,l=o=>(e=o,a.current=o,o);return{capturing:{capturePointer(o){if(t._debug("Capturing pointer",{forDebugName:r,reason:o}),a.current!=null)throw new Error(`"${r}" attempted capturing pointer for "${o}" while already captured by "${a.current.debugOwnerName}" for "${a.current.debugReason}"`);let n=l({debugOwnerName:r,debugReason:o});return{isCapturing(){return n===a.current},release(){return n===a.current?(t._debug("Releasing pointer",{forDebugName:r,reason:o}),l(null),!0):!1}}},isPointerBeingCaptured:c},forceRelease(){e&&a.current===e&&(t._debug("Force releasing pointer",{localCapture:e}),l(null))}}}}function qS(t){let a=OX();return R0.default.createElement(_S.Provider,{value:a},R0.default.createElement(ZX,{children:t.children}))}function Wi(t){let a=(0,R0.useContext)(_S),c=(0,R0.useMemo)(()=>a(t),[t,a]);return(0,R0.useEffect)(()=>()=>{c.forceRelease()},[c]),c.capturing}var R0,_S,ZX,_i=x(()=>{R0=y(P());s5();_S=R0.default.createContext(null),ZX=R0.default.memo(({children:t})=>R0.default.createElement(R0.default.Fragment,null,t))});var DX,n0,b8=x(()=>{DX=()=>{},n0=DX});var dz,NS=x(()=>{dz=typeof window!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function d1(t){let a=(0,qi.useMemo)(()=>{let e=t;return{get current(){return e},set current(l){e=l,r(l)}}},[]),[c,r]=(0,qi.useState)(()=>t);return[a,c]}var qi,P1=x(()=>{qi=y(P())});function S1(t,a){let c=(0,F8.useRef)(a);c.current=a;let r=a.shouldPointerLock&&!dz,e=(0,F8.useRef)({domDragStarted:!1}),{capturePointer:l}=Wi(`useDrag for ${a.debugName}`),i=(0,F8.useRef)({onDrag:n0,onDragEnd:n0,onClick:n0}),o=(0,F8.useRef)(),[n,h]=d1(!1);return(0,F8.useLayoutEffect)(()=>{if(!t)return;let v=()=>{let f=e.current.domDragStarted&&e.current.detection.detected;n.current!==f&&(n.current=f)},g=f=>{if(!e.current.domDragStarted)return;let M=e.current;if(!WX(f,M)&&(M.detection.detected||(M.detection.totalDistanceMoved+=Math.abs(f.movementY)+Math.abs(f.movementX),M.detection.totalDistanceMoved>jX&&(r&&t.requestPointerLock(),M.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},v())),M.detection.detected)){M.detection.dragEventCount+=1;let{dragMovement:H}=M.detection;if(r)H.x+=f.movementX,H.y+=f.movementY;else{let{startPos:w}=M;H.x=f.screenX-w.x,H.y=f.screenY-w.y}i.current.onDrag(H.x,H.y,f,f.movementX,f.movementY)}},d=f=>{if(u(),!e.current.domDragStarted)return;let M=e.current.detection.detected;e.current={domDragStarted:!1},a.shouldPointerLock&&!dz&&document.exitPointerLock(),i.current.onDragEnd(M),window.focus(),M||i.current.onClick(f),v()},s=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",d)},u=()=>{var f;(f=o.current)==null||f.release(),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",d)},p=f=>{c.current.disabled||!e.current.domDragStarted||e.current.detection.detected&&(c.current.dontBlockMouseDown||(f.stopPropagation(),f.preventDefault()),e.current.detection={detected:!1,totalDistanceMoved:0},v())},z=f=>{var B,k,I,j;(B=o.current)==null||B.release();let M=c.current;if(M.disabled===!0||!((k=M.buttons)!=null?k:[0]).includes(f.button))return;let w=M.onDragStart(f);w!==!1&&(i.current.onDrag=w.onDrag,i.current.onDragEnd=(I=w.onDragEnd)!=null?I:n0,i.current.onClick=(j=w.onClick)!=null?j:n0,o.current=l("Drag start"),M.dontBlockMouseDown||(f.stopPropagation(),f.preventDefault()),e.current={domDragStarted:!0,startPos:{x:f.screenX,y:f.screenY},detection:{detected:!1,totalDistanceMoved:0}},v(),s())},m=f=>{z(f)};return t.addEventListener("mousedown",m),t.addEventListener("click",p),()=>{var f,M;u(),t.removeEventListener("mousedown",m),t.removeEventListener("click",p),e.current.domDragStarted&&((M=(f=i.current).onDragEnd)==null||M.call(f,e.current.detection.detected)),e.current={domDragStarted:!1},v()}},[t]),g2(h&&!!a.lockCSSCursorTo,"dragging",a.lockCSSCursorTo),[h]}function WX(t,a){return(!a.detection.detected||a.detection.detected&&a.detection.dragEventCount<3)&&(Math.abs(t.movementX)>US||Math.abs(t.movementY)>US)}var F8,zz,jX,US,m2=x(()=>{F8=y(P());A0();_i();b8();NS();P1();(function(c){c[c.Left=0]="Left",c[c.Middle=1]="Middle"})(zz||(zz={}));jX=3,US=100});function uz(t,a){let c=(0,Ni.useRef)({combo:t,listener:a});c.current={combo:t,listener:a},(0,Ni.useEffect)(()=>{function r(i){i.key===c.current.combo&&c.current.listener({down:!0,event:i})}function e(i){i.key===c.current.combo&&c.current.listener({down:!1,event:i})}function l(i){c.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",r),document.addEventListener("keyup",e),window.addEventListener("blur",l),()=>{document.removeEventListener("keydown",r),document.removeEventListener("keyup",e),window.removeEventListener("blur",l)}},[])}var Ni,KS=x(()=>{Ni=y(P())});function bc(t){let[a,c]=(0,$S.useState)(!1);return uz(t,({down:r})=>{c(r)}),a}var $S,pz=x(()=>{$S=y(P());KS()});function mz(t){let a=(0,Ui.useMemo)(()=>new QS.Atom(t),[]);return(0,Ui.useLayoutEffect)(()=>{a.set(t)},[t]),a}var QS,Ui,XS=x(()=>{QS=y(require("@theatre/dataverse")),Ui=y(P())});function $i(t,a,c){let r=(0,Ki.pointer)({root:{},path:[]}),e=a(r);J5(t,(0,Ki.getPointerParts)(e).path,c)}var Ki,YS=x(()=>{Ki=y(require("@theatre/dataverse"));tl()});var fz,_X,r2,H3=x(()=>{fz="data-pos",_X={checkIfMouseEventSnapToPos(t,a){let c=t.composedPath().find(r=>r instanceof Element&&r!==(a==null?void 0:a.ignore)&&r.hasAttribute(fz));if(c){let r=parseFloat(c.getAttribute(fz));if(isFinite(r))return r}return null},includePositionSnapAttrs(t){return{[fz]:t}}},r2=_X});function H6(t){let a=t.type==="sheet"?NX(t):Mz(t);return{byPosition:qX(a),tracks:a}}function qX(t){let a=new Map;for(let c of t)for(let r of c.data.keyframes){let e=a.get(r.position);e||(e=[],a.set(r.position,e)),e.push({kf:r,track:c,itemKey:t2.forTrackKeyframe(c.sheetObject,c.id,r.id)})}return a}function NX(t){return t.children.flatMap(Mz)}function Mz(t){return t.children.flatMap(a=>a.type==="propWithChildren"?Mz(a):UX(a))}function UX(t){let a=t.sheetObject,c=a.address.projectId,r=G().atomP.historic.coreByProject[c].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey],e=(0,Qi.val)(r.trackIdByPropPath[_0(t.pathToProp)]);if(!e)return[];let l=(0,Qi.val)(r.trackData[e]);return l?[{id:e,data:l,sheetObject:a}]:[]}function JS(t,a){return z3(t.children.flatMap(c=>Xi(c,a)))}function Xi(t,a){return z3(t.children.flatMap(c=>c.type==="propWithChildren"?Xi(c,a):KX(c,a)))}function KX(t,a){var i,o;let c=t.sheetObject,r=c.address.projectId,e=G().atomP.historic.coreByProject[r].sheetsById[c.address.sheetId].sequence.tracksByObject[c.address.objectKey],l=(0,Qi.val)(e.trackIdByPropPath[_0(t.pathToProp)]);return l?(o=(i=a[c.address.objectKey])==null?void 0:i[l])!=null?o:[]:[]}var Qi,I8=x(()=>{m1();Qi=y(require("@theatre/dataverse"));z4();G3();C2()});function XX(t,a){let[c,r]=d1(null),e=f0("useCaptureSelection");return S1(a,(0,V6.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(l){if(!l.shiftKey||l.target instanceof HTMLInputElement)return!1;let i=a.getBoundingClientRect(),o=l.clientX-i.left-(0,V3.val)(t.scaledSpace.leftPadding),n=(0,V3.val)(t.scaledSpace.toUnitSpace)(o);return c.current={h:[n,n],v:[l.clientY-i.top,l.clientY-i.top]},(0,V3.val)(t.selectionAtom).set({current:void 0}),{onDrag(h,v,g){let d=a.getBoundingClientRect(),s=g.clientX-d.left-(0,V3.val)(t.scaledSpace.leftPadding),u=(0,V3.val)(t.scaledSpace.toUnitSpace)(s);c.current={h:[c.current.h[0],u],v:[c.current.v[0],g.clientY-d.top]};let p=xz.boundsToSelection(e,(0,V3.val)(t),c.current);(0,V3.val)(t.selectionAtom).set({current:p})},onDragEnd(h){c.current=null}}}}),[t,a,c])),r}var V3,V6,P8,$X,QX,xz,YX,tk,JX,ak,ck=x(()=>{m1();m2();pz();XS();YS();P1();f1();V3=y(require("@theatre/dataverse")),V6=y(P());a1();H3();I8();s5();P8=5,$X=V.div`
  cursor: ${t=>t.isShiftDown?"cell":"default"};
`,QX=({layoutP:t,children:a,height:c})=>{let[r,e]=d1(null),l=bc("Shift"),i=XX(t,e),o=(0,V6.useRef)(i);return o.current=i,V6.default.createElement($X,{style:{height:c+"px"},ref:r,isShiftDown:l,className:"selectionview"},i&&V6.default.createElement(JX,{state:i,layoutP:t}),a)};(function(l){let t=(i,o,n,h,v)=>{let g=H6(n);if(n.top+n.nodeHeight/2+P8>h.v[0]&&n.top+n.nodeHeight/2-P8<h.v[1])for(let[d,s]of g.byPosition){let u=o.scaledSpace.toUnitSpace(P8);if(!(d+u<=h.h[0]||d-u>=h.h[1]))for(let z of s)$i(v,m=>m[z.track.sheetObject.address.objectKey].byTrackId[z.track.id].byKeyframeId[z.kf.id],!0)}c(i,o,n,h,v)},a={sheet(i,o,n,h,v){t(i,o,n,h,v)},propWithChildren(i,o,n,h,v){t(i,o,n,h,v)},sheetObject(i,o,n,h,v){t(i,o,n,h,v)},primitiveProp(i,o,n,h,v){let{sheetObject:g,trackId:d}=n,s=(0,V3.val)(G().atomP.historic.coreByProject[g.address.projectId].sheetsById[g.address.sheetId].sequence.tracksByObject[g.address.objectKey].trackData[d]);if(!(h.v[0]>n.top+n.heightIncludingChildren/2+P8||n.top+n.heightIncludingChildren/2-P8>h.v[1])){for(let u of s.keyframes)if(!(u.position+o.scaledSpace.toUnitSpace(P8)<=h.h[0])){if(u.position-o.scaledSpace.toUnitSpace(P8)>=h.h[1])break;$i(v,p=>p[g.address.objectKey].byTrackId[d].byKeyframeId[u.id],!0)}}}},c=(i,o,n,h,v)=>{if("children"in n)for(let g of n.children)r(i,o,g,h,v)};function r(i,o,n,h,v){if(!n.shouldRender||h.v[0]>n.top+n.heightIncludingChildren||n.top>h.v[1])return;let g=a[n.type];g?g(i,o,n,h,v):c(i,o,n,h,v)}function e(i,o,n){let h={};n=tk(n);let v=o.tree;r(i.utilFor.internal(),o,v,n,h);let g=o.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:h,getDragHandlers(d){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let s,u=o.scaledSpace.toUnitSpace;return{onDrag(p,z,m){s&&(s.discard(),s=void 0);let f=r2.checkIfMouseEventSnapToPos(m,{ignore:d.domNode}),M=f!=null?f-d.positionAtStartOfDrag:u(p);s=G().tempTransaction(({stateEditors:H})=>{let w=H.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let B of Object.keys(h)){let{byTrackId:k}=h[B];for(let I of Object.keys(k)){let{byKeyframeId:j}=k[I];w({trackId:I,keyframeIds:Object.keys(j),translate:M,scale:1,origin:0,snappingFunction:g.getSequence().closestGridPosition,objectKey:B,projectId:d.projectId,sheetId:d.sheetId})}}})},onDragEnd(p){p?s==null||s.commit():s==null||s.discard()}}}}},delete(){G().transaction(({stateEditors:d})=>{let s=d.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let u of Object.keys(h)){let{byTrackId:p}=h[u];for(let z of Object.keys(p)){let{byKeyframeId:m}=p[z];s(D(S({},g.address),{objectKey:u,trackId:z,keyframeIds:Object.keys(m)}))}}})}}}l.boundsToSelection=e})(xz||(xz={}));YX=V.div`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`,tk=t=>({h:[...t.h].sort((a,c)=>a-c),v:[...t.v].sort((a,c)=>a-c)}),JX=({state:t,layoutP:a})=>{let c=mz(t);return h1(()=>{let r=(0,V3.val)(c.pointer),e=tk(r),l=(0,V3.val)(a.scaledSpace.fromUnitSpace),i=(0,V3.val)(a.scaledSpace.leftPadding),o=e.h.map(l).map(d=>d+i),n=e.v[0],h=e.v[1]-e.v[0],v=o[0],g=o[1]-o[0];return V6.default.createElement(YX,{style:{top:n+"px",height:h+"px",left:v+"px",width:g+"px"}})},[a,c])},ak=QX});function aY(t){return Object.keys(t)}function rk(t){return Object.keys((0,V4.val)(t.sheetTemplatesP))}function ek(){let a=z3(a3().filter(c=>v7(c)||t0(c)).map(c=>t0(c)?c.sheet:c))[0];if(!!a)return a.getSequence()}var V4,a3,tY,g5=x(()=>{V4=y(require("@theatre/dataverse"));I5();C2();m1();a3=()=>{var c;let t=(0,V4.val)(G().projectsP),a=((c=(0,V4.val)(G().atomP.historic.panels.outlinePanel.selection))!=null?c:[]).map(r=>{let e=t[r.projectId];if(!e)return;if(r.type==="Project")return e;if(!(0,V4.val)(e.sheetTemplatesP[r.sheetId]))return;let i=tY(e,r.sheetId);if(!i)return;if(r.type==="Sheet")return i;let o=(0,V4.val)(i.objectsP[r.objectKey]);if(!!o)return o});return z3(a.filter(r=>typeof r!="undefined"))},tY=(t,a)=>{let c=G().atomP.historic.projects.stateByProjectId[t.address.projectId],r=(0,V4.val)(c.stateBySheetId[a].selectedInstanceId),e=(0,V4.val)(t.sheetTemplatesP[a]);if(!!e){if(r)return(0,V4.val)(e.instancesP[r]);{let l=(0,V4.val)(e.instancesP);return l[aY(l)[0]]}}}});var Yi,Ji,Cz=x(()=>{Yi=y(require("@theatre/dataverse")),Ji=(t,a)=>{let c=Yi.prism.memo(t,()=>new Yi.Atom(a),[]);return c.set(a),c}});function d5(){return d5=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r])}return t},d5.apply(this,arguments)}var lk=x(()=>{});function Lz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ik=x(()=>{});function z5(t,a){return z5=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r},z5(t,a)}var to=x(()=>{});function Hz(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,z5(t,a)}var ok=x(()=>{to()});function Fc(t){return Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Fc(t)}var nk=x(()=>{});function Vz(t){return Function.toString.call(t).indexOf("[native code]")!==-1}var hk=x(()=>{});function wz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var vk=x(()=>{});function V9(t,a,c){return wz()?V9=Reflect.construct:V9=function(e,l,i){var o=[null];o.push.apply(o,l);var n=Function.bind.apply(e,o),h=new n;return i&&z5(h,i.prototype),h},V9.apply(null,arguments)}var sk=x(()=>{to();vk()});function Ic(t){var a=typeof Map=="function"?new Map:void 0;return Ic=function(r){if(r===null||!Vz(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a!="undefined"){if(a.has(r))return a.get(r);a.set(r,e)}function e(){return V9(r,arguments,Fc(this).constructor)}return e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),z5(e,r)},Ic(t)}var gk=x(()=>{nk();to();hk();sk()});var dk=x(()=>{});function cY(t){return t.charAt(0).toUpperCase()+t.slice(1)}function eY(t,a){if(!t)return a.toLowerCase();var c=t.split("-");if(c.length>1)return c.splice(1,0,a),c.reduce(function(e,l){return""+e+cY(l)});var r=t.replace(/([a-z])([A-Z])/g,"$1"+a+"$2");return t===r?""+t+a:r}function lY(t,a){for(var c={},r=0;r<a.length;r+=1)(a[r]||a[r]===0)&&(c[eY(t,rY[r])]=a[r]);return c}function zk(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];var e=c[0],l=c[1],i=l===void 0?e:l,o=c[2],n=o===void 0?e:o,h=c[3],v=h===void 0?i:h,g=[e,i,n,v];return lY(t,g)}function Bz(t){return Math.round(t*255)}function iY(t,a,c){return Bz(t)+","+Bz(a)+","+Bz(c)}function Pc(t,a,c,r){if(r===void 0&&(r=iY),a===0)return r(c,c,c);var e=(t%360+360)%360/60,l=(1-Math.abs(2*c-1))*a,i=l*(1-Math.abs(e%2-1)),o=0,n=0,h=0;e>=0&&e<1?(o=l,n=i):e>=1&&e<2?(o=i,n=l):e>=2&&e<3?(n=l,h=i):e>=3&&e<4?(n=i,h=l):e>=4&&e<5?(o=i,h=l):e>=5&&e<6&&(o=l,h=i);var v=c-l/2,g=o+v,d=n+v,s=h+v;return r(g,d,s)}function oY(t){if(typeof t!="string")return t;var a=t.toLowerCase();return uk[a]?"#"+uk[a]:t}function Sz(t){if(typeof t!="string")throw new w4(3);var a=oY(t);if(a.match(nY))return{red:parseInt(""+a[1]+a[2],16),green:parseInt(""+a[3]+a[4],16),blue:parseInt(""+a[5]+a[6],16)};if(a.match(hY)){var c=parseFloat((parseInt(""+a[7]+a[8],16)/255).toFixed(2));return{red:parseInt(""+a[1]+a[2],16),green:parseInt(""+a[3]+a[4],16),blue:parseInt(""+a[5]+a[6],16),alpha:c}}if(a.match(vY))return{red:parseInt(""+a[1]+a[1],16),green:parseInt(""+a[2]+a[2],16),blue:parseInt(""+a[3]+a[3],16)};if(a.match(sY)){var r=parseFloat((parseInt(""+a[4]+a[4],16)/255).toFixed(2));return{red:parseInt(""+a[1]+a[1],16),green:parseInt(""+a[2]+a[2],16),blue:parseInt(""+a[3]+a[3],16),alpha:r}}var e=yz.exec(a);if(e)return{red:parseInt(""+e[1],10),green:parseInt(""+e[2],10),blue:parseInt(""+e[3],10)};var l=gY.exec(a.substring(0,50));if(l)return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+l[4])};var i=dY.exec(a);if(i){var o=parseInt(""+i[1],10),n=parseInt(""+i[2],10)/100,h=parseInt(""+i[3],10)/100,v="rgb("+Pc(o,n,h)+")",g=yz.exec(v);if(!g)throw new w4(4,a,v);return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10)}}var d=zY.exec(a.substring(0,50));if(d){var s=parseInt(""+d[1],10),u=parseInt(""+d[2],10)/100,p=parseInt(""+d[3],10)/100,z="rgb("+Pc(s,u,p)+")",m=yz.exec(z);if(!m)throw new w4(4,a,z);return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+d[4])}}throw new w4(5)}function uY(t){var a=t.red/255,c=t.green/255,r=t.blue/255,e=Math.max(a,c,r),l=Math.min(a,c,r),i=(e+l)/2;if(e===l)return t.alpha!==void 0?{hue:0,saturation:0,lightness:i,alpha:t.alpha}:{hue:0,saturation:0,lightness:i};var o,n=e-l,h=i>.5?n/(2-e-l):n/(e+l);switch(e){case a:o=(c-r)/n+(c<r?6:0);break;case c:o=(r-a)/n+2;break;default:o=(a-c)/n+4;break}return o*=60,t.alpha!==void 0?{hue:o,saturation:h,lightness:i,alpha:t.alpha}:{hue:o,saturation:h,lightness:i}}function kz(t){return uY(Sz(t))}function G8(t){var a=t.toString(16);return a.length===1?"0"+a:a}function Rz(t){return G8(Math.round(t*255))}function pY(t,a,c){return Az("#"+Rz(t)+Rz(a)+Rz(c))}function ao(t,a,c){return Pc(t,a,c,pY)}function mY(t,a,c){if(typeof t=="number"&&typeof a=="number"&&typeof c=="number")return ao(t,a,c);if(typeof t=="object"&&a===void 0&&c===void 0)return ao(t.hue,t.saturation,t.lightness);throw new w4(1)}function fY(t,a,c,r){if(typeof t=="number"&&typeof a=="number"&&typeof c=="number"&&typeof r=="number")return r>=1?ao(t,a,c):"rgba("+Pc(t,a,c)+","+r+")";if(typeof t=="object"&&a===void 0&&c===void 0&&r===void 0)return t.alpha>=1?ao(t.hue,t.saturation,t.lightness):"rgba("+Pc(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new w4(2)}function bz(t,a,c){if(typeof t=="number"&&typeof a=="number"&&typeof c=="number")return Az("#"+G8(t)+G8(a)+G8(c));if(typeof t=="object"&&a===void 0&&c===void 0)return Az("#"+G8(t.red)+G8(t.green)+G8(t.blue));throw new w4(6)}function pk(t,a,c,r){if(typeof t=="string"&&typeof a=="number"){var e=Sz(t);return"rgba("+e.red+","+e.green+","+e.blue+","+a+")"}else{if(typeof t=="number"&&typeof a=="number"&&typeof c=="number"&&typeof r=="number")return r>=1?bz(t,a,c):"rgba("+t+","+a+","+c+","+r+")";if(typeof t=="object"&&a===void 0&&c===void 0&&r===void 0)return t.alpha>=1?bz(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}throw new w4(7)}function Fz(t){if(typeof t!="object")throw new w4(8);if(xY(t))return pk(t);if(MY(t))return bz(t);if(LY(t))return fY(t);if(CY(t))return mY(t);throw new w4(8)}function mk(t,a,c){return function(){var e=c.concat(Array.prototype.slice.call(arguments));return e.length>=a?t.apply(this,e):mk(t,a,e)}}function co(t){return mk(t,t.length,[])}function ro(t,a,c){return Math.max(t,Math.min(a,c))}function HY(t,a){if(a==="transparent")return a;var c=kz(a);return Fz(d5({},c,{lightness:ro(0,1,c.lightness-parseFloat(t))}))}function VY(t,a){if(a==="transparent")return a;var c=kz(a);return Fz(d5({},c,{lightness:ro(0,1,c.lightness+parseFloat(t))}))}function wY(t,a){if(a==="transparent")return a;var c=kz(a);return Fz(d5({},c,{saturation:ro(0,1,c.saturation+parseFloat(t))}))}function BY(t,a){if(a==="transparent")return a;var c=Sz(a),r=typeof c.alpha=="number"?c.alpha:1,e=d5({},c,{alpha:ro(0,1,+(r*100-parseFloat(t)*100).toFixed(2)/100)});return pk(e)}function lo(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];return yY.indexOf(t)>=0&&t?d5({},zk.apply(void 0,[""].concat(c)),{position:t}):zk.apply(void 0,["",t].concat(c))}var w4,rY,uk,nY,hY,vY,sY,yz,gY,dY,zY,Az,MY,xY,CY,LY,w6,B6,eo,M0,yY,b0=x(()=>{lk();ik();ok();gk();dk();w4=function(t){Hz(a,t);function a(c){var r;if(!0)r=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+c+" for more information.")||this;else for(var e,l,i;i<e;i++);return Lz(r)}return a}(Ic(Error));rY=["Top","Right","Bottom","Left"];uk={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};nY=/^#[a-fA-F0-9]{6}$/,hY=/^#[a-fA-F0-9]{8}$/,vY=/^#[a-fA-F0-9]{3}$/,sY=/^#[a-fA-F0-9]{4}$/,yz=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,gY=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,dY=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,zY=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;Az=function(a){return a.length===7&&a[1]===a[2]&&a[3]===a[4]&&a[5]===a[6]?"#"+a[1]+a[3]+a[5]:a};MY=function(a){return typeof a.red=="number"&&typeof a.green=="number"&&typeof a.blue=="number"&&(typeof a.alpha!="number"||typeof a.alpha=="undefined")},xY=function(a){return typeof a.red=="number"&&typeof a.green=="number"&&typeof a.blue=="number"&&typeof a.alpha=="number"},CY=function(a){return typeof a.hue=="number"&&typeof a.saturation=="number"&&typeof a.lightness=="number"&&(typeof a.alpha!="number"||typeof a.alpha=="undefined")},LY=function(a){return typeof a.hue=="number"&&typeof a.saturation=="number"&&typeof a.lightness=="number"&&typeof a.alpha=="number"};w6=co(HY);B6=co(VY);eo=co(wY);M0=co(BY),yY=["absolute","fixed","relative","static","sticky"]});function SY(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function fk(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,r)}return c}function q3(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?fk(Object(c),!0).forEach(function(r){SY(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):fk(Object(c)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r))})}return t}function B4(t,a){if(t==null)return{};var c={},r=Object.keys(t),e,l;for(l=0;l<r.length;l++)e=r[l],!(a.indexOf(e)>=0)&&(c[e]=t[e]);return c}var w9=x(()=>{});var Mk,io,Iz=x(()=>{Mk=y(P()),io=(0,Mk.createContext)({})});function kY(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function xk(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,r)}return c}function y6(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?xk(Object(c),!0).forEach(function(r){kY(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):xk(Object(c)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r))})}return t}function Gc(t,a){if(t==null)return{};var c={},r=Object.keys(t),e,l;for(l=0;l<r.length;l++)e=r[l],!(a.indexOf(e)>=0)&&(c[e]=t[e]);return c}function AY(t,a){if(!!t){if(typeof t=="string")return Ck(t,a);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Ck(t,a)}}function Ck(t,a){(a==null||a>t.length)&&(a=t.length);for(var c=0,r=new Array(a);c<a;c++)r[c]=t[c];return r}function Pz(t,a){var c;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(c=AY(t))||a&&t&&typeof t.length=="number"){c&&(t=c);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return c=t[Symbol.iterator](),c.next.bind(c)}var Tc=x(()=>{});function RY(t){return typeof t=="function"}var oo,Lk,Hk=x(()=>{oo=y(P());Iz();Tc();Lk=function(a,c,r){r===void 0&&(r=c.children);var e=(0,oo.useContext)(io);if(e.useCreateElement)return e.useCreateElement(a,c,r);if(typeof a=="string"&&RY(r)){var l=c.children,i=Gc(c,["children"]);return r(i)}return(0,oo.createElement)(a,c,r)}});function bY(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function Vk(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,r)}return c}function S6(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?Vk(Object(c),!0).forEach(function(r){bY(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):Vk(Object(c)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r))})}return t}function wk(t,a){if(t==null)return{};var c={},r=Object.keys(t),e,l;for(l=0;l<r.length;l++)e=r[l],!(a.indexOf(e)>=0)&&(c[e]=t[e]);return c}var Gz=x(()=>{});function Bk(t){return typeof t=="object"&&t!=null}var yk=x(()=>{});function Ec(t){var a;if(!Bk(t))return!1;var c=Object.getPrototypeOf(t);return c==null?!0:((a=c.constructor)===null||a===void 0?void 0:a.toString())===Object.toString()}var Tz=x(()=>{yk()});function Sk(t,a){for(var c=Object.keys(t),r={},e={},l=0,i=c;l<i.length;l++){var o=i[l];a.indexOf(o)>=0?r[o]=t[o]:e[o]=t[o]}return[r,e]}function Ez(t,a){if(a===void 0&&(a=[]),!Ec(t.state))return Sk(t,a);var c=Sk(t,[].concat(a,["state"])),r=c[0],e=c[1],l=r.state,i=wk(r,["state"]);return[S6(S6({},l),i),e]}var kk=x(()=>{Gz();Tz()});function T8(t,a){if(t===a)return!0;if(!t||!a||typeof t!="object"||typeof a!="object")return!1;var c=Object.keys(t),r=Object.keys(a),e=c.length;if(r.length!==e)return!1;for(var l=0,i=c;l<i.length;l++){var o=i[l];if(t[o]!==a[o])return!1}return!0}var no=x(()=>{});function Oz(t){return t.name==="normalizePropsAreEqualInner"?t:function(c,r){return!Ec(c.state)||!Ec(r.state)?t(c,r):t(S6(S6({},c.state),c),S6(S6({},r.state),r))}}var Ak=x(()=>{Gz();Tz()});function FY(t){return(0,ho.forwardRef)(t)}function IY(t,a){return(0,ho.memo)(t,a)}function y4(t){var a=t.as,c=t.useHook,r=t.memo,e=t.propsAreEqual,l=e===void 0?c==null?void 0:c.unstable_propsAreEqual:e,i=t.keys,o=i===void 0?(c==null?void 0:c.__keys)||[]:i,n=t.useCreateElement,h=n===void 0?Lk:n,v=function(d,s){var u=d.as,p=u===void 0?a:u,z=Gc(d,["as"]);if(c){var m,f=Ez(z,o),M=f[0],H=f[1],w=c(M,y6({ref:s},H)),B=w.wrapElement,k=Gc(w,["wrapElement"]),I=((m=p.render)===null||m===void 0?void 0:m.__keys)||p.__keys,j=I&&Ez(z,I)[0],b=j?y6(y6({},k),j):k,T=h(p,b);return B?B(T):T}return h(p,y6({ref:s},z))};return v=FY(v),r&&(v=IY(v,l&&Oz(l))),v.__keys=o,v.unstable_propsAreEqual=Oz(l||T8),v}var ho,B9=x(()=>{ho=y(P());Tc();Hk();kk();no();Ak()});function so(t,a){(0,vo.useDebugValue)(t);var c=(0,vo.useContext)(io);return c[t]!=null?c[t]:a}var vo,Zz=x(()=>{vo=y(P());Iz()});function bk(t,a,c){a===void 0&&(a={}),c===void 0&&(c={});var r="use"+t+"Props";(0,Rk.useDebugValue)(r);var e=so(r);return e?e(a,c):c}var Rk,Fk=x(()=>{Rk=y(P());Zz()});function Pk(t,a,c){a===void 0&&(a={}),c===void 0&&(c={});var r="use"+t+"Options";(0,Ik.useDebugValue)(r);var e=so(r);return e?y6(y6({},a),e(a,c)):a}var Ik,Gk=x(()=>{Ik=y(P());Zz();Tc()});function Tk(t){return Array.isArray(t)?t:typeof t!="undefined"?[t]:[]}var Ek=x(()=>{});function S4(t){var a,c,r=Tk(t.compose),e=function(n,h){if(t.useOptions&&(n=t.useOptions(n,h)),t.name&&(n=Pk(t.name,n,h)),t.compose)for(var v=Pz(r),g;!(g=v()).done;){var d=g.value;n=d.__useOptions(n,h)}return n},l=function(n,h,v){if(n===void 0&&(n={}),h===void 0&&(h={}),v===void 0&&(v=!1),v||(n=e(n,h)),t.useProps&&(h=t.useProps(n,h)),t.name&&(h=bk(t.name,n,h)),t.compose)if(t.useComposeOptions&&(n=t.useComposeOptions(n,h)),t.useComposeProps)h=t.useComposeProps(n,h);else for(var g=Pz(r),d;!(d=g()).done;){var s=d.value;h=s(n,h,!0)}var u={},p=h||{};for(var z in p)p[z]!==void 0&&(u[z]=p[z]);return u};l.__useOptions=e;var i=r.reduce(function(o,n){return o.push.apply(o,n.__keys||[]),o},[]);return l.__keys=[].concat(i,((a=t.useState)===null||a===void 0?void 0:a.__keys)||[],t.keys||[]),l.unstable_propsAreEqual=t.propsAreEqual||((c=r[0])===null||c===void 0?void 0:c.unstable_propsAreEqual)||T8,l}var tg1,y9=x(()=>{tg1=y(P());Fk();Tc();Gk();no();Ek()});function Zk(t,a){a===void 0&&(a=null),!!t&&(typeof t=="function"?t(a):t.current=a)}function go(t,a){return(0,Ok.useMemo)(function(){return t==null&&a==null?null:function(c){Zk(t,c),Zk(a,c)}},[t,a])}var Ok,Dz=x(()=>{Ok=y(P())});function S9(t){if(t.tagName==="BUTTON")return!0;if(t.tagName==="INPUT"){var a=t;return PY.indexOf(a.type)!==-1}return!1}var PY,zo=x(()=>{PY=["button","color","file","image","reset","submit"]});var uo=x(()=>{});var gg1,Dk=x(()=>{uo();gg1=y(P())});var mg1,Oc=x(()=>{uo();mg1=y(P());Dk()});function po(t){return t?t.ownerDocument||t:document}var jz=x(()=>{});function jk(t){return t&&po(t).defaultView||Wz}var Wz,Wk=x(()=>{jz();try{Wz=window}catch(t){}});function GY(){var t=jk();return Boolean(typeof t!="undefined"&&t.document&&t.document.createElement)}var E8,mo=x(()=>{Wk();E8=GY()});var fo,k9,Mo=x(()=>{fo=y(P());mo();k9=E8?fo.useLayoutEffect:fo.useEffect});function k6(t){var a=(0,_k.useRef)(t);return k9(function(){a.current=t}),a}var _k,_z=x(()=>{_k=y(P());Mo()});function qk(t){return t.target===t.currentTarget}var Nk=x(()=>{});function Uk(t){var a=po(t),c=a.activeElement;return c!=null&&c.nodeName?c:null}var Kk=x(()=>{jz()});function xo(t,a){return t===a||t.contains(a)}var qz=x(()=>{});function $k(t){var a=Uk(t);if(!a)return!1;if(xo(t,a))return!0;var c=a.getAttribute("aria-activedescendant");return c?c===t.id?!0:!!t.querySelector("#"+c):!1}var Qk=x(()=>{Kk();qz()});function Xk(t){return!xo(t.currentTarget,t.target)}var Yk=x(()=>{qz()});function Zc(t){return E8?window.navigator.userAgent.indexOf(t)!==-1:!1}var Jk=x(()=>{mo()});function tA(t,a){return"matches"in t?t.matches(a):"msMatchesSelector"in t?t.msMatchesSelector(a):t.webkitMatchesSelector(a)}var aA=x(()=>{});function EY(t){var a=t;return a.offsetWidth>0||a.offsetHeight>0||t.getClientRects().length>0}function cA(t){return tA(t,TY)&&EY(t)}var TY,rA=x(()=>{aA();TY="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"});var OY,Dc,Kg1,Nz=x(()=>{w9();B9();y9();no();OY=["unstable_system"],Dc=S4({name:"Role",keys:OY,propsAreEqual:function(a,c){var r=a.unstable_system,e=B4(a,["unstable_system"]),l=c.unstable_system,i=B4(c,["unstable_system"]);return r!==l&&!T8(r,l)?!1:T8(e,i)}}),Kg1=y4({as:"div",useHook:Dc})});function eA(t){!$k(t)&&cA(t)&&t.focus()}function jY(t){return t.tagName==="BUTTON"||t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="A"}function WY(t){return t.tagName==="BUTTON"||t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"}function _Y(t,a,c,r){return t?a&&!c?-1:void 0:a?r:r||0}function Uz(t,a){return(0,A6.useCallback)(function(c){var r;(r=t.current)===null||r===void 0||r.call(t,c),!c.defaultPrevented&&a&&(c.stopPropagation(),c.preventDefault())},[t,a])}var A6,ZY,DY,Kz,vd1,lA=x(()=>{w9();B9();y9();A6=y(P());Dz();zo();Oc();_z();Mo();Qk();Yk();Jk();rA();Nz();ZY=["disabled","focusable"],DY=Zc("Mac")&&!Zc("Chrome")&&(Zc("Safari")||Zc("Firefox"));Kz=S4({name:"Tabbable",compose:Dc,keys:ZY,useOptions:function(a,c){var r=c.disabled;return q3({disabled:r},a)},useProps:function(a,c){var r=c.ref,e=c.tabIndex,l=c.onClickCapture,i=c.onMouseDownCapture,o=c.onMouseDown,n=c.onKeyPressCapture,h=c.style,v=B4(c,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),g=(0,A6.useRef)(null),d=k6(l),s=k6(i),u=k6(o),p=k6(n),z=!!a.disabled&&!a.focusable,m=(0,A6.useState)(!0),f=m[0],M=m[1],H=(0,A6.useState)(!0),w=H[0],B=H[1],k=a.disabled?q3({pointerEvents:"none"},h):h;k9(function(){var C=g.current;!C||(jY(C)||M(!1),WY(C)||B(!1))},[]);var I=Uz(d,a.disabled),j=Uz(s,a.disabled),b=Uz(p,a.disabled),T=(0,A6.useCallback)(function(C){var O;(O=u.current)===null||O===void 0||O.call(u,C);var J=C.currentTarget;if(!C.defaultPrevented&&!!DY&&!Xk(C)&&!!S9(J)){var F=requestAnimationFrame(function(){J.removeEventListener("mouseup",Q,!0),eA(J)}),Q=function(){cancelAnimationFrame(F),eA(J)};J.addEventListener("mouseup",Q,{once:!0,capture:!0})}},[]);return q3({ref:go(g,r),style:k,tabIndex:_Y(z,f,w,e),disabled:z&&w?!0:void 0,"aria-disabled":a.disabled?!0:void 0,onClickCapture:I,onMouseDownCapture:j,onMouseDown:T,onKeyPressCapture:b},v)}}),vd1=y4({as:"div",useHook:Kz})});function NY(t){var a=t.currentTarget;return t.isTrusted?S9(a)||a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.tagName==="A"||a.tagName==="SELECT":!1}var jc,qY,$z,xd1,iA=x(()=>{w9();B9();y9();jc=y(P());zo();Oc();_z();Nk();lA();qY=["unstable_clickOnEnter","unstable_clickOnSpace"];$z=S4({name:"Clickable",compose:Kz,keys:qY,useOptions:function(a){var c=a.unstable_clickOnEnter,r=c===void 0?!0:c,e=a.unstable_clickOnSpace,l=e===void 0?!0:e,i=B4(a,["unstable_clickOnEnter","unstable_clickOnSpace"]);return q3({unstable_clickOnEnter:r,unstable_clickOnSpace:l},i)},useProps:function(a,c){var r=c.onKeyDown,e=c.onKeyUp,l=B4(c,["onKeyDown","onKeyUp"]),i=(0,jc.useState)(!1),o=i[0],n=i[1],h=k6(r),v=k6(e),g=(0,jc.useCallback)(function(s){var u;if((u=h.current)===null||u===void 0||u.call(h,s),!s.defaultPrevented&&!a.disabled&&!s.metaKey&&!!qk(s)){var p=a.unstable_clickOnEnter&&s.key==="Enter",z=a.unstable_clickOnSpace&&s.key===" ";if(p||z){if(NY(s))return;s.preventDefault(),p?s.currentTarget.click():z&&n(!0)}}},[a.disabled,a.unstable_clickOnEnter,a.unstable_clickOnSpace]),d=(0,jc.useCallback)(function(s){var u;if((u=v.current)===null||u===void 0||u.call(v,s),!s.defaultPrevented&&!a.disabled&&!s.metaKey){var p=a.unstable_clickOnSpace&&s.key===" ";o&&p&&(n(!1),s.currentTarget.click())}},[a.disabled,a.unstable_clickOnSpace,o]);return q3({"data-active":o||void 0,onKeyDown:g,onKeyUp:d},l)}}),xd1=y4({as:"button",memo:!0,useHook:$z})});var O8,UY,oA,Qz,nA=x(()=>{w9();B9();y9();O8=y(P());Dz();zo();Oc();iA();UY=[],oA=S4({name:"Button",compose:$z,keys:UY,useProps:function(a,c){var r=c.ref,e=B4(c,["ref"]),l=(0,O8.useRef)(null),i=(0,O8.useState)(void 0),o=i[0],n=i[1],h=(0,O8.useState)("button"),v=h[0],g=h[1];return(0,O8.useEffect)(function(){var d=l.current;!d||S9(d)||(d.tagName!=="A"&&n("button"),g(void 0))},[]),q3({ref:go(l,r),role:o,type:v},e)}}),Qz=y4({as:"button",memo:!0,useHook:oA})});var KY,hA,Xz,vA=x(()=>{w9();B9();y9();Nz();KY=[],hA=S4({name:"Group",compose:Dc,keys:KY,useProps:function(a,c){return q3({role:"group"},c)}}),Xz=y4({as:"div",useHook:hA})});function gA(){return E8?document.body:null}function Wc(t){var a=t.children,c=(0,R6.useContext)(c3)||gA(),r=(0,R6.useState)(function(){if(E8){var l=document.createElement("div");return l.className=Wc.__className,l}return null}),e=r[0];return k9(function(){if(!(!e||!c))return c.appendChild(e),function(){c.removeChild(e)}},[e,c]),e?(0,sA.createPortal)((0,R6.createElement)(c3.Provider,{value:e},a),e):null}var R6,sA,c3,dA=x(()=>{R6=y(P());Mo();mo();sA=y(L4());c3=(0,R6.createContext)(gA());Wc.__className="__reakit-portal";Wc.__selector="."+Wc.__className});var $Y,Yz,Od1,zA=x(()=>{$Y=!1;typeof window!="undefined"&&(Yz={get passive(){$Y=!0}},window.addEventListener("testPassive",null,Yz),window.removeEventListener("testPassive",null,Yz));Od1=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1)});var Dd1,Wd1,b6=x(()=>{Dd1=y(P());Oc();nA();vA();Wd1=y(L4());dA();zA();uo()});function pA(t){return a=>I2.default.createElement(XY,null,I2.default.createElement(t,S({},a)))}var I2,uA,x1,F6,QY,Jz,tu,XY,G1=x(()=>{b0();a1();a1();I2=y(P()),uA=y(L4());b6();P1();x1=F2`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`,F6={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return B6(.6,F6.panel.bg)}}}}}},QY=typeof window!="undefined"?Di`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`:{},Jz=V.div`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`,tu=t=>I2.default.createElement(oz,{disableVendorPrefixes:!0,target:t.target},I2.default.createElement(I2.default.Fragment,null,I2.default.createElement(QY,null),t.children));XY=t=>{let[a,c]=(0,I2.useState)(null),[r,e]=(0,I2.useState)(null);(0,I2.useLayoutEffect)(()=>{if(!a)return;let o=a.parentNode.attachShadow({mode:"open"});return e(o),()=>{var n;(n=a.parentNode)==null||n.removeChild(o)}},[a]);let[l,i]=d1(void 0);return r?uA.default.createPortal(I2.default.createElement(tu,{target:r},I2.default.createElement(I2.default.Fragment,null,I2.default.createElement(Jz,{ref:l}),I2.default.createElement(c3.Provider,{value:i},t.children))),r):I2.default.createElement("template",{ref:c,"shadow-root":"open"},t.children)}});var mA=x(()=>{});var au,cu,ru,eu=x(()=>{au=y(P()),cu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ru=au.default.createContext&&au.default.createContext(cu)});function fA(t){return t&&t.map(function(a,c){return A9.default.createElement(a.tag,I6({key:c},a.attr),fA(a.child))})}function U1(t){return function(a){return A9.default.createElement(JY,I6({attr:I6({},t.attr)},a),fA(t.child))}}function JY(t){var a=function(c){var r=t.attr,e=t.size,l=t.title,i=YY(t,["attr","size","title"]),o=e||c.size||"1em",n;return c.className&&(n=c.className),t.className&&(n=(n?n+" ":"")+t.className),A9.default.createElement("svg",I6({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,r,i,{className:n,style:I6(I6({color:t.color||c.color},c.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&A9.default.createElement("title",null,l),t.children)};return ru!==void 0?A9.default.createElement(ru.Consumer,null,function(c){return a(c)}):a(cu)}var A9,I6,YY,MA=x(()=>{A9=y(P());eu();I6=function(){return I6=Object.assign||function(t){for(var a,c=1,r=arguments.length;c<r;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t},I6.apply(this,arguments)},YY=function(t,a){var c={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(c[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,r=Object.getOwnPropertySymbols(t);e<r.length;e++)a.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(c[r[e]]=t[r[e]]);return c}});var d2=x(()=>{mA();MA();eu()});var xA=x(()=>{d2()});var CA=x(()=>{d2()});function LA(t){return U1({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(t)}var HA=x(()=>{d2()});var VA=x(()=>{d2()});var wA=x(()=>{d2()});function BA(t){return U1({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(t)}function yA(t){return U1({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(t)}var SA=x(()=>{d2()});var kA=x(()=>{d2()});var AA=x(()=>{d2()});var RA=x(()=>{d2()});var bA=x(()=>{d2()});var FA=x(()=>{d2()});var IA=x(()=>{d2()});var PA=x(()=>{d2()});var GA=x(()=>{d2()});var TA=x(()=>{d2()});function Co(t){return U1({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(t)}var EA=x(()=>{d2()});var OA=x(()=>{d2()});var ZA=x(()=>{d2()});var DA=x(()=>{d2()});function jA(t){return U1({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(t)}var WA=x(()=>{d2()});function _A(t){return U1({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(t)}var qA=x(()=>{d2()});var Z8=x(()=>{xA();CA();HA();VA();wA();SA();kA();AA();RA();bA();FA();IA();PA();GA();TA();EA();OA();ZA();DA();WA();qA()});var F0,P6=x(()=>{a1();F0=F2`
  font-weight: 300;
  font-size: 11px;
  color: ${t=>t.isHighlighted==="self"?"#CCC":"#919191"};
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`});function k4(t,a){let c=t;for(let r of a)c=c[r];return c}var _c=x(()=>{});function tJ(){let t=0,a=new UA.Atom({hasLock:!1});return{replaceLock(c,r){let e=t++,l=a.get();return l.hasLock&&l.cleanup(),a.set({hasLock:!0,lockId:e,cleanup:r,deepPath:aJ($A(c))}),function(){let o=a.get();o.hasLock&&o.lockId===e&&(o.cleanup(),a.set({hasLock:!1}))}},getIsPropHighlightedD(c){let r=k4(a.pointer.deepPath,$A(c));return(0,KA.prism)(()=>{let e=(0,NA.val)(r);return e===!0?"self":e?"descendent":null})}}}function $A(t){return[t.projectId,t.sheetId,t.objectKey,...t.pathToProp]}function aJ(t){let a={};return J5(a,t,!0),a}var NA,UA,KA,R9,Lo=x(()=>{NA=y(require("@theatre/dataverse")),UA=y(require("@theatre/dataverse")),KA=y(require("@theatre/dataverse"));_c();tl();R9=tJ()});function Ho(t,a){(0,QA.useLayoutEffect)(()=>{if(!t||a.type!=="propWithChildren"&&a.type!=="primitiveProp"&&a.type!=="sheetObject")return;let c=null,r=D(S({},a.sheetObject.address),{pathToProp:a.type==="sheetObject"?[]:a.pathToProp});function e(){c=R9.replaceLock(r,()=>{})}function l(){c==null||c()}return t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",l),()=>{c==null||c(),t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",l)}},[t])}var QA,lu=x(()=>{QA=y(P());Lo()});var u5,iu,ou,XA,cJ,rJ,eJ,lJ,b9,qc=x(()=>{G1();u5=y(P());Z8();a1();P6();lu();iu=V.li`
  --depth: ${t=>t.depth};
  margin: 0;
  padding: 0;
  list-style: none;
`,ou=V.div`
  border-bottom: 1px solid #7695b705;
`,XA=V(ou)`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: ${F6.panel.body.compoudThing.label.color};

  box-sizing: border-box;

  ${t=>t.isSelected&&"background: blue"};
`,cJ=V.span`
  ${F0};
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  ${XA}:hover & {
    color: #ccc;
  }
`,rJ=V.span`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(${t=>t.isCollapsed?0:90}deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(${t=>t.isCollapsed?15:75}deg);
    color: #c0c4c9;
  }
`,eJ=V.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,lJ=({leaf:t,label:a,children:c,isSelectable:r,isSelected:e,toggleSelect:l,toggleCollapsed:i,isCollapsed:o})=>{let n=Array.isArray(c)&&c.length>0,h=(0,u5.useRef)(null);return Ho(h.current,t),t.shouldRender?u5.default.createElement(iu,{depth:t.depth},u5.default.createElement(XA,{ref:h,style:{height:t.nodeHeight+"px"},isSelectable:r===!0,isSelected:e===!0,onClick:l,isEven:t.n%2==0},u5.default.createElement(rJ,{isCollapsed:o,onClick:i},u5.default.createElement(Co,null)),u5.default.createElement(cJ,null,a)),n&&u5.default.createElement(eJ,null,c)):null},b9=lJ});function w3(t){return t.type==="compound"||t.type==="enum"}function F9(t,a){if(!t)return;let[c,...r]=a;if(c===void 0)return t;if(!w3(t))return;let e=t.type==="enum"?t.cases[c]:t.props[c];return F9(e,r)}function D8(t,a){let c=a.deserializeAndSanitize(t);return c===void 0?a.default:c}function YA(t){return!w3(t)}function*Nc(t,a){if(t.type==="compound")for(let c in t.props)yield*Nc(t.props[c],[...a,c]);else{if(t.type==="enum")throw new Error("Not implemented yet");return yield{path:a,conf:t}}}var nu,G6=x(()=>{Xt();nu=s4(t=>{if(t.type==="enum")throw new Error("Not implemented yet for enums");for(let a in t.props){let c=t.props[a];if(w3(c)){if(nu(c))return!0}else return!0}return!1})});var Vo,JA,iJ,Eu1,oJ,nJ,hJ,I9,hu=x(()=>{b0();Vo=y(P());a1();JA={defaultState:{color:M0(.95,"#C4C4C4")},withStaticOverride:{color:M0(.85,"#C4C4C4")}},iJ=V.div`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;

  color: ${t=>t.hasStaticOverride?JA.withStaticOverride.color:JA.defaultState.color};
`,Eu1=V.rect`
  fill: currentColor;
`,oJ=V.div`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`,nJ=V.div`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
`,hJ=t=>Vo.default.createElement(iJ,{hasStaticOverride:t.hasStaticOverride},t.hasStaticOverride?Vo.default.createElement(nJ,{title:"The default value is overridden"}):Vo.default.createElement(oJ,{title:"This is the default value for this prop"})),I9=hJ});function wo(t,a,c){if(!a||a.data.keyframes.length===0)return vJ;let r=tR.get(a.data);if(r&&r[0]===c)return r[1];function e(o){if(!a)return;let n=a.data.keyframes[o];return n&&{kf:n,track:a,itemKey:t2.forTrackKeyframe(t,a.id,n.id)}}let i=(()=>{let o=a.data.keyframes.findIndex(h=>h.position>=c);if(o===-1)return{prev:e(a.data.keyframes.length-1)};let n=e(o);return n.kf.position===c?{prev:e(o-1),cur:n,next:e(o+1)}:{next:n,prev:e(o-1)}})();return tR.set(a.data,[c,i]),i}var tR,vJ,vu=x(()=>{z4();tR=new WeakMap,vJ={}});function su(t,a){return t==null?null:t instanceof Element&&t.matches(a)?t:su(t.parentElement,a)}var aR=x(()=>{});function sJ(t){let a=new Bo.Atom(void 0),c=new Bo.Atom({}),r=new Bo.Atom({}),e=0;return{addRelatedFlags(l,i){let o=String(++e),n=i.map(h=>{let v={flag:h.flag},g=[h.affects,l,o];return r.setByPointer(d=>k4(d,g),v),g});return()=>{for(let h of n)r.setByPointer(v=>k4(v,h),void 0)}},usePresenceFlag(l){if(!t.enabled)return;let i=(0,P9.useMemo)(()=>{if(!l)return cR;let o=a.prism,n=(0,G9.pointerToPrism)(c.pointer[l]),h=(0,G9.pointerToPrism)(r.pointer[l]);return(0,G9.prism)(()=>{if(n.getValue())return 2;{let g=h.getValue(),d=o.getValue(),s=g&&d&&g[d];if(s){let u;for(let p of Object.values(s))!p||u&&u>=p.flag||(u=p.flag);return u}return}})},[l]);return k8(i)},setUserHover(l){let i=a.get();i!==l&&(i&&c.setByPointer(o=>o[i],!1),a.set(l),l&&c.setByPointer(o=>o[l],!0))}}}function r3(t){let a=P9.default.useContext(rR),c=a.usePresenceFlag(t);return{attrs:{[du]:t},flag:c,useRelations(r,e){(0,gu.useEffect)(()=>t&&a.addRelatedFlags(t,r()),[t,...e])}}}function yo(t){let a=P9.default.useContext(rR),c=f0("PresenceListeners");(0,gu.useEffect)(()=>{let r;if(!t)return;let e=l=>{if(l.target instanceof Node){let i=su(l.target,`[${du}]`);if(i){let o=i.getAttribute(du);r!==o&&(r=o,a.setUserHover(o||void 0),c._debug("Updated current hover",{itemKey:o}));return}r!=null&&(r=null,a.setUserHover(void 0),c._debug("Cleared current hover"))}};return t.addEventListener("mouseover",e),()=>{t.removeEventListener("mouseover",e),r!=null&&(r=null,c._debug("Cleared current hover as part of cleanup"))}},[t,a])}var P9,gu,G9,Bo,L2,cR,rR,du,A4=x(()=>{P9=y(P()),gu=y(P());s5();G9=y(require("@theatre/dataverse")),Bo=y(require("@theatre/dataverse"));f1();aR();_c();(function(c){c[c.Primary=2]="Primary",c[c.Secondary=1]="Secondary"})(L2||(L2={}));cR=(0,G9.prism)(()=>{});cR.keepHot();rR=P9.default.createContext(sJ({enabled:!1})),du="data-pi-key"});var N2,So,eR,T9,lR,gJ,zu,dJ,zJ,Uc,uJ,ko,Ao=x(()=>{G1();b0();N2=y(P());a1();A4();A4();So=V.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: ${M0(.2,"black")};
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`,eR=V.div`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    ${So}:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`,T9={offColor:"#555",onColor:"#e0c917"},lR=V(eR)`
  &:hover {
    color: #e0c917;
  }

  color: ${t=>t.presence===L2.Primary?"white":t.isOn?T9.onColor:T9.offColor};
`,gJ=F2`
  pointer-events: none !important;
`,zu=V(eR)`
  color: ${t=>t.flag===L2.Primary?"white":t.available?T9.onColor:T9.offColor};

  ${t=>t.available?x1:gJ};
`,dJ=V(zu)`
  transform: translateX(2px);
  ${So}:hover & {
    transform: translateX(-7px);
  }
`,zJ=V(zu)`
  transform: translateX(-2px);
  ${So}:hover & {
    transform: translateX(7px);
  }
`;(function(l){let t=V.g`
    stroke-width: 1;
    ${zu}:hover & path {
      stroke-width: 3;
    }
  `;l.Prev=()=>N2.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N2.default.createElement(t,{transform:"translate(6 3)"},N2.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),l.Next=()=>N2.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N2.default.createElement(t,{transform:"translate(1 3)"},N2.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let r=V.g`
    stroke-width: 0;
    ${lR}:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `;l.Cur=()=>N2.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N2.default.createElement(r,{transform:"translate(1 4)"},N2.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(Uc||(Uc={}));uJ=t=>{var e,l,i,o,n;let a=r3((e=t.prev)==null?void 0:e.itemKey),c=r3(((l=t.cur)==null?void 0:l.type)==="on"?t.cur.itemKey:void 0),r=r3((i=t.next)==null?void 0:i.itemKey);return N2.default.createElement(So,null,N2.default.createElement(dJ,S({available:!!t.prev,onClick:(o=t.prev)==null?void 0:o.jump,flag:a.flag},a.attrs),N2.default.createElement(Uc.Prev,null)),N2.default.createElement(lR,S({isOn:t.cur.type==="on",onClick:t.cur.toggle,presence:c.flag},c.attrs),N2.default.createElement(Uc.Cur,null)),N2.default.createElement(zJ,S({available:!!t.next,onClick:(n=t.next)==null?void 0:n.jump,flag:r.flag},r.attrs),N2.default.createElement(Uc.Next,null)))},ko=uJ});function pJ(t,a,c){return(0,e3.prism)(()=>{var u;let r=(0,e3.getPointerParts)(t).path,e=a.getValueByPointer(t),l=e3.prism.memo("editPropValue",()=>{let p=null;return{temporarilySetValue(z){p||(p=G().scrub()),p.capture(m=>{m.set(t,z)})},discardTemporaryValue(){p&&(p.discard(),p=null)},permanentlySetValue(z){p?(p.capture(m=>{m.set(t,z)}),p.commit(),p=null):G().transaction(m=>{m.set(t,z)})}}},[]),i={createAsset:p=>a.sheet.project.assetStorage.createAsset(p),getAssetUrl:p=>p.id?a.sheet.project.assetStorage.getAssetUrl(p.id):void 0},o=(0,e3.val)(E3(G().atomP.ephemeral.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].stateByObjectKey[a.address.objectKey].valuesBeingScrubbed,(0,e3.getPointerParts)(t).path))===!0,n=[],h=D(S(S({},l),i),{value:e,beingScrubbed:o,contextMenuItems:n,controlIndicators:E9.default.createElement(E9.default.Fragment,null)}),v=YA(c);if(v){let p=(0,e3.val)(a.template.getMapOfValidSequenceTracks_forStudio()),z=Q0(p,r);if(typeof z=="string"){n.push({label:"Make static",callback:()=>{G().transaction(({stateEditors:j})=>{let b=D(S({},a.address),{pathToProp:r});j.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(D(S({},b),{value:a.getValueByPointer(t)}))})}});let f=z,M=e3.prism.sub("lcr",()=>{let j=(0,e3.val)(a.template.project.pointers.historic.sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[f]),b=(0,e3.val)(a.sheet.getSequence().positionPrism);return wo(a,j&&{data:j,id:f,sheetObject:a},b)},[f]),H;h.beingScrubbed?H="Sequenced_OnKeyframe_BeingScrubbed":M.cur?H="Sequenced_OnKeyframe":((u=M.prev)==null?void 0:u.kf.connectedRight)===!0?H="Sequenced_BeingInterpolated":H="Sequened_NotBeingInterpolated";let w=()=>{M.cur?G().transaction(j=>{j.unset(t)}):G().transaction(j=>{j.set(t,h.value)})},B={cur:M.cur?{type:"on",itemKey:M.cur.itemKey,toggle:w}:{type:"off",toggle:w},prev:M.prev!==void 0?{itemKey:M.prev.itemKey,position:M.prev.kf.position,jump:()=>{a.sheet.getSequence().position=M.prev.kf.position}}:void 0,next:M.next!==void 0?{itemKey:M.next.itemKey,position:M.next.kf.position,jump:()=>{a.sheet.getSequence().position=M.next.kf.position}}:void 0},k=E9.default.createElement(ko,S({},B));return D(S({},h),{type:"Sequenced",shade:H,nearbyKeyframes:M,controlIndicators:k})}}let g=(0,e3.val)(a.template.getStaticValues()),d=Q0(g,r);return typeof d!="undefined"&&n.push({label:"Reset to default",callback:()=>{G().transaction(({unset:p})=>{p(t)})}}),v&&n.push({label:"Sequence",callback:()=>{G().transaction(({stateEditors:p})=>{let z=D(S({},a.address),{pathToProp:r});p.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(z,c)})}}),typeof d!="undefined"?D(S({},h),{type:"Static",shade:h.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:E9.default.createElement(I9,{hasStaticOverride:!0})}):D(S({},h),{type:"Default",shade:"Default",controlIndicators:E9.default.createElement(I9,{hasStaticOverride:!1})})})}function mJ(t,a,c){if(uu.has(t))return uu.get(t);{let r=pJ(t,a,c);return uu.set(t,r),r}}function O9(t,a,c){let r=mJ(t,a,c);return k8(r)}var E9,e3,uu,Ro=x(()=>{P7();E9=y(P()),e3=y(require("@theatre/dataverse"));m1();Ma();f1();G6();hu();vu();Ao();uu=new WeakMap});var iR,I0,fJ,MJ,oR,xJ,CJ,LJ,HJ,nR,hR=x(()=>{m1();G3();_c();f1();iR=y(require("@theatre/dataverse")),I0=y(P());a1();Ro();Ao();Kc();qc();P6();lu();fJ={label:{color:"#9a9a9a"}},MJ=V(iu)``,oR=V(ou)`
  display: flex;
  color: ${fJ.label.color};
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`,xJ=V.button`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: ${t=>t.isSelected?j8[t.graphEditorColor].iconColor:T9.offColor};

  &:not([disabled]):hover {
    color: white;
  }
`,CJ=()=>I0.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},I0.default.createElement("g",{transform:"translate(0 100)"},I0.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),LJ=V.span`
  margin-right: 4px;
  ${F0};

  ${oR}:hover & {
    color: #ccc;
  }
`,HJ=({leaf:t})=>{var g;let a=k4(t.sheetObject.propsP,t.pathToProp),c=t.sheetObject,{controlIndicators:r}=O9(a,c,t.propConf),e=h1(()=>{let d=t.sheetObject.address,s=_0(t.pathToProp);return(0,iR.val)(G().atomP.historic.projects.stateByProjectId[d.projectId].stateBySheetId[d.sheetId].sequenceEditor.selectedPropsByObject[d.objectKey][s])},[t]),l=(0,I0.useRef)(!1),i=typeof e=="string";l.current=i;let o=(0,I0.useCallback)(()=>{let d=t.sheetObject.address;G().transaction(({stateEditors:s})=>{l.current?s.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(D(S({},d),{pathToProp:t.pathToProp})):(s.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(D(S({},d),{pathToProp:t.pathToProp})),s.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[t]),n=(g=t.propConf.label)!=null?g:t.pathToProp[t.pathToProp.length-1],h=!0,v=(0,I0.useRef)(null);return Ho(v.current,t),I0.default.createElement(MJ,{depth:t.depth},I0.default.createElement(oR,{ref:v,isEven:t.n%2==0,style:{height:t.nodeHeight+"px"},isSelected:i===!0},I0.default.createElement(LJ,null,n),r,I0.default.createElement(xJ,{onClick:o,isSelected:i===!0,graphEditorColor:e!=null?e:"1",style:{opacity:h?1:.25},disabled:!h},I0.default.createElement(CJ,null))))},nR=HJ});function Z9(t,a){G().transaction(({stateEditors:c})=>{c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(D(S({},a.sheetAddress),{studioSheetItemKey:a.sheetItemKey,isCollapsed:t}))})}var bo=x(()=>{m1()});var D9,pu,VJ,vR=x(()=>{D9=y(P());qc();hR();bo();pu=t=>{let a="prop"+t.pathToProp[t.pathToProp.length-1];return t.shouldRender?t.type==="propWithChildren"?D9.default.createElement(VJ,{leaf:t,key:a}):D9.default.createElement(nR,{leaf:t,key:a}):D9.default.createElement(D9.default.Fragment,{key:a})},VJ=({leaf:t})=>D9.default.createElement(b9,{leaf:t,label:t.pathToProp[t.pathToProp.length-1],isCollapsed:t.isCollapsed,toggleCollapsed:()=>Z9(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})},t.children.map(a=>pu(a)))});var sR,wJ,gR,dR=x(()=>{sR=y(P());qc();vR();bo();m1();wJ=({leaf:t})=>sR.default.createElement(b9,{leaf:t,label:t.sheetObject.address.objectKey,isCollapsed:t.isCollapsed,toggleSelect:()=>{G().transaction(({stateEditors:a})=>{a.studio.historic.panels.outline.selection.set([t.sheetObject])})},toggleCollapsed:()=>Z9(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})},t.children.map(a=>pu(a))),gR=wJ});function $c(t){return mu.has(t)||mu.set(t,(BJ++).toString()),mu.get(t)}var mu,BJ,fu=x(()=>{mu=new WeakMap,BJ=0});var Mu,yJ,zR,uR=x(()=>{f1();Mu=y(P());dR();qc();bo();fu();yJ=({leaf:t})=>h1(()=>Mu.default.createElement(b9,{leaf:t,label:t.sheet.address.sheetId,isCollapsed:t.isCollapsed,toggleCollapsed:()=>{Z9(!t.isCollapsed,{sheetAddress:t.sheet.address,sheetItemKey:t.sheetItemKey})}},t.children.map(a=>Mu.default.createElement(gR,{key:"sheetObject-"+$c(a.sheetObject),leaf:a}))),[t]),zR=yJ});var xu,Fo,SJ,kJ,AJ,pR,mR=x(()=>{f1();xu=y(require("@theatre/dataverse")),Fo=y(P());a1();uR();SJ=V.div`
  position: absolute;
  left: 0;
  overflow-x: visible;
`,kJ=V.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,AJ=({layoutP:t})=>h1(()=>{let a=(0,xu.val)(t.tree),c=(0,xu.val)(t.leftDims.width);return Fo.default.createElement(SJ,{style:{width:c+"px",top:a.top+"px"}},Fo.default.createElement(kJ,null,Fo.default.createElement(zR,{leaf:a})))},[t]),pR=AJ});function Qc({clippedSpaceRange:t,clippedSpaceWidth:a,fps:c,gapWidth:r=120},e){let l=1/c,i=t.end-t.start,o=a/(c*i),n=Math.floor(r/o),v=(n<c?RJ(c).find(s=>s>=n):c*Math.floor(n/c))*l,g=Math.floor(t.start/v),d=Math.ceil(t.end/v);for(let s=g;s<=d;s++){let u=s*v,p=u%1==0;e(u,p)}}var RJ,Cu=x(()=>{C2();RJ=sa(t=>{let a=[];for(let c=1;c<=t;c++)t%c==0&&a.push(c);return a})});function EJ(t){let{clippedSpaceWidth:a,height:c,ctx:r,unitSpaceToClippedSpace:e,snapToGrid:l}=t;r.clearRect(0,0,a,c),Qc(t,(i,o)=>{let n=l(i),h=Math.floor(e(n));r.strokeStyle=o?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",r.beginPath(),r.moveTo(h,0),r.lineTo(h,c),r.stroke(),r.closePath()})}var T6,N3,bJ,FJ,IJ,PJ,GJ,TJ,Io,Lu=x(()=>{T6=y(require("@theatre/dataverse")),N3=y(P());a1();Cu();m1();bJ=V.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`,FJ=V.canvas`
  position: relative;
  left: 0;
`,IJ=t=>{let a=t;return a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1},PJ=()=>window.devicePixelRatio||1,GJ=t=>PJ()/IJ(t),TJ=({layoutP:t,width:a,height:c})=>{let r=(0,N3.useRef)(null),[e,l]=(0,N3.useState)(null),{ctx:i,ratio:o}=(0,N3.useMemo)(()=>{if(!e)return{};let n=e.getContext("2d"),h=GJ(n);return{ctx:n,ratio:h}},[e]);return(0,N3.useLayoutEffect)(()=>{if(!i)return;e.width=a*o,e.height=c*o;let n=(0,T6.prism)(()=>{let h=(0,T6.val)(t.sheet).getSequence();return{ctx:i,clippedSpaceRange:(0,T6.val)(t.clippedSpace.range),clippedSpaceWidth:(0,T6.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,T6.val)(t.clippedSpace.fromUnitSpace),height:c,leftPadding:(0,T6.val)(t.scaledSpace.leftPadding),fps:h.subUnitsPerUnit,snapToGrid:v=>h.closestGridPosition(v)}}).onChange(G().ticker,h=>{i.save(),i.scale(o,o),EJ(h),i.restore()},!0);return()=>{n()}},[i,a,c,t]),N3.default.createElement(bJ,{ref:r,style:{width:a+"px"}},N3.default.createElement(FJ,{ref:l,style:{width:a+"px",height:c+"px"}}))},Io=TJ});var Hu,OJ,ZJ,fR,MR=x(()=>{G1();R4();f1();b0();Hu=y(P());a1();Lu();OJ=V.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: ${()=>U2.rightBackground};
  overflow: hidden;
  background: ${M0(.01,w6(1*.03,F6.panel.bg))};
  pointer-events: none;
`,ZJ=({layoutP:t})=>{let a=g1(t.rightDims.width),c=g1(t.panelDims.height);return Hu.default.createElement(OJ,{style:{width:a+"px"}},Hu.default.createElement(Io,{width:a,height:c,layoutP:t}))},fR=ZJ});var j9,DJ,jJ,xR,CR=x(()=>{f1();j9=y(P());a1();mR();MR();wu();Vu();DJ=V.div`
  position: absolute;
  left: 0;
  right: 0;
`,jJ=({layoutP:t})=>{let a=g1(t.dopeSheetDims.height);return j9.default.createElement(DJ,{style:{height:a+"px"}},j9.default.createElement(fR,{layoutP:t}),j9.default.createElement(LR,null,j9.default.createElement(pR,{layoutP:t}),j9.default.createElement(HR,{layoutP:t})))},xR=jJ});function yu(t,a,c){return Bu.prism.memo(t,()=>(0,Bu.prism)(a),c).getValue()}var Bu,VR=x(()=>{Bu=y(require("@theatre/dataverse"))});var p5,WJ,m5,W9,wR,Po,Go,B3,b4=x(()=>{G1();a1();p5={get outlinePanel(){return 1},get propsPanel(){return p5.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},WJ=F6.panel.bg,m5=V.span`
  white-space: nowrap;
`,W9=V.span`
  white-space: nowrap;
  color: ${F6.panel.head.punctuation.color};
`,wR=V.div`
  background: ${WJ};
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`,Po=18,Go=V.div`
  height: ${Po}px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,B3=100});var F4,_9,BR,yR=x(()=>{z4();F4=y(require("@theatre/dataverse"));Qt();b4();_9=28,BR=(t,a)=>{var u;F4.prism.ensurePrism();let c=!0,r=Po+(c?_9:0),e=0,l=a.atomP.ahistoric.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequence.collapsableItems,i=l.byId[t2.forSheet()].isCollapsed,o=(u=(0,F4.pointerToPrism)(i).getValue())!=null?u:!1,n={type:"sheet",isCollapsed:o,sheet:t,children:[],sheetItemKey:t2.forSheet(),shouldRender:c,top:Po,depth:0,n:e,nodeHeight:c?_9:0,heightIncludingChildren:-1};c&&(e+=1);for(let p of Object.values((0,F4.val)(t.objectsP)))p&&h(p,n.children,n.depth+1,c&&!o);n.heightIncludingChildren=r-n.top;function h(p,z,m,f){var I;let M=(0,F4.val)(p.template.getMapOfValidSequenceTracks_forStudio()),H=(0,F4.val)(p.template.configPointer);if(Object.keys(M).length===0)return;let w=l.byId[t2.forSheetObject(p)].isCollapsed,B=(I=(0,F4.pointerToPrism)(w).getValue())!=null?I:!1,k={type:"sheetObject",isCollapsed:B,sheetItemKey:t2.forSheetObject(p),shouldRender:f,top:r,children:[],depth:m,n:e,sheetObject:p,nodeHeight:f?_9:0,heightIncludingChildren:-1};z.push(k),f&&(e+=1,r+=k.nodeHeight),v(p,M,[],H,k.children,m+1,f&&!B),k.heightIncludingChildren=r-k.top}function v(p,z,m,f,M,H,w){for(let[B,k]of Object.entries(z)){let I=f.props[B];g(p,k,[...m,B],I,M,H,w)}}function g(p,z,m,f,M,H,w){f.type==="compound"?d(p,z,f,m,f,M,H,w):f.type==="enum"?p7.warn("Prop type enum is not yet supported in the sequence editor"):s(p,z,m,f,M,H,w)}function d(p,z,m,f,M,H,w,B){var b;let k=l.byId[t2.forSheetObjectProp(p,f)].isCollapsed,I=(b=(0,F4.pointerToPrism)(k).getValue())!=null?b:!1,j={type:"propWithChildren",isCollapsed:I,propConf:m,pathToProp:f,sheetItemKey:t2.forSheetObjectProp(p,f),sheetObject:p,shouldRender:B,top:r,children:[],nodeHeight:B?_9:0,heightIncludingChildren:-1,depth:w,trackMapping:z,n:e};H.push(j),B&&(r+=j.nodeHeight,e+=1),v(p,z,f,M,j.children,w+1,B&&!I),j.heightIncludingChildren=r-j.top}function s(p,z,m,f,M,H,w){let B={type:"primitiveProp",propConf:f,depth:H,sheetItemKey:t2.forSheetObjectProp(p,m),sheetObject:p,pathToProp:m,shouldRender:w,top:r,nodeHeight:w?_9:0,heightIncludingChildren:w?_9:0,trackId:z,n:e};M.push(B),e+=1,r+=B.nodeHeight}return n}});function SR(t,a){let c=G(),r=c.atomP.ahistoric.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId],e=c.atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId];return(0,h0.prism)(()=>{var b;let l=yu("tree",()=>BR(t,c),[]),i=(0,h0.val)(a),o=(0,h0.val)(c.atomP.historic.panels.sequenceEditor.graphEditor),n=(0,h0.val)(e.sequenceEditor.selectedPropsByObject),h=!!n&&Object.keys(n).length>0,{leftDims:v,rightDims:g,graphEditorDims:d,dopeSheetDims:s,horizontalScrollbarDims:u}=h0.prism.memo("leftDims",()=>{var W;let T={width:Math.floor(i.width*_J),height:i.height,screenX:i.screenX,screenY:i.screenY},C={width:i.width-T.width,height:i.height,screenX:i.screenX+T.width,screenY:i.screenY},O=h&&(o==null?void 0:o.isOpen)===!0,J=Math.floor((O?F1((W=o==null?void 0:o.height)!=null?W:.5,.1,.7):0)*i.heightWithoutBorder),F=0+J,Q=i.height-F,Z={width:i.width,height:Q,screenX:i.screenX,screenY:i.screenY},t1={isAvailable:h,isOpen:O,width:C.width,height:J,screenX:i.screenX,screenY:i.screenY+Q,padding:{top:20,bottom:20}};return{leftDims:T,rightDims:C,graphEditorDims:t1,dopeSheetDims:Z,horizontalScrollbarDims:{bottom:0}}},[i,o,h]),p=h0.prism.memo("graphEditorVerticalSpace",()=>{let T=d.height-d.padding.top-d.padding.bottom;return{space:T,fromExtremumSpace(C){return C*T},toExtremumSpace(C){return C/T}}},[d]),[z,m]=h0.prism.state("isSeeking",!1),f={isSeeking:z,setIsSeeking:m},M={},H=(b=(0,h0.val)(r.sequence.clippedSpaceRange))!=null?b:qJ,w=h0.prism.memo("scaledSpace",()=>{let T=H.end-H.start,C=g.width,O=T/C,J=C/T;return{fromUnitSpace(F){return F*J},toUnitSpace(F){return F*O},leftPadding:10}},[H,g.width]),B=h0.prism.memo("setClippedSpaceRange",()=>function(C){c.transaction(({stateEditors:O})=>{let J=S({},C);if(J.end<=J.start&&(J.end=J.start+1),J.start<0){let F=J.end-J.start;J.start=0,J.end=F}O.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(D(S({},t.address),{range:J}))})},[]),k=h0.prism.memo("clippedSpace",()=>({range:H,width:g.width,fromUnitSpace(T){return w.fromUnitSpace(T-H.start)+w.leftPadding},toUnitSpace(T){return w.toUnitSpace(T-w.leftPadding)+H.start},setRange:B}),[H,g.width,w,B]),I=h0.prism.memo("selection.current",()=>new h0.Atom({}),[]);return Ji("finalAtom",{sheet:t,tree:l,panelDims:i,leftDims:v,rightDims:g,dopeSheetDims:s,horizontalScrollbarDims:u,seeker:f,unitSpace:M,scaledSpace:w,clippedSpace:k,graphEditorDims:d,graphEditorVerticalSpace:p,selectionAtom:I}).pointer})}var h0,_J,qJ,kR=x(()=>{m1();VR();Cz();h0=y(require("@theatre/dataverse"));yR();C2();_J=.2,qJ={start:0,end:10}});function QJ(t){let{fullSecondStampsContainer:a,sequencePositionFormatter:c,snapToGrid:r,unitSpaceToClippedSpace:e}=t,l="";Qc(t,(i,o)=>{let n=r(i),h=e(n);o?l+=RR(c.formatFullUnitForGrid(n),h,"full-unit"):l+=RR(c.formatSubUnitForGrid(n),h,"sub-unit")}),a.innerHTML=l}function RR(t,a,c){return`<span class="${c}" style="transform: translate3d(${a.toFixed(1)}px, -50%, 0);">${t}</span>`}var E6,I4,NJ,O6,UJ,KJ,$J,AR,Su=x(()=>{E6=y(require("@theatre/dataverse"));b0();I4=y(P());a1();Cu();m1();NJ=V.div`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`,O6={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return w6(.2,O6.fullUnitStampColor)}},UJ=V.div`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`,KJ=V.div`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: ${O6.fullUnitStampColor};
    text-align: center;
    font-size: ${O6.stampFontSize};
    width: 20px;

    &.full-unit {
      color: ${O6.fullUnitStampColor};
    }

    &.sub-unit {
      color: ${O6.subUnitStampColor};
    }
  }

  pointer-events: none;
`,$J=({layoutP:t,width:a})=>{let c=(0,I4.useRef)(null),[r,e]=(0,I4.useState)(null);return(0,I4.useLayoutEffect)(()=>{if(!!r)return(0,E6.prism)(()=>{let l=(0,E6.val)(t.sheet).getSequence();return{fullSecondStampsContainer:r,clippedSpaceRange:(0,E6.val)(t.clippedSpace.range),clippedSpaceWidth:(0,E6.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,E6.val)(t.clippedSpace.fromUnitSpace),leftPadding:(0,E6.val)(t.scaledSpace.leftPadding),fps:l.subUnitsPerUnit,sequencePositionFormatter:l.positionFormatter,snapToGrid:i=>l.closestGridPosition(i)}}).onChange(G().ticker,QJ,!0)},[r,a,t]),I4.default.createElement(NJ,{ref:c,style:{width:a+"px"}},I4.default.createElement(UJ,{style:{width:a+"px"}},I4.default.createElement(KJ,{ref:e})))},AR=$J});var To,XJ,bR,FR=x(()=>{To=y(require("@theatre/dataverse")),XJ=(0,To.prism)(()=>{let[t,a]=To.prism.state("pos",null);return To.prism.effect("setupListeners",()=>{let c=r=>{a(r)};return document.addEventListener("mousemove",c),()=>{document.removeEventListener("mousemove",c)}},[]),t}),bR=XJ});var U3,f2,y3,Eo,YJ,JJ,IR,PR,v0,P2,ku,t11,GR,G2=x(()=>{U3=y(require("@theatre/dataverse"));FR();C2();f2=y(P());(function(e){e[e.hidden=0]="hidden",e[e.locked=1]="locked",e[e.snapped=2]="snapped",e[e.free=3]="free"})(y3||(y3={}));Eo=(0,f2.createContext)(null),YJ=0,JJ=({children:t,layoutP:a})=>{let c=(0,f2.useMemo)(()=>new U3.Atom([]),[]),r=(0,f2.useMemo)(()=>(0,U3.prism)(()=>{let i=U3.prism.memo("p",()=>t11(a),[a]).getValue(),o=(0,U3.val)(c.pointer);return o.length>0?s3(o).position:i}),[a]),e=(0,f2.useCallback)(()=>{let i=YJ++;return c.reduce(h=>[...h,{id:i,position:[-1,0]}]),{set:h=>{c.reduce(v=>{let g=v.findIndex(s=>s.id===i);if(g===-1)return console.warn("Lock is already freed. This is a bug."),v;let d=[...v];return d.splice(g,1,{id:i,position:[h,h===-1?0:1]}),d})},unlock:()=>{c.reduce(h=>h.filter(v=>v.id!==i))}}},[]),l={currentD:r,getLock:e};return f2.default.createElement(Eo.Provider,{value:l},t)},IR=()=>(0,f2.useContext)(Eo).currentD,PR=()=>{let{getLock:t}=(0,f2.useContext)(Eo),a=(0,f2.useRef)();return(0,f2.useLayoutEffect)(()=>()=>{var c;(c=a.current)==null||c.unlock()},[]),(0,f2.useMemo)(()=>{let c;return(r,e)=>{var l,i;(c==null?void 0:c.shouldLock)!==r&&(r?a.current=t():(l=a.current)==null||l.unlock()),(c==null?void 0:c.pos)!==e&&r&&((i=a.current)==null||i.set(e)),c={shouldLock:r,pos:e}}},[t])},v0=(t,a)=>{let{getLock:c}=(0,f2.useContext)(Eo),r=(0,f2.useRef)();(0,f2.useLayoutEffect)(()=>{if(!!t)return r.current=c(),()=>{r.current.unlock()}},[t,c]),(0,f2.useLayoutEffect)(()=>{t&&r.current.set(a)},[a,t])},P2=t=>({[ku]:t==="hide"?t:t.toFixed(3)}),ku="data-theatre-lock-framestamp-to",t11=t=>(0,U3.prism)(()=>{let a=(0,U3.val)(t.rightDims),c=(0,U3.val)(t.clippedSpace.toUnitSpace),r=(0,U3.val)(bR);if(!r)return[-1,0];for(let v of r.composedPath()){if(!(v instanceof HTMLElement||v instanceof SVGElement))break;if(v.hasAttribute(ku)){let g=v.getAttribute(ku);if(typeof g!="string")continue;if(g==="hide")return[-1,0];let d=parseFloat(g);if(isFinite(d)&&d>=0)return[d,2]}}let{clientX:e,clientY:l}=r,{screenX:i,screenY:o,width:n,height:h}=a;if(Je(e,i,i+n)&&Je(l,o+16,o+h)){let v=e-i;return[c(v),3]}else return[-1,0]}),GR=JJ});function Xc(){let[t,a]=(0,Oo.useState)(!1),c=(0,Oo.useMemo)(()=>{let r=new Set;return()=>{let e=()=>{r.delete(e),a(r.size>0)};return r.add(e),a(!0),e}},[]);return[t,c]}var Oo,Au=x(()=>{Oo=y(P())});var TR,a11,ER,OR=x(()=>{TR=y(P()),a11=function(t){(0,TR.useEffect)(t,[])},ER=a11});var ZR,c11,DR,jR=x(()=>{ZR=y(P());OR();c11=function(t){var a=(0,ZR.useRef)(t);a.current=t,ER(function(){return function(){return a.current()}})},DR=c11});var q9,r11,WR,_R=x(()=>{q9=y(P());jR();r11=function(t){var a=(0,q9.useRef)(0),c=(0,q9.useState)(t),r=c[0],e=c[1],l=(0,q9.useCallback)(function(i){cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){e(i)})},[]);return DR(function(){cancelAnimationFrame(a.current)}),[r,l]},WR=r11});function qR(t){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];t&&t.addEventListener&&t.addEventListener.apply(t,a)}function NR(t){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];t&&t.removeEventListener&&t.removeEventListener.apply(t,a)}var Zo,Em1,UR=x(()=>{Zo=typeof window!="undefined",Em1=typeof navigator!="undefined"});var KR,e11,N9,Do=x(()=>{KR=y(P());_R();UR();e11=function(t,a){t===void 0&&(t=1/0),a===void 0&&(a=1/0);var c=WR({width:Zo?window.innerWidth:t,height:Zo?window.innerHeight:a}),r=c[0],e=c[1];return(0,KR.useEffect)(function(){if(Zo){var l=function(){e({width:window.innerWidth,height:window.innerHeight})};return qR(window,"resize",l),function(){NR(window,"resize",l)}}},[]),r},N9=e11});var jo,Yc,U9,$R,P4,l11,Wo,W8=x(()=>{jo=y(require("@theatre/dataverse"));f1();m1();Au();Yc=y(P());Do();U9=(t,a)=>{let c=t.left/a.width,r=(t.left+t.width)/a.width,e=t.top/a.height,l=(t.height+t.top)/a.height;return{edges:{left:c<=.5?{from:"screenLeft",distance:c}:{from:"screenRight",distance:1-c},right:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},top:e<=.5?{from:"screenTop",distance:e}:{from:"screenBottom",distance:1-e},bottom:l<=.5?{from:"screenTop",distance:l}:{from:"screenBottom",distance:1-l}}}},$R=Yc.default.createContext(null),P4=()=>(0,Yc.useContext)($R),l11=({panelId:t,children:a,defaultPosition:c,minDims:r})=>{let e=N9(800,200),[l,i]=Xc(),{stuff:o}=h1(()=>{var m;let{edges:n}=(m=(0,jo.val)(G().atomP.historic.panelPositions[t]))!=null?m:c,h=Math.floor(e.width*(n.left.from==="screenLeft"?n.left.distance:1-n.left.distance)),v=Math.floor(e.width*(n.right.from==="screenLeft"?n.right.distance:1-n.right.distance)),g=Math.floor(e.height*(n.top.from==="screenTop"?n.top.distance:1-n.top.distance)),d=Math.floor(e.height*(n.bottom.from==="screenTop"?n.bottom.distance:1-n.bottom.distance)),s=Math.max(v-h,r.width),u=Math.max(d-g,r.height);return{stuff:{dims:jo.prism.memo("dims",()=>({width:s,left:h,top:g,height:u}),[s,h,g,u]),panelId:t,minDims:r,boundsHighlighted:l,addBoundsHighlightLock:i}}},[t,e,l,i]);return Yc.default.createElement($R.Provider,{value:o},a)},Wo=l11});function Ru(t){let[a,c]=(0,_o.useState)(!1);return(0,_o.useEffect)(()=>{if(c(!1),!t)return;let r=l=>{l.target===t?c(!0):c(!1)},e=()=>{c(!1)};return t.addEventListener("mouseenter",r),t.addEventListener("mousemove",r),t.addEventListener("mouseleave",e),()=>{c(!1),t.removeEventListener("mouseenter",r),t.removeEventListener("mousemove",r),t.removeEventListener("mouseleave",e)}},[t]),a}var _o,QR=x(()=>{_o=y(P())});function K9(t){let[a,c]=(0,qo.useState)(null);return(0,qo.useLayoutEffect)(()=>(t&&c(t.getBoundingClientRect()),()=>{c(null)}),[t]),a}var qo,bu=x(()=>{qo=y(P())});var Fu,No,i11,o11,n11,XR,Iu=x(()=>{b8();Fu=y(P());a1();No=26,i11=V.li`
  height: ${No}px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: ${t=>t.enabled?"white":"#8f8f8f"};
  cursor: ${t=>t.enabled?"normal":"not-allowed"};

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: ${t=>t.enabled?"rgba(63, 174, 191, 0.75)":"initial"};
  }
`,o11=V.span``,n11=t=>Fu.default.createElement(i11,{onClick:t.enabled?t.onClick:n0,enabled:t.enabled,title:t.enabled?void 0:"Disabled"},Fu.default.createElement(o11,null,t.label)),XR=n11});function Pu(t){let a=(0,Uo.useRef)(t);a.current=t,(0,Uo.useEffect)(()=>{let c=r=>a.current(r);return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[])}var Uo,YR=x(()=>{Uo=y(P())});var Jc,h11,v11,s11,g11,d11,Ko,Gu=x(()=>{Jc=y(P());Iu();a1();b0();G1();h11=190,v11=!0,s11=V.ul`
  position: absolute;
  min-width: ${h11}px;
  z-index: 10000;
  background: ${M0(.2,"#111")};
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  ${x1};
  border-radius: 3px;
`,g11=V.div`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`,d11=Jc.default.forwardRef((t,a)=>Jc.default.createElement(s11,{ref:a},v11&&t.displayName?Jc.default.createElement(g11,null,t.displayName):null,t.items.map((c,r)=>Jc.default.createElement(XR,{key:`item-${r}`,label:c.label,enabled:c.enabled!==!1,onClick:e=>{c.callback&&c.callback(e),t.onRequestClose()}})))),Ko=d11});var JR,tb,$9,ab,$o,z11,cb,rb=x(()=>{bu();JR=y(P()),tb=y(P()),$9=y(P()),ab=y(L4());Do();Iu();b6();YR();Gu();$o=20,z11=t=>{let[a,c]=(0,$9.useState)(null),r=K9(a),e=N9();(0,$9.useLayoutEffect)(()=>{if(!r||!a)return;let o={left:r.width/2,top:No/2+(t.displayName?No:0)},n={left:t.clickPoint.clientX-o.left,top:t.clickPoint.clientY-o.top};n.left<0?n.left=0:n.left+r.width>e.width&&(n.left=e.width-r.width),n.top<0?n.top=0:n.top+r.height>e.height&&(n.top=e.height-r.height),a.style.left=n.left+"px",a.style.top=n.top+"px";let h=v=>{(v.clientX<n.left-$o||v.clientX>n.left+r.width+$o||v.clientY<n.top-$o||v.clientY>n.top+r.height+$o)&&t.onRequestClose()};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[r,a,t.clickPoint,e,t.onRequestClose]);let l=(0,tb.useContext)(c3);Pu(o=>{o.key==="Escape"&&t.onRequestClose()});let i=(0,JR.useMemo)(()=>{let o=Array.isArray(t.items)?t.items:t.items();return o.length>0?o:[{label:t.displayName?`No actions for ${t.displayName}`:"No actions found",enabled:!1}]},[t.items]);return(0,ab.createPortal)($9.default.createElement(Ko,{items:i,onRequestClose:t.onRequestClose,displayName:t.displayName,ref:c}),l)},cb=z11});var Q9,u11,eb,lb=x(()=>{Q9=y(P()),u11=(t,a)=>{let[c,r]=(0,Q9.useState)({isOpen:!1}),e=(0,Q9.useCallback)(()=>r({isOpen:!1}),[]);return(0,Q9.useEffect)(()=>{if(!t||a.disabled===!0){r({isOpen:!1});return}let l=i=>{r({isOpen:!0,event:i}),i.preventDefault(),i.stopPropagation()};return t.addEventListener("contextmenu",l),()=>{t.removeEventListener("contextmenu",l)}},[t,a.disabled]),[c,e]},eb=u11});var p11,ib,ob=x(()=>{a1();p11=V.input.attrs({type:"checkbox"})`
  outline: none;
`,ib=p11});function f11({propConfig:t,editingTools:a,value:c,autoFocus:r}){let e=(0,Qo.useCallback)(l=>{a.permanentlySetValue(Boolean(l.target.checked))},[t,a]);return Qo.default.createElement(m11,{checked:c,onChange:e,autoFocus:r})}var Qo,m11,nb,hb=x(()=>{Qo=y(P());a1();ob();m11=V(ib)`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`;nb=f11});function M11(t){return function(a){t.forEach(function(c){typeof c=="function"?c(a):c!=null&&(c.current=a)})}}var Z6,tr=x(()=>{Z6=M11});function _8(t,a,c){(0,vb.useEffect)(()=>{if(!t||c===!1)return;let r=Array.isArray(t)?t.filter(l=>l):[t],e=l=>{r.every(i=>!l.composedPath().includes(i))&&a(l)};return window.addEventListener("mousedown",e,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",e,{capture:!0,passive:!1})}},[t,c])}var vb,Xo=x(()=>{vb=y(P())});function w11(t){return isNaN(t)?"NaN":rs(t)?t.toFixed(0):ls(t,3).toString()}var sb,gb,K3,Tu,x11,C11,L11,H11,V11,X9,Yo=x(()=>{C2();sb=y(P()),gb=y(P()),K3=y(P());a1();tr();P1();Xo();m2();Tu=V.div`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`,x11=V.input`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`,C11=V.div`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  ${Tu}.dragging &, ${Tu}.noFocus:hover & {
    background-color: #338198;
  }
`,L11=V.div`
  display: contents;
`,H11=t=>!0,V11=t=>{var p;let[a]=d1({mode:"noFocus"}),c=(p=t.isValid)!=null?p:H11,r=(0,K3.useRef)(t);r.current=t;let e=(0,K3.useRef)(null);_8(e.current,()=>{e.current.blur()},a.current.mode==="editingViaKeyboard");let l=(0,K3.useRef)(null),i=(0,K3.useMemo)(()=>{let z=j=>{let b=j.target,{value:T}=b,C=a.current;a.current=D(S({},C),{currentEditedValueInString:T});let O=parseFloat(T);!isFinite(O)||!c(O)||r.current.temporarilySetValue(O)},m=()=>{a.current.mode==="editingViaKeyboard"&&(f(),a.current={mode:"noFocus"}),t.onBlur&&t.onBlur()},f=()=>{let j=a.current,b=parseFloat(j.currentEditedValueInString);!isFinite(b)||!c(b)||j.valueBeforeEditing===b?r.current.discardTemporaryValue():r.current.permanentlySetValue(b)},M=j=>{j.key==="Escape"?(r.current.discardTemporaryValue(),a.current={mode:"noFocus"},e.current.blur()):(j.key==="Enter"||j.key==="Tab")&&(f(),e.current.blur())},H=j=>{a.current.mode==="noFocus"&&(e.current.focus(),j.preventDefault()),j.stopPropagation()},w=()=>{a.current.mode==="noFocus"?B():a.current.mode==="editingViaKeyboard"},B=()=>{let j=r.current.value;a.current={mode:"editingViaKeyboard",currentEditedValueInString:String(j),valueBeforeEditing:j},setTimeout(()=>{e.current.focus(),e.current.setSelectionRange(0,100)})},k;return{inputChange:z,onBlur:m,transitionToDraggingMode:()=>{var C;let j=r.current.value;k=(C=e.current)==null?void 0:C.getBoundingClientRect().width,a.current={mode:"dragging"};let b=j,T=j;return l.current=document.body.style.cursor,{onDrag(O,J,F,Q){let Z=F.altKey?Q/10:Q,t1=T+t.nudge({deltaX:Z,deltaFraction:Z/k,magnitude:1});T=t.range?F1(t1,t.range[0],t.range[1]):t1,r.current.temporarilySetValue(T)},onDragEnd(O){O?(b===T?r.current.discardTemporaryValue():r.current.permanentlySetValue(T),a.current={mode:"noFocus"}):(r.current.discardTemporaryValue(),a.current={mode:"noFocus"})},onClick(){e.current.focus(),e.current.setSelectionRange(0,100)}}},onInputKeyDown:M,onClick:H,onFocus:w}},[]);(0,sb.useEffect)(()=>()=>{i.onBlur()},[]);let o=a.current.mode!=="editingViaKeyboard"?w11(t.value):a.current.currentEditedValueInString;typeof o=="number"&&isNaN(o)&&(o="NaN");let n=[e];t.inputRef&&n.push(t.inputRef);let h=K3.default.createElement(x11,{key:"input",type:"text",onChange:i.inputChange,value:o,onBlur:i.onBlur,onKeyDown:i.onInputKeyDown,onClick:i.onClick,onFocus:i.onFocus,ref:Z6(n),onMouseDown:z=>{z.stopPropagation()},onDoubleClick:z=>{z.preventDefault(),z.stopPropagation()},autoFocus:t.autoFocus}),{range:v}=t,g=parseFloat(o),d=v?K3.default.createElement(C11,{style:{"--percentage":F1((g-v[0])/(v[1]-v[0]),0,1)}}):null,[s,u]=(0,gb.useState)(null);return S1(s,{debugName:"form/BasicNumberInput",onDragStart:i.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:a.current.mode==="editingViaKeyboard"}),K3.default.createElement(Tu,{className:t.className+" "+a.current.mode},K3.default.createElement(L11,{ref:u},h),d)};X9=V11});function B11({propConfig:t,editingTools:a,value:c,autoFocus:r}){let e=(0,Jo.useCallback)(l=>t.nudgeFn(D(S({},l),{config:t})),[t]);return Jo.default.createElement(X9,{value:c,temporarilySetValue:a.temporarilySetValue,discardTemporaryValue:a.discardTemporaryValue,permanentlySetValue:a.permanentlySetValue,range:t.range,nudge:e,autoFocus:r})}var Jo,tn,Eu=x(()=>{Yo();Jo=y(P());tn=B11});function k11({value:t,onChange:a,options:c,autoFocus:r}){let e=(0,Y9.useCallback)(l=>{a(String(l.target.value))},[a]);return Y9.default.createElement(db,{role:"radiogroup"},Object.keys(c).map((l,i)=>Y9.default.createElement(y11,{key:"label-"+i,"data-checked":t===l},c[l],Y9.default.createElement(S11,{type:"radio",checked:t===l,value:l,onChange:e,name:"switchbox",autoFocus:r}))))}var Y9,db,y11,S11,zb,ub=x(()=>{b0();Y9=y(P());a1();db=V.form`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`,y11=V.label`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  ${db}:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: ${w6(.1,"white")}; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`,S11=V.input`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`;zb=k11});function F11({value:t,onChange:a,options:c,className:r,autoFocus:e}){let l=(0,D6.useCallback)(i=>{a(String(i.target.value))},[a]);return D6.default.createElement(A11,null,D6.default.createElement(b11,{className:r,value:t,onChange:l,autoFocus:e},Object.keys(c).map((i,o)=>D6.default.createElement("option",{key:"option-"+o,value:i},c[i]))),D6.default.createElement(R11,null,D6.default.createElement(jA,null)))}var D6,A11,R11,b11,pb,mb=x(()=>{D6=y(P());a1();Z8();A11=V.div`
  width: 100%;
  position: relative;
`,R11=V.div`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`,b11=V.select`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`;pb=F11});function I11({propConfig:t,editingTools:a,value:c,autoFocus:r}){let e=(0,ar.useCallback)(l=>{a.permanentlySetValue(l)},[t,a]);return t.as==="menu"?ar.default.createElement(pb,{value:c,onChange:e,options:t.valuesAndLabels,autoFocus:r}):ar.default.createElement(zb,{value:c,onChange:e,options:t.valuesAndLabels,autoFocus:r})}var ar,fb,Mb=x(()=>{ar=y(P());ub();mb();fb=I11});function E11(t){return t}var xb,q8,P11,G11,T11,J9,an=x(()=>{a1();xb=y(P()),q8=y(P());tr();P1();Xo();P11=V.input.attrs({type:"text"})`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`,G11=t=>!0,T11=t=>{var h,v;let[a]=d1({mode:"noFocus"}),c=(h=t.isValid)!=null?h:G11,r=(0,q8.useRef)(t);r.current=t;let e=(0,q8.useRef)(null);_8(e.current,()=>{e.current.blur()},a.current.mode==="editingViaKeyboard");let l=(0,q8.useMemo)(()=>{let g=f=>{let M=f.target,{value:H}=M,w=a.current;a.current=D(S({},w),{currentEditedValueInString:H}),!!c(H)&&r.current.temporarilySetValue(H)},d=()=>{var f,M;a.current.mode==="editingViaKeyboard"&&(s(),a.current={mode:"noFocus"}),(M=(f=r.current).onBlur)==null||M.call(f)},s=()=>{let f=a.current,M=f.currentEditedValueInString;c(M)?f.valueBeforeEditing===M?r.current.discardTemporaryValue():r.current.permanentlySetValue(M):r.current.discardTemporaryValue()},u=f=>{f.key==="Escape"?(r.current.discardTemporaryValue(),a.current={mode:"noFocus"},e.current.blur()):(f.key==="Enter"||f.key==="Tab")&&(s(),e.current.blur())},p=f=>{a.current.mode==="noFocus"&&(e.current.focus(),f.preventDefault()),f.stopPropagation()},z=()=>{a.current.mode==="noFocus"?m():a.current.mode==="editingViaKeyboard"},m=()=>{let f=r.current.value;a.current={mode:"editingViaKeyboard",currentEditedValueInString:String(f),valueBeforeEditing:f},setTimeout(()=>{e.current.focus()})};return{inputChange:g,onBlur:d,onInputKeyDown:u,onClick:p,onFocus:z}},[]);(0,xb.useEffect)(()=>()=>{l.onBlur()},[]);let i=a.current.mode!=="editingViaKeyboard"?E11(t.value):a.current.currentEditedValueInString,o=[e];return t.inputRef&&o.push(t.inputRef),q8.default.createElement(P11,{key:"input",type:"text",className:`${(v=t.className)!=null?v:""} ${c(i)?"":"invalid"}`,onChange:l.inputChange,value:i,onBlur:l.onBlur,onKeyDown:l.onInputKeyDown,onClick:l.onClick,onFocus:l.onFocus,ref:Z6(o),onMouseDown:g=>{g.stopPropagation()},onDoubleClick:g=>{g.preventDefault(),g.stopPropagation()},autoFocus:t.autoFocus})};J9=T11});function O11({editingTools:t,value:a,autoFocus:c}){return Cb.default.createElement(J9,{value:a,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,autoFocus:c})}var Cb,Lb,Hb=x(()=>{Cb=y(P());an();Lb=O11});function Vb(t){t=t.trim().toLowerCase();let a=t.match(Ou);if(!a)return{r:0,g:0,b:0,a:1};let c=Z11(a[1]);return{r:parseInt(c.substr(0,2),16)/255,g:parseInt(c.substr(2,2),16)/255,b:parseInt(c.substr(4,2),16)/255,a:parseInt(c.substr(6,2),16)/255}}function cn(t,{removeAlphaIfOpaque:a=!1}={}){let c=(t.a*255|1<<8).toString(16).slice(1);return`#${(t.r*255|1<<8).toString(16).slice(1)+(t.g*255|1<<8).toString(16).slice(1)+(t.b*255|1<<8).toString(16).slice(1)+(a&&c==="ff"?"":c)}`}function rn(t){return D(S({},t),{toString(){return cn(this,{removeAlphaIfOpaque:!0})}})}function Z11(t){switch(t.length){case 3:return`${t.repeat(2)}ff`;case 4:let a=t.substr(0,3),c=t[3];return`${a.repeat(2)}${c.repeat(2)}`;case 6:return`${t}ff`}return t}var Ou,Zu=x(()=>{Ou=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function tt(t){let a=(0,Du.useRef)(t),c=(0,Du.useRef)(r=>{a.current&&a.current(r)});return a.current=t,c.current}var Du,ju=x(()=>{Du=y(P())});var G4,cr=x(()=>{G4=(t,a=0,c=1)=>t>c?c:t<a?a:t});var j6,wb,Bb,en,ln=x(()=>{j6=y(P()),wb=(0,j6.createContext)(void 0),Bb=({children:t})=>{let[a,c]=(0,j6.useState)(!1);return j6.default.createElement(wb.Provider,{value:{editing:a,setEditing:c}},t)},en=()=>(0,j6.useContext)(wb)});var $3,rr,D11,Wu,yb,Sb,j11,W11,_11,W6,er=x(()=>{$3=y(P());ju();cr();a1();ln();rr=t=>"touches"in t,D11=(t,a)=>{for(let c=0;c<t.length;c++)if(t[c].identifier===a)return t[c];return t[0]},Wu=t=>t&&t.ownerDocument.defaultView||self,yb=(t,a,c)=>{let r=t.getBoundingClientRect(),e=rr(a)?D11(a.touches,c):a;return{left:G4((e.pageX-(r.left+Wu(t).pageXOffset))/r.width),top:G4((e.pageY-(r.top+Wu(t).pageYOffset))/r.height)}},Sb=t=>{!rr(t)&&t.preventDefault()},j11=(t,a)=>a&&!rr(t),W11=V.div`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`,_11=r=>{var e=r,{onMove:t,onKey:a}=e,c=n4(e,["onMove","onKey"]);let l=(0,$3.useRef)(null),i=tt(t),o=tt(a),n=(0,$3.useRef)(null),h=(0,$3.useRef)(!1),{setEditing:v}=en(),[g,d,s]=(0,$3.useMemo)(()=>{let u=({nativeEvent:M})=>{let H=l.current;if(!!H&&(Sb(M),!(j11(M,h.current)||!H))){if(rr(M)){h.current=!0;let w=M.changedTouches||[];w.length&&(n.current=w[0].identifier)}H.focus(),v(!0),i(yb(H,M,n.current)),f(!0)}},p=M=>{Sb(M),(rr(M)?M.touches.length>0:M.buttons>0)&&l.current?i(yb(l.current,M,n.current)):(v(!1),f(!1))},z=M=>{v(!1),f(!1)},m=M=>{let H=M.which||M.keyCode;H<37||H>40||(M.preventDefault(),o({left:H===39?.05:H===37?-.05:0,top:H===40?.05:H===38?-.05:0}))};function f(M){let H=h.current,w=l.current,B=Wu(w),k=M?B.addEventListener:B.removeEventListener;k(H?"touchmove":"mousemove",p),k(H?"touchend":"mouseup",z)}return[u,m,f]},[o,i]);return(0,$3.useEffect)(()=>s,[s]),$3.default.createElement(W11,D(S({},c),{onTouchStart:g,onMouseDown:g,ref:l,onKeyDown:d,tabIndex:0,role:"slider"}))},W6=$3.default.memo(_11)});var _u,q11,N11,U11,at,on=x(()=>{_u=y(P());a1();er();q11=V(W6)``,N11=V.div`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  ${q11}:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`,U11=V.div`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`,at=({className:t,color:a,left:c,top:r=.5})=>{let e={top:`${r*100}%`,left:`${c*100}%`};return _u.default.createElement(N11,{style:e,className:t},_u.default.createElement(U11,{style:{backgroundColor:a}}))}});var S2,lr=x(()=>{S2=(t,a=0,c=Math.pow(10,a))=>Math.round(c*t)/c});var iM1,kb,ir,nn,Ab,Rb,or=x(()=>{lr();iM1={grad:360/400,turn:360,rad:360/(Math.PI*2)},kb=({h:t,s:a,v:c,a:r})=>{let e=(200-a)*c/100;return{h:S2(t),s:S2(e>0&&e<200?a*c/100/(e<=100?e:200-e)*100:0),l:S2(e/2),a:S2(r,2)}},ir=t=>{let{h:a,s:c,l:r}=kb(t);return`hsl(${a}, ${c}%, ${r}%)`},nn=t=>{let{h:a,s:c,l:r,a:e}=kb(t);return`hsla(${a}, ${c}%, ${r}%, ${e})`},Ab=({h:t,s:a,v:c,a:r})=>{t=t/360*6,a=a/100,c=c/100;let e=Math.floor(t),l=c*(1-a),i=c*(1-(t-e)*a),o=c*(1-(1-t+e)*a),n=e%6;return{r:S2([c,i,l,l,o,c][n]*255),g:S2([o,c,c,i,l,l][n]*255),b:S2([l,l,o,c,c,i][n]*255),a:S2(r,2)}},Rb=({r:t,g:a,b:c,a:r})=>{let e=Math.max(t,a,c),l=e-Math.min(t,a,c),i=l?e===t?(a-c)/l:e===a?2+(c-t)/l:4+(t-a)/l:0;return{h:S2(60*(i<0?i+6:i)),s:S2(e?l/e*100:0),v:S2(e/255*100),a:r}}});var nr,K11,$11,Q11,bb,Fb=x(()=>{nr=y(P());er();on();or();cr();lr();a1();K11=V.div`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`,$11=V(at)`
  z-index: 2;
`,Q11=({className:t,hue:a,onChange:c})=>nr.default.createElement(K11,{className:t},nr.default.createElement(W6,{onMove:l=>{c({h:360*l.left})},onKey:l=>{c({h:G4(a+l.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":S2(a)},nr.default.createElement($11,{left:a/360,color:ir({h:a,s:100,v:100,a:1})}))),bb=nr.default.memo(Q11)});var hr,X11,Y11,J11,Ib,Pb=x(()=>{hr=y(P());er();on();or();cr();lr();a1();X11=V.div`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`,Y11=V(at)`
  z-index: 3;
`,J11=({hsva:t,onChange:a})=>{let c=l=>{a({s:l.left*100,v:100-l.top*100})},r=l=>{a({s:G4(t.s+l.left*100,0,100),v:G4(t.v-l.top*100,0,100)})},e={backgroundColor:ir({h:t.h,s:100,v:100,a:1})};return hr.default.createElement(X11,{style:e},hr.default.createElement(W6,{onMove:c,onKey:r,"aria-label":"Color","aria-valuetext":`Saturation ${S2(t.s)}%, Brightness ${S2(t.v)}%`},hr.default.createElement(Y11,{top:1-t.v/100,left:t.s/100,color:ir(t)})))},Ib=hr.default.memo(J11)});var vr,t21,a21,c21,Gb,Tb=x(()=>{vr=y(P());er();on();or();cr();lr();a1();t21=V.div`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`,a21=V.div.attrs(({colorFrom:t,colorTo:a})=>({style:{backgroundImage:`linear-gradient(90deg, ${t}, ${a})`}}))`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`,c21=V(at)`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`,Gb=({className:t,hsva:a,onChange:c})=>{let r=o=>{c({a:o.left})},e=o=>{c({a:G4(a.a+o.left)})},l=nn(Object.assign({},a,{a:0})),i=nn(Object.assign({},a,{a:1}));return vr.default.createElement(t21,{className:t},vr.default.createElement(a21,{colorFrom:l,colorTo:i}),vr.default.createElement(W6,{onMove:r,onKey:e,"aria-label":"Alpha","aria-valuetext":`${S2(a.a*100)}%`},vr.default.createElement(c21,{left:a.a,color:nn(a)})))}});var sr,qu=x(()=>{sr=(t,a)=>{if(t===a)return!0;for(let c in t)if(t[c]!==a[c])return!1;return!0}});function Eb(t,a,c,r){let{editing:e}=en(),[l,i]=(0,S3.useState)(a),o=tt(c),n=tt(r),h=e?l:a,[v,g]=(0,S3.useState)(()=>t.toHsva(h)),d=(0,S3.useRef)({color:h,hsva:v}),s=(0,S3.useRef)({color:h,hsva:v});(0,S3.useEffect)(()=>{e&&i(d.current.color)},[e]),(0,S3.useEffect)(()=>{let p=t.fromHsva(v);e?!sr(v,d.current.hsva)&&!t.equal(p,d.current.color)&&(d.current={hsva:v,color:p},i(p),o(p)):!sr(v,s.current.hsva)&&!t.equal(p,s.current.color)&&(s.current={hsva:v,color:p},d.current={hsva:v,color:p},n(p))},[e,v,t,o,n]),(0,S3.useEffect)(()=>{if(!e&&!t.equal(h,s.current.color)){let p=t.toHsva(h);s.current={hsva:p,color:h},g(p)}},[e,h,t]);let u=(0,S3.useCallback)(p=>{g(z=>Object.assign({},z,p))},[]);return[v,u]}var S3,Ob=x(()=>{S3=y(P());qu();ju();ln()});var N8,r21,Zb,Db=x(()=>{N8=y(P());Fb();Pb();Tb();Ob();a1();r21=V.div`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`,Zb=o=>{var n=o,{className:t,colorModel:a,color:c=a.defaultColor,temporarilySetValue:r,permanentlySetValue:e,discardTemporaryValue:l}=n,i=n4(n,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[h,v]=Eb(a,c,r,e);return(0,N8.useEffect)(()=>()=>{l()},[]),N8.default.createElement(r21,S({},i),N8.default.createElement(Ib,{hsva:h,onChange:v}),N8.default.createElement(bb,{hue:h.h,onChange:v}),N8.default.createElement(Gb,{hsva:h,onChange:v}))}});var Nu,e21,l21,i21,Uu,jb=x(()=>{Nu=y(P());Db();qu();or();ln();e21=t=>({r:t.r/255,g:t.g/255,b:t.b/255,a:t.a}),l21=t=>({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a}),i21={defaultColor:{r:0,g:0,b:0,a:1},toHsva:t=>Rb(l21(t)),fromHsva:t=>e21(Ab(t)),equal:sr},Uu=t=>Nu.default.createElement(Bb,null,Nu.default.createElement(Zb,D(S({},t),{permanentlySetValue:a=>{t.permanentlySetValue(a)},colorModel:i21})))});var Wb=x(()=>{jb()});var _b,o21,hn,Ku=x(()=>{_b=y(P()),o21=(0,_b.createContext)({}),hn=o21});function $u(t,a,c){let r=t.getBoundingClientRect(),e=l=>{(l.clientX<r.left-a||l.clientX>r.left+r.width+a||l.clientY<r.top-a||l.clientY>r.top+r.height+a)&&c(l)};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}var qb=x(()=>{});var Nb,ct,Ub,n21,vn,Qu=x(()=>{Nb=y(P()),ct=y(P());Do();bu();Ku();P1();Xo();qb();b8();C2();Ub=8,n21=t=>{var v,g;let a=t.children(),[c,r]=d1(null),e=a.props.style?S({},a.props.style):{};e.position="absolute";let l=K9(r),i=K9(t.target),o=N9(),[n,h]=(0,ct.useState)({});return(0,ct.useLayoutEffect)(()=>{var k,I,j;if(!l||!r||!i)return;let d=(k=t.verticalGap)!=null?k:8,s={},u=(I=t.verticalPlacement)!=null?I:"bottom",p=0,z=0;u==="bottom"?i.bottom+l.height+d<o.height?(u="bottom",p=i.bottom+d,s.top="0px"):i.top>l.height+d?(u="top",p=i.top-(l.height+d),s.bottom="0px",s.transform="rotateZ(180deg)"):u="overlay":u==="top"&&(i.top>l.height+d?(u="top",p=i.top-(l.height+d),s.bottom="0px",s.transform="rotateZ(180deg)"):i.bottom+l.height+d<o.height?(u="bottom",p=i.bottom+d,s.top="0px"):u="overlay");let m=0;if(u!=="overlay"){let b=i.left+i.width/2;b<l.width/2?(z=d,m=Math.max(b-d,Ub)):b+l.width/2>o.width?(z=o.width-(d+l.width),m=Math.min(b-z,l.width-Ub)):(z=b-l.width/2,m=l.width/2),s.left=m+"px"}let{minX:f=-1/0,maxX:M=1/0,minY:H=-1/0,maxY:w=1/0}=(j=t.constraints)!=null?j:{},B={left:F1(z,f,M-l.width),top:F1(p,H,w+l.height)};if(r.style.left=B.left+"px",r.style.top=B.top+"px",h(s),t.onPointerOutside)return $u(r,t.onPointerOutside.threshold,t.onPointerOutside.callback)},[l,r,t.target,i,o,t.onPointerOutside]),_8([r,(v=t.target)!=null?v:null],(g=t.onClickOutside)!=null?g:n0),Nb.default.createElement(hn.Provider,{value:n},(0,ct.cloneElement)(a,{ref:c,style:e}))},vn=n21});function M2(t,a){let c=(...u)=>{},{isPointerBeingCaptured:r}=Wi("usePopover"),[e,l]=d1({isOpen:!1}),i=(0,H2.useRef)(t),o=(0,H2.useCallback)(u=>{c(`closing due to "${u}"`),e.current={isOpen:!1}},[]),n=(0,H2.useCallback)((u,p)=>{var f;let z=typeof i.current=="function"?i.current():i.current;function m(){v.childHasFocusRef.current||z.closeOnClickOutside!==!1&&o("clicked outside popover")}e.current={isOpen:!0,clickPoint:{clientX:u.clientX,clientY:u.clientY},target:p,opts:z,onClickOutside:m,onPointerOutside:z.closeWhenPointerIsDistant===!1?void 0:{threshold:(f=z.pointerDistanceThreshold)!=null?f:100,callback:()=>{v.childHasFocusRef.current||r()||o("pointer outside")}}}},[]),h=(0,H2.useCallback)((...u)=>{e.current.isOpen?o("toggled"):n(...u)},[]),v=h21({_debug:c,state:l}),[,g]=(0,H2.useContext)(rt);(0,H2.useEffect)(()=>{let u;return l.isOpen&&(u=g()),()=>u==null?void 0:u()},[l.isOpen]);let d=(0,H2.useContext)(c3);return{node:l.isOpen?(0,Kb.createPortal)(H2.default.createElement($b.Provider,{value:v.childPopoverLock},H2.default.createElement(vn,{children:a,target:l.target,onClickOutside:l.onClickOutside,onPointerOutside:l.onPointerOutside,constraints:l.opts.constraints,verticalGap:l.opts.verticalGap})),d):H2.default.createElement(H2.default.Fragment,null),open:n,close:o,toggle:h,isOpen:l.isOpen}}function h21(t){let a=(0,H2.useContext)($b);(0,H2.useEffect)(()=>{if(t.state.isOpen){let r=a.takeFocus();return t._debug("take focus"),()=>{t._debug("release focus"),r.releaseFocus()}}},[t.state.isOpen]);let c=(0,H2.useRef)(!1);return{childHasFocusRef:c,childPopoverLock:{takeFocus(){return c.current=!0,{releaseFocus(){c.current=!1}}}}}}var H2,Kb,$b,Q3=x(()=>{_i();P1();H2=y(P()),Kb=y(L4());b6();Qu();sn();$b=H2.default.createContext({takeFocus(){return{releaseFocus(){}}}})});var X3,v21,s21,g21,d21,z21,u21,Qb,Xb=x(()=>{X3=y(P());a1();Ku();v21=V.div`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`,s21=V.div`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`,g21=V.path`
  fill: var(--popover-bg);
`,d21=V.path`
  fill: var(--popover-inner-stroke);
`,z21=V.path`
  fill: var(--popover-outer-stroke);
`,u21=(0,X3.forwardRef)(({className:t},a)=>{let c=(0,X3.useContext)(hn);return X3.default.createElement(v21,{className:t,ref:a,style:S({},c)},X3.default.createElement(s21,null,X3.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},X3.default.createElement(z21,{d:"M6 0L0 6H12L6 0Z"}),X3.default.createElement(d21,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),X3.default.createElement(g21,{d:"M6 3L0 9H12L6 3Z"}))))}),Qb=u21});var gn,Xu,p21,m21,T2,Y3=x(()=>{G1();b0();gn=y(P());a1();Xb();Xu=M0(.05,"#2a2a31"),p21=V.div`
  position: absolute;
  --popover-bg: ${Xu};
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  ${x1};
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`,m21=gn.default.forwardRef(({children:t,className:a,showPopoverEdgeTriangle:c=!0},r)=>gn.default.createElement(p21,{className:a,ref:r},c?gn.default.createElement(Qb,null):void 0,t)),T2=m21});function L21({editingTools:t,value:a,autoFocus:c}){let r=(0,k3.useRef)(null),e=(0,k3.useCallback)(i=>{let o=rn(Vb(i));t.permanentlySetValue(o)},[t]),l=M2({debugName:"RgbaPropEditor"},()=>k3.default.createElement(C21,null,k3.default.createElement(Uu,{color:{r:a.r,g:a.g,b:a.b,a:a.a},temporarilySetValue:i=>{let o=rn(i);t.temporarilySetValue(o)},permanentlySetValue:i=>{let o=rn(i);t.permanentlySetValue(o)},discardTemporaryValue:t.discardTemporaryValue})));return k3.default.createElement(k3.default.Fragment,null,k3.default.createElement(f21,null,k3.default.createElement(M21,{rgbaColor:a,ref:r,onClick:i=>{l.toggle(i,r.current)}}),k3.default.createElement(x21,{value:cn(a,{removeAlphaIfOpaque:!0}),temporarilySetValue:Yb,discardTemporaryValue:Yb,permanentlySetValue:e,isValid:i=>!!i.match(Ou),autoFocus:c})),l.node)}var k3,f21,M21,x21,Yb,C21,Jb,tF=x(()=>{Zu();Zu();k3=y(P());Wb();a1();Q3();an();Y3();f21=V.div`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`,M21=V.div.attrs(t=>({style:{background:cn(t.rgbaColor)}}))`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`,x21=V(J9)`
  flex: 1;
`,Yb=()=>{},C21=V.div`
  position: absolute;
  background-color: ${Xu};
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`;Jb=L21});function H21(t){return Yu.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Yu.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Yu,gr,aF=x(()=>{Yu=y(P());gr=H21});function V21(t){return Ju.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Ju.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var Ju,tp,cF=x(()=>{Ju=y(P());tp=V21});function w21(t){return ap.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ap.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var ap,cp,rF=x(()=>{ap=y(P());cp=w21});function B21(t){return rp.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),rp.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var rp,ep,eF=x(()=>{rp=y(P());ep=B21});function y21(t){return lp.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),lp.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var lp,ip,lF=x(()=>{lp=y(P());ip=y21});function S21(t){return op.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),op.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var op,dr,iF=x(()=>{op=y(P());dr=S21});function k21(t){return np.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),np.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var np,hp,oF=x(()=>{np=y(P());hp=k21});var zr=x(()=>{aF();cF();rF();eF();lF();iF();oF()});function P21({propConfig:t,editingTools:a,value:c,autoFocus:r}){let[e,l]=l3.default.useState();(0,l3.useEffect)(()=>{l(c?a.getAssetUrl(c):void 0)},[c]);let i=(0,l3.useCallback)(n=>n2(this,null,function*(){let h=n.target.files[0];a.permanentlySetValue({type:"image",id:void 0});let v=yield a.createAsset(h);v?a.permanentlySetValue({type:"image",id:v}):a.permanentlySetValue(c),n.target.value=null}),[a,c]),o=!(c==null?void 0:c.id);return l3.default.createElement(nF,{empty:o},l3.default.createElement(R21,{empty:o,title:o?"Upload image":`"${c.id}" (Click to upload new image)`},l3.default.createElement(b21,{type:"file",onChange:i,accept:"image/*,.hdr",autoFocus:r}),e?l3.default.createElement(F21,{src:e}):l3.default.createElement(A21,null)),!o&&l3.default.createElement(I21,{title:"Delete image",onClick:()=>{a.permanentlySetValue({type:"image",id:void 0})}},l3.default.createElement(hp,null)))}var l3,nF,A21,R21,b21,F21,I21,hF,vF=x(()=>{zr();l3=y(P());a1();nF=V.div`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`,A21=V.div`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`,R21=V.label`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  ${t=>t.empty?F2``:F2``}
`,b21=V.input.attrs({type:"file"})`
  display: none;
`,F21=V.img`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`,I21=V.button`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  ${nF}:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`;hF=P21});var dn,vp=x(()=>{hb();Eu();Mb();Hb();tF();vF();dn={number:tn,string:Lb,boolean:nb,stringLiteral:fb,rgba:Jb,image:hF}});var zn,sp=x(()=>{zn="calc(var(--left-pad) + var(--depth) * var(--step))"});var un,sF,pn=x(()=>{un={},sF=[]});function gF(t,a,c){let r=(0,P0.getPointerParts)(t).path;return h1(()=>{if(!nu(c))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:U8.default.createElement(I9,{hasStaticOverride:!1})};let e=!!(0,P0.val)(E3(G().atomP.ephemeral.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].stateByObjectKey[a.address.objectKey].valuesBeingScrubbed,(0,P0.getPointerParts)(t).path)),l=[],i={beingScrubbed:e,contextMenuItems:l,controlIndicators:U8.default.createElement(U8.default.Fragment,null)},o=(0,P0.val)(a.template.getMapOfValidSequenceTracks_forStudio()),n=Q0(o,r),h=n!==void 0&&Object.keys(n).length!==0,v=[],g=(0,P0.val)(a.template.getStaticButNotSequencedOverrides()),s=Q0(g!=null?g:un,r)!==void 0;if(h)for(let u of Nc(c,[])){if(w3(u.conf))continue;let p=Q0(n,u.path);typeof p!="string"?s=!0:v.push(p)}if((s||h)&&l.push({label:"Reset all to default",callback:()=>{G().transaction(({unset:u})=>{u(t)})}}),h&&l.push({label:"Make all static",callback:()=>{G().transaction(({stateEditors:u})=>{for(let{path:p,conf:z}of Nc(c,[])){if(w3(z))continue;let m=D(S({},a.address),{pathToProp:[...r,...p]}),f=k4(t,p);u.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(D(S({},m),{value:a.getValueByPointer(f)}))}})}}),(!h||h&&s)&&l.push({label:"Sequence all",callback:()=>{G().transaction(({stateEditors:u})=>{for(let{path:p,conf:z}of Nc(c,r)){if(w3(z))continue;let m=D(S({},a.address),{pathToProp:p});u.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(m,c)}})}}),h){let u=P0.prism.memo("controlIndicators",()=>U8.default.createElement(G21,S({},{pointerToProp:t,obj:a,possibleSequenceTrackIds:n,listOfDescendantTrackIds:v})),[n,v]);return D(S({},i),{type:"HasSequences",controlIndicators:u})}else return D(S({},i),{type:"AllStatic",controlIndicators:U8.default.createElement(I9,{hasStaticOverride:s})})},[])}function G21({pointerToProp:t,obj:a,possibleSequenceTrackIds:c,listOfDescendantTrackIds:r}){return h1(()=>{let e=(0,P0.getPointerParts)(t).path,l=(0,P0.val)(a.sheet.getSequence().positionPrism),i=r.map(s=>({trackId:s,track:(0,P0.val)(a.template.project.pointers.historic.sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[s])})).filter(({track:s})=>!!s).map(s=>D(S({},s),{nearbies:wo(a,{id:s.trackId,data:s.track,sheetObject:a},l)})),o=i.find(({nearbies:s})=>!!s.cur),n=i.every(({nearbies:s})=>!!s.cur),h=i.reduce((s,u)=>u.nearbies.prev&&(s===void 0||u.nearbies.prev.kf.position>s.kf.position)?u.nearbies.prev:s,void 0),v=i.reduce((s,u)=>u.nearbies.next&&(s===void 0||u.nearbies.next.kf.position<s.kf.position)?u.nearbies.next:s,void 0),g=()=>{n?G().transaction(s=>{s.unset(t)}):o?G().transaction(s=>{s.set(t,(0,P0.val)(t))}):G().transaction(s=>{s.set(t,(0,P0.val)(t))})},d={cur:o?{type:"on",itemKey:t2.forCompoundPropAggregateKeyframe(a,e,l),toggle:g}:{toggle:g,type:"off"},prev:h!==void 0?{position:h.kf.position,itemKey:t2.forCompoundPropAggregateKeyframe(a,e,h.kf.position),jump:()=>{a.sheet.getSequence().position=h.kf.position}}:void 0,next:v!==void 0?{position:v.kf.position,itemKey:t2.forCompoundPropAggregateKeyframe(a,e,v.kf.position),jump:()=>{a.sheet.getSequence().position=v.kf.position}}:void 0};return U8.default.createElement(ko,S({},d))},[t,a,c,r])}var P0,U8,dF=x(()=>{m1();Ma();f1();P0=y(require("@theatre/dataverse"));P7();U8=y(P());hu();G6();z4();_c();Ao();vu();pn()});function zF(t,a){return JSON.stringify(t,a,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var uF=x(()=>{});function gp(t,a=!0){try{return typeof t=="string"?t:typeof t=="function"||t instanceof Error?t.toString():a?zF(t):JSON.stringify(t)}catch(c){return(t==null?void 0:t.name)||String(t)}}var pF=x(()=>{uF()});function mF(t,a,c){t||(arguments.length>2?fF(a,c):fF(a))}function fF(t,a){let c=arguments.length>1,r=gp(typeof t=="function"?t():t),e=c?`
Instead found: ${gp(a)}`:"";throw new MF(`Invariant: ${r}${e}`,a)}var T21,E21,O21,Z21,MF,xF=x(()=>{pF();T21=/^\s*at.+node:internal.+/gm,E21=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,O21=/^\s*(at|[^@]+@).+test\-helpers.+/gm,Z21=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,MF=class extends Error{constructor(a,c){super(a);R1(this,"found");var r;c!==void 0&&(this.found=c),this.stack=(r=this.stack)==null?void 0:r.replace(E21,"").replace(Z21,"").replace(O21,"").replace(T21,"")}}});function D21(t){return(0,et.prism)(()=>{if(Array.isArray(t)){let a=new Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c].getValue();return a}else{let a={};for(let c in t)a[c]=(0,et.val)(t[c]);return a}})}function ur(t){let a=_6.default.memo(_6.default.forwardRef(function(r,e){let l=[],i={},o={ref:e};for(let g in r){let d=r[g];(0,et.isPrism)(d)?(l.push(d),i[g]=d):o[g]=d}let n=(0,_6.useRef)(l.length);mF(n.current===l.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:n.current,count:l.length});let h=(0,_6.useMemo)(()=>D21(i),l),v=k8(h);return v&&_6.default.createElement(t,S(S({},o),v))}));return a.displayName=`deriver(${t.displayName})`,a}var et,_6,dp=x(()=>{et=y(require("@theatre/dataverse"));f1();_6=y(P());xF()});function Q21({propConfig:t,pointerToProp:a,obj:c,SimpleEditorComponent:r}){let e=O9(a,c,t);return k2.default.createElement(tn,{editingTools:e,propConfig:t,value:e.value})}function Y21({pointerToProp:t,obj:a,propConfig:c,visualIndentation:r}){var f;let e=(f=c.label)!=null?f:s3((0,lt.getPointerParts)(t).path),l=Object.entries(c.props),i=l.filter(([M,H])=>w3(H)),o=l.filter(([M,H])=>!w3(H)),[n,h]=d1(null),v=gF(t,a,c),[g]=E1(h,{menuItems:v.contextMenuItems}),d=i.length>0,s=(0,k2.useMemo)(()=>R9.getIsPropHighlightedD(D(S({},a.address),{pathToProp:(0,lt.getPointerParts)(t).path})),[t]),u=`${a.address.projectId},${a.address.sheetId},${a.address.sheetInstanceId},${a.address.objectKey},${(0,lt.getPointerParts)(t).path.join()}`,p=$21(c);(0,k2.useLayoutEffect)(()=>{zp.has(u)||zp.set(u,new lt.Atom(p))},[u,c]);let z=zp.get(u),m=h1(()=>z?(0,CF.val)(z.pointer):p,[z]);return k2.default.createElement(j21,null,g,k2.default.createElement(LF,{style:{"--depth":r-1}},k2.default.createElement(W21,{isVectorProp:p},k2.default.createElement(_21,null,v.controlIndicators),k2.default.createElement(q21,{isHighlighted:s,ref:n},k2.default.createElement("span",null,e||"Props")),k2.default.createElement(N21,{isCollapsed:m,isVector:p,onClick:()=>{z==null||z.set(!z.get())}},k2.default.createElement(Co,null))),p&&m&&k2.default.createElement(X21,null,[...l].map(([M,H])=>k2.default.createElement(Q21,{key:"prop-"+M,propConfig:H,pointerToProp:t[M],obj:a})))),!m&&k2.default.createElement(K21,{style:{"--depth":r},depth:r,lastSubIsComposite:d},[...o,...i].map(([M,H])=>k2.default.createElement(mn,{key:"prop-"+M,propConfig:H,pointerToProp:t[M],obj:a,visualIndentation:r+1}))))}var lt,k2,CF,j21,LF,W21,_21,q21,N21,U21,K21,$21,X21,HF,zp,VF=x(()=>{G6();lt=y(require("@theatre/dataverse"));Kt();b0();k2=y(P());a1();sp();P6();G1();P1();up();s0();dF();Lo();dp();Eu();Ro();f1();CF=y(require("@theatre/dataverse"));Z8();Xt();j21=V.div`
  --step: 15px;
  --left-pad: 15px;
  ${x1};
  --right-width: 60%;
`,LF=V.div`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`,W21=V.div`
  padding-left: ${zn};
  display: flex;
  align-items: center;
  overflow: hidden;
  ${({isVectorProp:t})=>t?"width: calc(100% - var(--right-width))":""};
`,_21=V.div`
  flexshrink: 0;
`,q21=ur(V.div`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  ${()=>F0};
`),N21=V.span`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(${t=>t.isCollapsed?0:90}deg);
  color: #66686a;

  visibility: ${t=>!t.isVector&&t.isCollapsed||t.isVector&&!t.isCollapsed?"visible":"hidden"};

  ${LF}:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(${t=>t.isCollapsed?15:75}deg);
    color: #c0c4c9;
  }
`,U21=M0(.05,"#282b2f"),K21=V.div`
  /* background: ${({depth:t})=>w6(t*.03,U21)}; */
  /* padding: ${t=>t.lastSubIsComposite?0:"4px"} 0; */
`,$21=s4(t=>{let a=Object.entries(t.props);return a.length<=3&&a.every(([c,r])=>r.type==="number"&&["x","y","z"].includes(c))});X21=V.div`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`;HF=k2.default.memo(Y21),zp=new Map});function wF({isHighlighted:t}){return t==="self"?"#1857a4":t==="descendent"?"#0a2f5c":"initial"}var BF=x(()=>{});function yF({propConfig:t,pointerToProp:a,editingTools:c,children:r,isPropHighlightedD:e}){var h;let l=(h=t.label)!=null?h:s3((0,pp.getPointerParts)(a).path),[i,o]=d1(null),[n]=E1(o,{menuItems:c.contextMenuItems});return it.default.createElement(J21,{isHighlighted:e},n,it.default.createElement(t01,null,it.default.createElement(c01,null,c.controlIndicators),it.default.createElement(a01,{isHighlighted:e,ref:i,title:["obj","props",...(0,pp.getPointerParts)(a).path].join(".")},l)),it.default.createElement(r01,null,r))}var pp,it,J21,t01,a01,c01,r01,SF=x(()=>{pp=y(require("@theatre/dataverse"));s0();P1();C2();it=y(P());a1();G1();P6();dp();sp();BF();J21=ur(V.div`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  ${x1};

  /* background-color: ${wF}; */
`),t01=V.div`
  box-sizing: border-box;
  padding-left: ${zn};
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`,a01=ur(V.div`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  ${F0};
  &:hover {
    color: white;
  }
`),c01=V.div`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`,r01=V.div`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`});function e01({propConfig:t,pointerToProp:a,obj:c,SimpleEditorComponent:r}){let e=O9(a,c,t),l=(0,ot.useMemo)(()=>R9.getIsPropHighlightedD(D(S({},c.address),{pathToProp:(0,kF.getPointerParts)(a).path})),[a]);return ot.default.createElement(yF,S({},{editingTools:e,propConfig:t,pointerToProp:a,isPropHighlightedD:l}),ot.default.createElement(r,{editingTools:e,propConfig:t,value:e.value}))}var ot,kF,AF,RF=x(()=>{ot=y(P());Ro();SF();kF=y(require("@theatre/dataverse"));Lo();AF=ot.default.memo(e01)});var pr,l01,mn,up=x(()=>{pr=y(P());vp();VF();RF();l01=({propConfig:t,visualIndentation:a,pointerToProp:c,obj:r})=>{if(t.type==="compound")return pr.default.createElement(HF,{obj:r,visualIndentation:a,pointerToProp:c,propConfig:t});if(t.type==="enum")return pr.default.createElement(pr.default.Fragment,null);{let e=dn[t.type];return pr.default.createElement(AF,{SimpleEditorComponent:e,obj:r,visualIndentation:a,pointerToProp:c,propConfig:t})}},mn=l01});var nt,i01,o01,n01,bF,FF=x(()=>{nt=y(P());up();f1();fu();a1();i01=V.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`,o01=V.button`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`,n01=({objects:t})=>{let a=t[0],c=g1(a.template.configPointer),r=g1(a.template._temp_actionsPointer);return nt.default.createElement(nt.default.Fragment,null,nt.default.createElement(mn,{key:$c(a),obj:a,pointerToProp:a.propsP,propConfig:c,visualIndentation:1}),nt.default.createElement(i01,null,r&&Object.entries(r).map(([e,l])=>nt.default.createElement(o01,{key:e,onClick:()=>{l(a.publicApi)}},e))))},bF=n01});var h01,mr,mp=x(()=>{a1();h01=V.button`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: ${t=>t.disabled?"none":"pointer"};
  opacity: ${t=>t.disabled?.4:1};

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`,mr=h01});var IF=x(()=>{});var PF,GF=x(()=>{IF();PF=(t=21)=>{let a="",c=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=c[t]&63;r<36?a+=r.toString(36):r<62?a+=(r-26).toString(36).toUpperCase():r<63?a+="_":a+="-"}return a}});function fn(){return PF(16)}var fp=x(()=>{GF()});var TF,G0,EF,v01,OF,s01,ZF,Mp=x(()=>{TF=y(require("@theatre/dataverse"));P1();G0=y(P()),EF=(0,G0.createContext)(null),v01=0,OF=()=>{let t=(0,G0.useMemo)(()=>v01++,[]),{cur:a,set:c}=(0,G0.useContext)(EF),[r,e]=d1(!1),l=(0,G0.useCallback)((i,o)=>{c(i?t:-1,o)},[]);return(0,G0.useEffect)(()=>a.onStale(()=>{let i=a.getValue()===t;r.current!==i&&(r.current=i)}),[a,t]),[e,l]},s01=({children:t})=>{let a=(0,G0.useMemo)(()=>new TF.Atom(-1),[]),c=a.prism,r=(0,G0.useMemo)(()=>{let e;return(l,i)=>{let o=e!==void 0;e!==void 0&&(clearTimeout(e),e=void 0),i===0||o?a.set(l):e=setTimeout(()=>{a.set(l),e=void 0},i)}},[]);return G0.default.createElement(EF.Provider,{value:{cur:c,set:r}},t)},ZF=s01});function A3(t,a){let c=t.enabled!==!1,[r,e]=OF(),[l,i]=d1(null);(0,jF.useEffect)(()=>{if(!c)return;let h=l.current;if(!h)return;let v=()=>{var d;return e(!0,(d=t.enterDelay)!=null?d:400)},g=()=>{var d;return e(!1,(d=t.exitDelay)!=null?d:200)};return h.addEventListener("mouseenter",v),h.addEventListener("mouseleave",g),()=>{h.removeEventListener("mouseenter",v),h.removeEventListener("mouseleave",g)}},[l,c,t.enterDelay,t.exitDelay]);let o=(0,DF.useContext)(c3);return[c&&r&&i?(0,WF.createPortal)(Mn.default.createElement(vn,{children:a,target:i,onClickOutside:n0,verticalPlacement:t.verticalPlacement,verticalGap:t.verticalGap}),o):Mn.default.createElement(Mn.default.Fragment,null),l,r]}var DF,jF,Mn,WF,ht=x(()=>{P1();DF=y(P()),jF=y(P()),Mn=y(P());Qu();WF=y(L4());Mp();b6();b8()});var g01,f5,fr=x(()=>{a1();Y3();g01=V(T2)`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`,f5=g01});var T4,d01,z01,u01,p01,m01,_F,qF=x(()=>{f1();m1();T4=y(P());a1();fp();ht();fr();mp();d01=V.div`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`,z01=V.div`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`,u01=V.div`
  display: flex;
  gap: 8px;
`,p01=({projectId:t})=>{let a=g1(G().atomP.ephemeral.coreByProject[t].loadingState);return a&&a.type==="browserStateIsNotBasedOnDiskState"?T4.default.createElement(m01,{loadingState:a,projectId:t}):null},m01=({projectId:t,loadingState:a})=>{let c=()=>{G().transaction(({drafts:n,stateEditors:h})=>{h.coreByProject.historic.revisionHistory.add({projectId:t,revision:a.onDiskState.revisionHistory[0]}),h.coreByProject.historic.revisionHistory.add({projectId:t,revision:fn()}),n.ephemeral.coreByProject[t].loadingState={type:"loaded"}})},r=()=>{G().transaction(({drafts:n})=>{n.historic.coreByProject[t]=a.onDiskState,n.ephemeral.coreByProject[t].loadingState={type:"loaded"}})},[e,l]=A3({},()=>T4.default.createElement(f5,null,"The browser's state will override the disk state.")),[i,o]=A3({},()=>T4.default.createElement(f5,null,"The disk's state will override the browser's state."));return T4.default.createElement(d01,null,T4.default.createElement(z01,null,"Browser state is not based on disk state."," ",T4.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),T4.default.createElement(u01,null,e,T4.default.createElement(mr,{onClick:c,ref:l},"Use browser's state"),i,T4.default.createElement(mr,{onClick:r,ref:o},"Use disk state")))},_F=p01});var UF=L1((NF,xp)=>{(function(t){typeof NF=="object"&&typeof xp!="undefined"?xp.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).JSZip=t()})(function(){return function t(a,c,r){function e(o,n){if(!c[o]){if(!a[o]){var h=typeof require=="function"&&require;if(!n&&h)return h(o,!0);if(l)return l(o,!0);var v=new Error("Cannot find module '"+o+"'");throw v.code="MODULE_NOT_FOUND",v}var g=c[o]={exports:{}};a[o][0].call(g.exports,function(d){var s=a[o][1][d];return e(s||d)},g,g.exports,t,a,c,r)}return c[o].exports}for(var l=typeof require=="function"&&require,i=0;i<r.length;i++)e(r[i]);return e}({1:[function(t,a,c){"use strict";var r=t("./utils"),e=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(i){for(var o,n,h,v,g,d,s,u=[],p=0,z=i.length,m=z,f=r.getTypeOf(i)!=="string";p<i.length;)m=z-p,h=f?(o=i[p++],n=p<z?i[p++]:0,p<z?i[p++]:0):(o=i.charCodeAt(p++),n=p<z?i.charCodeAt(p++):0,p<z?i.charCodeAt(p++):0),v=o>>2,g=(3&o)<<4|n>>4,d=1<m?(15&n)<<2|h>>6:64,s=2<m?63&h:64,u.push(l.charAt(v)+l.charAt(g)+l.charAt(d)+l.charAt(s));return u.join("")},c.decode=function(i){var o,n,h,v,g,d,s=0,u=0,p="data:";if(i.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var z,m=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===l.charAt(64)&&m--,i.charAt(i.length-2)===l.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");for(z=e.uint8array?new Uint8Array(0|m):new Array(0|m);s<i.length;)o=l.indexOf(i.charAt(s++))<<2|(v=l.indexOf(i.charAt(s++)))>>4,n=(15&v)<<4|(g=l.indexOf(i.charAt(s++)))>>2,h=(3&g)<<6|(d=l.indexOf(i.charAt(s++))),z[u++]=o,g!==64&&(z[u++]=n),d!==64&&(z[u++]=h);return z}},{"./support":30,"./utils":32}],2:[function(t,a,c){"use strict";var r=t("./external"),e=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),i=t("./stream/DataLengthProbe");function o(n,h,v,g,d){this.compressedSize=n,this.uncompressedSize=h,this.crc32=v,this.compression=g,this.compressedContent=d}o.prototype={getContentWorker:function(){var n=new e(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),h=this;return n.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),n},getCompressedWorker:function(){return new e(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(n,h,v){return n.pipe(new l).pipe(new i("uncompressedSize")).pipe(h.compressWorker(v)).pipe(new i("compressedSize")).withStreamInfo("compression",h)},a.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,a,c){"use strict";var r=t("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},c.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,a,c){"use strict";var r=t("./utils"),e=function(){for(var l,i=[],o=0;o<256;o++){l=o;for(var n=0;n<8;n++)l=1&l?3988292384^l>>>1:l>>>1;i[o]=l}return i}();a.exports=function(l,i){return l!==void 0&&l.length?r.getTypeOf(l)!=="string"?function(o,n,h,v){var g=e,d=v+h;o^=-1;for(var s=v;s<d;s++)o=o>>>8^g[255&(o^n[s])];return-1^o}(0|i,l,l.length,0):function(o,n,h,v){var g=e,d=v+h;o^=-1;for(var s=v;s<d;s++)o=o>>>8^g[255&(o^n.charCodeAt(s))];return-1^o}(0|i,l,l.length,0):0}},{"./utils":32}],5:[function(t,a,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(t,a,c){"use strict";var r=null;r=typeof Promise!="undefined"?Promise:t("lie"),a.exports={Promise:r}},{lie:37}],7:[function(t,a,c){"use strict";var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",e=t("pako"),l=t("./utils"),i=t("./stream/GenericWorker"),o=r?"uint8array":"array";function n(h,v){i.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=v,this.meta={}}c.magic="\b\0",l.inherits(n,i),n.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(o,h.data),!1)},n.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},n.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},n.prototype._createPako=function(){this._pako=new e[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(v){h.push({data:v,meta:h.meta})}},c.compressWorker=function(h){return new n("Deflate",h)},c.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,a,c){"use strict";function r(g,d){var s,u="";for(s=0;s<d;s++)u+=String.fromCharCode(255&g),g>>>=8;return u}function e(g,d,s,u,p,z){var m,f,M=g.file,H=g.compression,w=z!==o.utf8encode,B=l.transformTo("string",z(M.name)),k=l.transformTo("string",o.utf8encode(M.name)),I=M.comment,j=l.transformTo("string",z(I)),b=l.transformTo("string",o.utf8encode(I)),T=k.length!==M.name.length,C=b.length!==I.length,O="",J="",F="",Q=M.dir,Z=M.date,t1={crc32:0,compressedSize:0,uncompressedSize:0};d&&!s||(t1.crc32=g.crc32,t1.compressedSize=g.compressedSize,t1.uncompressedSize=g.uncompressedSize);var _=0;d&&(_|=8),w||!T&&!C||(_|=2048);var W=0,v1=0;Q&&(W|=16),p==="UNIX"?(v1=798,W|=function(U,o1){var C1=U;return U||(C1=o1?16893:33204),(65535&C1)<<16}(M.unixPermissions,Q)):(v1=20,W|=function(U){return 63&(U||0)}(M.dosPermissions)),m=Z.getUTCHours(),m<<=6,m|=Z.getUTCMinutes(),m<<=5,m|=Z.getUTCSeconds()/2,f=Z.getUTCFullYear()-1980,f<<=4,f|=Z.getUTCMonth()+1,f<<=5,f|=Z.getUTCDate(),T&&(J=r(1,1)+r(n(B),4)+k,O+="up"+r(J.length,2)+J),C&&(F=r(1,1)+r(n(j),4)+b,O+="uc"+r(F.length,2)+F);var $="";return $+=`
\0`,$+=r(_,2),$+=H.magic,$+=r(m,2),$+=r(f,2),$+=r(t1.crc32,4),$+=r(t1.compressedSize,4),$+=r(t1.uncompressedSize,4),$+=r(B.length,2),$+=r(O.length,2),{fileRecord:h.LOCAL_FILE_HEADER+$+B+O,dirRecord:h.CENTRAL_FILE_HEADER+r(v1,2)+$+r(j.length,2)+"\0\0\0\0"+r(W,4)+r(u,4)+B+O+j}}var l=t("../utils"),i=t("../stream/GenericWorker"),o=t("../utf8"),n=t("../crc32"),h=t("../signature");function v(g,d,s,u){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=s,this.encodeFileName=u,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(v,i),v.prototype.push=function(g){var d=g.meta.percent||0,s=this.entriesCount,u=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,i.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:s?(d+100*(s-u-1))/s:100}}))},v.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var d=this.streamFiles&&!g.file.dir;if(d){var s=e(g,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(g){this.accumulate=!1;var d=this.streamFiles&&!g.file.dir,s=e(g,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),d)this.push({data:function(u){return h.DATA_DESCRIPTOR+r(u.crc32,4)+r(u.compressedSize,4)+r(u.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var g=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var s=this.bytesWritten-g,u=function(p,z,m,f,M){var H=l.transformTo("string",M(f));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(p,2)+r(p,2)+r(z,4)+r(m,4)+r(H.length,2)+H}(this.dirRecords.length,s,g,this.zipComment,this.encodeFileName);this.push({data:u,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(g){this._sources.push(g);var d=this;return g.on("data",function(s){d.processChunk(s)}),g.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),g.on("error",function(s){d.error(s)}),this},v.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(g){var d=this._sources;if(!i.prototype.error.call(this,g))return!1;for(var s=0;s<d.length;s++)try{d[s].error(g)}catch(u){}return!0},v.prototype.lock=function(){i.prototype.lock.call(this);for(var g=this._sources,d=0;d<g.length;d++)g[d].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,a,c){"use strict";var r=t("../compressions"),e=t("./ZipFileWorker");c.generateWorker=function(l,i,o){var n=new e(i.streamFiles,o,i.platform,i.encodeFileName),h=0;try{l.forEach(function(v,g){h++;var d=function(z,m){var f=z||m,M=r[f];if(!M)throw new Error(f+" is not a valid compression method !");return M}(g.options.compression,i.compression),s=g.options.compressionOptions||i.compressionOptions||{},u=g.dir,p=g.date;g._compressWorker(d,s).withStreamInfo("file",{name:v,dir:u,date:p,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(n)}),n.entriesCount=h}catch(v){n.error(v)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,a,c){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var l in this)typeof this[l]!="function"&&(e[l]=this[l]);return e}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(e,l){return new r().loadAsync(e,l)},r.external=t("./external"),a.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,a,c){"use strict";var r=t("./utils"),e=t("./external"),l=t("./utf8"),i=t("./zipEntries"),o=t("./stream/Crc32Probe"),n=t("./nodejsUtils");function h(v){return new e.Promise(function(g,d){var s=v.decompressed.getContentWorker().pipe(new o);s.on("error",function(u){d(u)}).on("end",function(){s.streamInfo.crc32!==v.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}a.exports=function(v,g){var d=this;return g=r.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),n.isNode&&n.isStream(v)?e.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",v,!0,g.optimizedBinaryString,g.base64).then(function(s){var u=new i(g);return u.load(s),u}).then(function(s){var u=[e.Promise.resolve(s)],p=s.files;if(g.checkCRC32)for(var z=0;z<p.length;z++)u.push(h(p[z]));return e.Promise.all(u)}).then(function(s){for(var u=s.shift(),p=u.files,z=0;z<p.length;z++){var m=p[z],f=m.fileNameStr,M=r.resolve(m.fileNameStr);d.file(M,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:g.createFolders}),m.dir||(d.file(M).unsafeOriginalName=f)}return u.zipComment.length&&(d.comment=u.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,a,c){"use strict";var r=t("../utils"),e=t("../stream/GenericWorker");function l(i,o){e.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(o)}r.inherits(l,e),l.prototype._bindStream=function(i){var o=this;(this._stream=i).pause(),i.on("data",function(n){o.push({data:n,meta:{percent:0}})}).on("error",function(n){o.isPaused?this.generatedError=n:o.error(n)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},l.prototype.pause=function(){return!!e.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!e.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,a,c){"use strict";var r=t("readable-stream").Readable;function e(l,i,o){r.call(this,i),this._helper=l;var n=this;l.on("data",function(h,v){n.push(h)||n._helper.pause(),o&&o(v)}).on("error",function(h){n.emit("error",h)}).on("end",function(){n.push(null)})}t("../utils").inherits(e,r),e.prototype._read=function(){this._helper.resume()},a.exports=e},{"../utils":32,"readable-stream":16}],14:[function(t,a,c){"use strict";a.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(r,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,e);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,e)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var e=new Buffer(r);return e.fill(0),e},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,a,c){"use strict";function r(M,H,w){var B,k=l.getTypeOf(H),I=l.extend(w||{},n);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(M=p(M)),I.createFolders&&(B=u(M))&&z.call(this,B,!0);var j=k==="string"&&I.binary===!1&&I.base64===!1;w&&w.binary!==void 0||(I.binary=!j),(H instanceof h&&H.uncompressedSize===0||I.dir||!H||H.length===0)&&(I.base64=!1,I.binary=!0,H="",I.compression="STORE",k="string");var b=null;b=H instanceof h||H instanceof i?H:d.isNode&&d.isStream(H)?new s(M,H):l.prepareContent(M,H,I.binary,I.optimizedBinaryString,I.base64);var T=new v(M,b,I);this.files[M]=T}var e=t("./utf8"),l=t("./utils"),i=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),n=t("./defaults"),h=t("./compressedObject"),v=t("./zipObject"),g=t("./generate"),d=t("./nodejsUtils"),s=t("./nodejs/NodejsStreamInputAdapter"),u=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var H=M.lastIndexOf("/");return 0<H?M.substring(0,H):""},p=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},z=function(M,H){return H=H!==void 0?H:n.createFolders,M=p(M),this.files[M]||r.call(this,M,null,{dir:!0,createFolders:H}),this.files[M]};function m(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var f={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var H,w,B;for(H in this.files)B=this.files[H],(w=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&M(w,B)},filter:function(M){var H=[];return this.forEach(function(w,B){M(w,B)&&H.push(B)}),H},file:function(M,H,w){if(arguments.length!==1)return M=this.root+M,r.call(this,M,H,w),this;if(m(M)){var B=M;return this.filter(function(I,j){return!j.dir&&B.test(I)})}var k=this.files[this.root+M];return k&&!k.dir?k:null},folder:function(M){if(!M)return this;if(m(M))return this.filter(function(k,I){return I.dir&&M.test(k)});var H=this.root+M,w=z.call(this,H),B=this.clone();return B.root=w.name,B},remove:function(M){M=this.root+M;var H=this.files[M];if(H||(M.slice(-1)!=="/"&&(M+="/"),H=this.files[M]),H&&!H.dir)delete this.files[M];else for(var w=this.filter(function(k,I){return I.name.slice(0,M.length)===M}),B=0;B<w.length;B++)delete this.files[w[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var H,w={};try{if((w=l.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:e.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");l.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var B=w.comment||this.comment||"";H=g.generateWorker(this,w,B)}catch(k){(H=new i("error")).error(k)}return new o(H,w.type||"string",w.mimeType)},generateAsync:function(M,H){return this.generateInternalStream(M).accumulate(H)},generateNodeStream:function(M,H){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(H)}};a.exports=f},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,a,c){"use strict";a.exports=t("stream")},{stream:void 0}],17:[function(t,a,c){"use strict";var r=t("./DataReader");function e(l){r.call(this,l);for(var i=0;i<this.data.length;i++)l[i]=255&l[i]}t("../utils").inherits(e,r),e.prototype.byteAt=function(l){return this.data[this.zero+l]},e.prototype.lastIndexOfSignature=function(l){for(var i=l.charCodeAt(0),o=l.charCodeAt(1),n=l.charCodeAt(2),h=l.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===i&&this.data[v+1]===o&&this.data[v+2]===n&&this.data[v+3]===h)return v-this.zero;return-1},e.prototype.readAndCheckSignature=function(l){var i=l.charCodeAt(0),o=l.charCodeAt(1),n=l.charCodeAt(2),h=l.charCodeAt(3),v=this.readData(4);return i===v[0]&&o===v[1]&&n===v[2]&&h===v[3]},e.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./DataReader":18}],18:[function(t,a,c){"use strict";var r=t("../utils");function e(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}e.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var i,o=0;for(this.checkOffset(l),i=this.index+l-1;i>=this.index;i--)o=(o<<8)+this.byteAt(i);return this.index+=l,o},readString:function(l){return r.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},a.exports=e},{"../utils":32}],19:[function(t,a,c){"use strict";var r=t("./Uint8ArrayReader");function e(l){r.call(this,l)}t("../utils").inherits(e,r),e.prototype.readData=function(l){this.checkOffset(l);var i=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,a,c){"use strict";var r=t("./DataReader");function e(l){r.call(this,l)}t("../utils").inherits(e,r),e.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},e.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},e.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},e.prototype.readData=function(l){this.checkOffset(l);var i=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./DataReader":18}],21:[function(t,a,c){"use strict";var r=t("./ArrayReader");function e(l){r.call(this,l)}t("../utils").inherits(e,r),e.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./ArrayReader":17}],22:[function(t,a,c){"use strict";var r=t("../utils"),e=t("../support"),l=t("./ArrayReader"),i=t("./StringReader"),o=t("./NodeBufferReader"),n=t("./Uint8ArrayReader");a.exports=function(h){var v=r.getTypeOf(h);return r.checkSupport(v),v!=="string"||e.uint8array?v==="nodebuffer"?new o(h):e.uint8array?new n(r.transformTo("uint8array",h)):new l(r.transformTo("array",h)):new i(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,a,c){"use strict";c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,a,c){"use strict";var r=t("./GenericWorker"),e=t("../utils");function l(i){r.call(this,"ConvertWorker to "+i),this.destType=i}e.inherits(l,r),l.prototype.processChunk=function(i){this.push({data:e.transformTo(this.destType,i.data),meta:i.meta})},a.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,a,c){"use strict";var r=t("./GenericWorker"),e=t("../crc32");function l(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,r),l.prototype.processChunk=function(i){this.streamInfo.crc32=e(i.data,this.streamInfo.crc32||0),this.push(i)},a.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,a,c){"use strict";var r=t("../utils"),e=t("./GenericWorker");function l(i){e.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}r.inherits(l,e),l.prototype.processChunk=function(i){if(i){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+i.data.length}e.prototype.processChunk.call(this,i)},a.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,a,c){"use strict";var r=t("../utils"),e=t("./GenericWorker");function l(i){e.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(n){o.dataIsReady=!0,o.data=n,o.max=n&&n.length||0,o.type=r.getTypeOf(n),o.isPaused||o._tickAndRepeat()},function(n){o.error(n)})}r.inherits(l,e),l.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!e.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,o);break;case"uint8array":i=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":i=this.data.slice(this.index,o)}return this.index=o,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,a,c){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,l){return this._listeners[e].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,l){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,l)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var l=this;return e.on("data",function(i){l.processChunk(i)}),e.on("end",function(){l.end()}),e.on("error",function(i){l.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,l){return this.extraStreamInfo[e]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},a.exports=r},{}],29:[function(t,a,c){"use strict";var r=t("../utils"),e=t("./ConvertWorker"),l=t("./GenericWorker"),i=t("../base64"),o=t("../support"),n=t("../external"),h=null;if(o.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function v(d,s){return new n.Promise(function(u,p){var z=[],m=d._internalType,f=d._outputType,M=d._mimeType;d.on("data",function(H,w){z.push(H),s&&s(w)}).on("error",function(H){z=[],p(H)}).on("end",function(){try{var H=function(w,B,k){switch(w){case"blob":return r.newBlob(r.transformTo("arraybuffer",B),k);case"base64":return i.encode(B);default:return r.transformTo(w,B)}}(f,function(w,B){var k,I=0,j=null,b=0;for(k=0;k<B.length;k++)b+=B[k].length;switch(w){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(j=new Uint8Array(b),k=0;k<B.length;k++)j.set(B[k],I),I+=B[k].length;return j;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+w+"'")}}(m,z),M);u(H)}catch(w){p(w)}z=[]}).resume()})}function g(d,s,u){var p=s;switch(s){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=s,this._mimeType=u,r.checkSupport(p),this._worker=d.pipe(new e(p)),d.lock()}catch(z){this._worker=new l("error"),this._worker.error(z)}}g.prototype={accumulate:function(d){return v(this,d)},on:function(d,s){var u=this;return d==="data"?this._worker.on(d,function(p){s.call(u,p.data,p.meta)}):this._worker.on(d,function(){r.delay(s,arguments,u)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},d)}},a.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,a,c){"use strict";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",c.nodebuffer=typeof Buffer!="undefined",c.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")c.blob=!1;else{var r=new ArrayBuffer(0);try{c.blob=new Blob([r],{type:"application/zip"}).size===0}catch(l){try{var e=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);e.append(r),c.blob=e.getBlob("application/zip").size===0}catch(i){c.blob=!1}}}try{c.nodestream=!!t("readable-stream").Readable}catch(l){c.nodestream=!1}},{"readable-stream":16}],31:[function(t,a,c){"use strict";for(var r=t("./utils"),e=t("./support"),l=t("./nodejsUtils"),i=t("./stream/GenericWorker"),o=new Array(256),n=0;n<256;n++)o[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;o[254]=o[254]=1;function h(){i.call(this,"utf-8 decode"),this.leftOver=null}function v(){i.call(this,"utf-8 encode")}c.utf8encode=function(g){return e.nodebuffer?l.newBufferFrom(g,"utf-8"):function(d){var s,u,p,z,m,f=d.length,M=0;for(z=0;z<f;z++)(64512&(u=d.charCodeAt(z)))==55296&&z+1<f&&(64512&(p=d.charCodeAt(z+1)))==56320&&(u=65536+(u-55296<<10)+(p-56320),z++),M+=u<128?1:u<2048?2:u<65536?3:4;for(s=e.uint8array?new Uint8Array(M):new Array(M),z=m=0;m<M;z++)(64512&(u=d.charCodeAt(z)))==55296&&z+1<f&&(64512&(p=d.charCodeAt(z+1)))==56320&&(u=65536+(u-55296<<10)+(p-56320),z++),u<128?s[m++]=u:(u<2048?s[m++]=192|u>>>6:(u<65536?s[m++]=224|u>>>12:(s[m++]=240|u>>>18,s[m++]=128|u>>>12&63),s[m++]=128|u>>>6&63),s[m++]=128|63&u);return s}(g)},c.utf8decode=function(g){return e.nodebuffer?r.transformTo("nodebuffer",g).toString("utf-8"):function(d){var s,u,p,z,m=d.length,f=new Array(2*m);for(s=u=0;s<m;)if((p=d[s++])<128)f[u++]=p;else if(4<(z=o[p]))f[u++]=65533,s+=z-1;else{for(p&=z===2?31:z===3?15:7;1<z&&s<m;)p=p<<6|63&d[s++],z--;1<z?f[u++]=65533:p<65536?f[u++]=p:(p-=65536,f[u++]=55296|p>>10&1023,f[u++]=56320|1023&p)}return f.length!==u&&(f.subarray?f=f.subarray(0,u):f.length=u),r.applyFromCharCode(f)}(g=r.transformTo(e.uint8array?"uint8array":"array",g))},r.inherits(h,i),h.prototype.processChunk=function(g){var d=r.transformTo(e.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(e.uint8array){var s=d;(d=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),d.set(s,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var u=function(z,m){var f;for((m=m||z.length)>z.length&&(m=z.length),f=m-1;0<=f&&(192&z[f])==128;)f--;return f<0||f===0?m:f+o[z[f]]>m?f:m}(d),p=d;u!==d.length&&(e.uint8array?(p=d.subarray(0,u),this.leftOver=d.subarray(u,d.length)):(p=d.slice(0,u),this.leftOver=d.slice(u,d.length))),this.push({data:c.utf8decode(p),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=h,r.inherits(v,i),v.prototype.processChunk=function(g){this.push({data:c.utf8encode(g.data),meta:g.meta})},c.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,a,c){"use strict";var r=t("./support"),e=t("./base64"),l=t("./nodejsUtils"),i=t("./external");function o(s){return s}function n(s,u){for(var p=0;p<s.length;++p)u[p]=255&s.charCodeAt(p);return u}t("setimmediate"),c.newBlob=function(s,u){c.checkSupport("blob");try{return new Blob([s],{type:u})}catch(z){try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(s),p.getBlob(u)}catch(m){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(s,u,p){var z=[],m=0,f=s.length;if(f<=p)return String.fromCharCode.apply(null,s);for(;m<f;)u==="array"||u==="nodebuffer"?z.push(String.fromCharCode.apply(null,s.slice(m,Math.min(m+p,f)))):z.push(String.fromCharCode.apply(null,s.subarray(m,Math.min(m+p,f)))),m+=p;return z.join("")},stringifyByChar:function(s){for(var u="",p=0;p<s.length;p++)u+=String.fromCharCode(s[p]);return u},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(s){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch(s){return!1}}()}};function v(s){var u=65536,p=c.getTypeOf(s),z=!0;if(p==="uint8array"?z=h.applyCanBeUsed.uint8array:p==="nodebuffer"&&(z=h.applyCanBeUsed.nodebuffer),z)for(;1<u;)try{return h.stringifyByChunk(s,p,u)}catch(m){u=Math.floor(u/2)}return h.stringifyByChar(s)}function g(s,u){for(var p=0;p<s.length;p++)u[p]=s[p];return u}c.applyFromCharCode=v;var d={};d.string={string:o,array:function(s){return n(s,new Array(s.length))},arraybuffer:function(s){return d.string.uint8array(s).buffer},uint8array:function(s){return n(s,new Uint8Array(s.length))},nodebuffer:function(s){return n(s,l.allocBuffer(s.length))}},d.array={string:v,array:o,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return l.newBufferFrom(s)}},d.arraybuffer={string:function(s){return v(new Uint8Array(s))},array:function(s){return g(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:o,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return l.newBufferFrom(new Uint8Array(s))}},d.uint8array={string:v,array:function(s){return g(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:o,nodebuffer:function(s){return l.newBufferFrom(s)}},d.nodebuffer={string:v,array:function(s){return g(s,new Array(s.length))},arraybuffer:function(s){return d.nodebuffer.uint8array(s).buffer},uint8array:function(s){return g(s,new Uint8Array(s.length))},nodebuffer:o},c.transformTo=function(s,u){if(u=u||"",!s)return u;c.checkSupport(s);var p=c.getTypeOf(u);return d[p][s](u)},c.resolve=function(s){for(var u=s.split("/"),p=[],z=0;z<u.length;z++){var m=u[z];m==="."||m===""&&z!==0&&z!==u.length-1||(m===".."?p.pop():p.push(m))}return p.join("/")},c.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":r.nodebuffer&&l.isBuffer(s)?"nodebuffer":r.uint8array&&s instanceof Uint8Array?"uint8array":r.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(s){if(!r[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(s){var u,p,z="";for(p=0;p<(s||"").length;p++)z+="\\x"+((u=s.charCodeAt(p))<16?"0":"")+u.toString(16).toUpperCase();return z},c.delay=function(s,u,p){setImmediate(function(){s.apply(p||null,u||[])})},c.inherits=function(s,u){function p(){}p.prototype=u.prototype,s.prototype=new p},c.extend=function(){var s,u,p={};for(s=0;s<arguments.length;s++)for(u in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],u)&&p[u]===void 0&&(p[u]=arguments[s][u]);return p},c.prepareContent=function(s,u,p,z,m){return i.Promise.resolve(u).then(function(f){return r.blob&&(f instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(f))!==-1)&&typeof FileReader!="undefined"?new i.Promise(function(M,H){var w=new FileReader;w.onload=function(B){M(B.target.result)},w.onerror=function(B){H(B.target.error)},w.readAsArrayBuffer(f)}):f}).then(function(f){var M=c.getTypeOf(f);return M?(M==="arraybuffer"?f=c.transformTo("uint8array",f):M==="string"&&(m?f=e.decode(f):p&&z!==!0&&(f=function(H){return n(H,r.uint8array?new Uint8Array(H.length):new Array(H.length))}(f))),f):i.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,a,c){"use strict";var r=t("./reader/readerFor"),e=t("./utils"),l=t("./signature"),i=t("./zipEntry"),o=t("./support");function n(h){this.files=[],this.loadOptions=h}n.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+e.pretty(v)+", expected "+e.pretty(h)+")")}},isSignature:function(h,v){var g=this.reader.index;this.reader.setIndex(h);var d=this.reader.readString(4)===v;return this.reader.setIndex(g),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),v=o.uint8array?"uint8array":"array",g=e.transformTo(v,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,v,g,d=this.zip64EndOfCentralSize-44;0<d;)h=this.reader.readInt(2),v=this.reader.readInt(4),g=this.reader.readData(v),this.zip64ExtensibleData[h]={id:h,length:v,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,v;for(h=0;h<this.files.length;h++)v=this.files[h],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var v=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===e.MAX_VALUE_16BITS||this.diskWithCentralDirStart===e.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===e.MAX_VALUE_16BITS||this.centralDirRecords===e.MAX_VALUE_16BITS||this.centralDirSize===e.MAX_VALUE_32BITS||this.centralDirOffset===e.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var d=v-g;if(0<d)this.isSignature(v,l.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(h){this.reader=r(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=n},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,a,c){"use strict";var r=t("./reader/readerFor"),e=t("./utils"),l=t("./compressedObject"),i=t("./crc32"),o=t("./utf8"),n=t("./compressions"),h=t("./support");function v(g,d){this.options=g,this.loadOptions=d}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var d,s;if(g.skip(22),this.fileNameLength=g.readInt(2),s=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(u){for(var p in n)if(Object.prototype.hasOwnProperty.call(n,p)&&n[p].magic===u)return n[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+e.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,d,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var d=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(d),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=r(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var d,s,u,p=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<p;)d=g.readInt(2),s=g.readInt(2),u=g.readData(s),this.extraFields[d]={id:d,length:s,value:u};g.setIndex(p)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var s=e.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var u=this.findExtraFieldUnicodeComment();if(u!==null)this.fileCommentStr=u;else{var p=e.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var d=r(g.value);return d.readInt(1)!==1||i(this.fileName)!==d.readInt(4)?null:o.utf8decode(d.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var d=r(g.value);return d.readInt(1)!==1||i(this.fileComment)!==d.readInt(4)?null:o.utf8decode(d.readData(g.length-5))}return null}},a.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,a,c){"use strict";function r(d,s,u){this.name=d,this.dir=u.dir,this.date=u.date,this.comment=u.comment,this.unixPermissions=u.unixPermissions,this.dosPermissions=u.dosPermissions,this._data=s,this._dataBinary=u.binary,this.options={compression:u.compression,compressionOptions:u.compressionOptions}}var e=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),i=t("./utf8"),o=t("./compressedObject"),n=t("./stream/GenericWorker");r.prototype={internalStream:function(d){var s=null,u="string";try{if(!d)throw new Error("No output type specified.");var p=(u=d.toLowerCase())==="string"||u==="text";u!=="binarystring"&&u!=="text"||(u="string"),s=this._decompressWorker();var z=!this._dataBinary;z&&!p&&(s=s.pipe(new i.Utf8EncodeWorker)),!z&&p&&(s=s.pipe(new i.Utf8DecodeWorker))}catch(m){(s=new n("error")).error(m)}return new e(s,u,"")},async:function(d,s){return this.internalStream(d).accumulate(s)},nodeStream:function(d,s){return this.internalStream(d||"nodebuffer").toNodejsStream(s)},_compressWorker:function(d,s){if(this._data instanceof o&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var u=this._decompressWorker();return this._dataBinary||(u=u.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(u,d,s)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof n?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)r.prototype[h[g]]=v;a.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,a,c){(function(r){"use strict";var e,l,i=r.MutationObserver||r.WebKitMutationObserver;if(i){var o=0,n=new i(d),h=r.document.createTextNode("");n.observe(h,{characterData:!0}),e=function(){h.data=o=++o%2}}else if(r.setImmediate||r.MessageChannel===void 0)e="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var s=r.document.createElement("script");s.onreadystatechange=function(){d(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},r.document.documentElement.appendChild(s)}:function(){setTimeout(d,0)};else{var v=new r.MessageChannel;v.port1.onmessage=d,e=function(){v.port2.postMessage(0)}}var g=[];function d(){var s,u;l=!0;for(var p=g.length;p;){for(u=g,g=[],s=-1;++s<p;)u[s]();p=g.length}l=!1}a.exports=function(s){g.push(s)!==1||l||e()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,a,c){"use strict";var r=t("immediate");function e(){}var l={},i=["REJECTED"],o=["FULFILLED"],n=["PENDING"];function h(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,p!==e&&s(this,p)}function v(p,z,m){this.promise=p,typeof z=="function"&&(this.onFulfilled=z,this.callFulfilled=this.otherCallFulfilled),typeof m=="function"&&(this.onRejected=m,this.callRejected=this.otherCallRejected)}function g(p,z,m){r(function(){var f;try{f=z(m)}catch(M){return l.reject(p,M)}f===p?l.reject(p,new TypeError("Cannot resolve promise with itself")):l.resolve(p,f)})}function d(p){var z=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof z=="function")return function(){z.apply(p,arguments)}}function s(p,z){var m=!1;function f(w){m||(m=!0,l.reject(p,w))}function M(w){m||(m=!0,l.resolve(p,w))}var H=u(function(){z(M,f)});H.status==="error"&&f(H.value)}function u(p,z){var m={};try{m.value=p(z),m.status="success"}catch(f){m.status="error",m.value=f}return m}(a.exports=h).prototype.finally=function(p){if(typeof p!="function")return this;var z=this.constructor;return this.then(function(m){return z.resolve(p()).then(function(){return m})},function(m){return z.resolve(p()).then(function(){throw m})})},h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,z){if(typeof p!="function"&&this.state===o||typeof z!="function"&&this.state===i)return this;var m=new this.constructor(e);return this.state!==n?g(m,this.state===o?p:z,this.outcome):this.queue.push(new v(m,p,z)),m},v.prototype.callFulfilled=function(p){l.resolve(this.promise,p)},v.prototype.otherCallFulfilled=function(p){g(this.promise,this.onFulfilled,p)},v.prototype.callRejected=function(p){l.reject(this.promise,p)},v.prototype.otherCallRejected=function(p){g(this.promise,this.onRejected,p)},l.resolve=function(p,z){var m=u(d,z);if(m.status==="error")return l.reject(p,m.value);var f=m.value;if(f)s(p,f);else{p.state=o,p.outcome=z;for(var M=-1,H=p.queue.length;++M<H;)p.queue[M].callFulfilled(z)}return p},l.reject=function(p,z){p.state=i,p.outcome=z;for(var m=-1,f=p.queue.length;++m<f;)p.queue[m].callRejected(z);return p},h.resolve=function(p){return p instanceof this?p:l.resolve(new this(e),p)},h.reject=function(p){var z=new this(e);return l.reject(z,p)},h.all=function(p){var z=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=p.length,f=!1;if(!m)return this.resolve([]);for(var M=new Array(m),H=0,w=-1,B=new this(e);++w<m;)k(p[w],w);return B;function k(I,j){z.resolve(I).then(function(b){M[j]=b,++H!==m||f||(f=!0,l.resolve(B,M))},function(b){f||(f=!0,l.reject(B,b))})}},h.race=function(p){var z=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=p.length,f=!1;if(!m)return this.resolve([]);for(var M=-1,H=new this(e);++M<m;)w=p[M],z.resolve(w).then(function(B){f||(f=!0,l.resolve(H,B))},function(B){f||(f=!0,l.reject(H,B))});var w;return H}},{immediate:36}],38:[function(t,a,c){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),a.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,a,c){"use strict";var r=t("./zlib/deflate"),e=t("./utils/common"),l=t("./utils/strings"),i=t("./zlib/messages"),o=t("./zlib/zstream"),n=Object.prototype.toString,h=0,v=-1,g=0,d=8;function s(p){if(!(this instanceof s))return new s(p);this.options=e.assign({level:v,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},p||{});var z=this.options;z.raw&&0<z.windowBits?z.windowBits=-z.windowBits:z.gzip&&0<z.windowBits&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var m=r.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(m!==h)throw new Error(i[m]);if(z.header&&r.deflateSetHeader(this.strm,z.header),z.dictionary){var f;if(f=typeof z.dictionary=="string"?l.string2buf(z.dictionary):n.call(z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(z.dictionary):z.dictionary,(m=r.deflateSetDictionary(this.strm,f))!==h)throw new Error(i[m]);this._dict_set=!0}}function u(p,z){var m=new s(z);if(m.push(p,!0),m.err)throw m.msg||i[m.err];return m.result}s.prototype.push=function(p,z){var m,f,M=this.strm,H=this.options.chunkSize;if(this.ended)return!1;f=z===~~z?z:z===!0?4:0,typeof p=="string"?M.input=l.string2buf(p):n.call(p)==="[object ArrayBuffer]"?M.input=new Uint8Array(p):M.input=p,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new e.Buf8(H),M.next_out=0,M.avail_out=H),(m=r.deflate(M,f))!==1&&m!==h)return this.onEnd(m),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||f!==4&&f!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(e.shrinkBuf(M.output,M.next_out))):this.onData(e.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&m!==1);return f===4?(m=r.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===h):f!==2||(this.onEnd(h),!(M.avail_out=0))},s.prototype.onData=function(p){this.chunks.push(p)},s.prototype.onEnd=function(p){p===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},c.Deflate=s,c.deflate=u,c.deflateRaw=function(p,z){return(z=z||{}).raw=!0,u(p,z)},c.gzip=function(p,z){return(z=z||{}).gzip=!0,u(p,z)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,a,c){"use strict";var r=t("./zlib/inflate"),e=t("./utils/common"),l=t("./utils/strings"),i=t("./zlib/constants"),o=t("./zlib/messages"),n=t("./zlib/zstream"),h=t("./zlib/gzheader"),v=Object.prototype.toString;function g(s){if(!(this instanceof g))return new g(s);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},s||{});var u=this.options;u.raw&&0<=u.windowBits&&u.windowBits<16&&(u.windowBits=-u.windowBits,u.windowBits===0&&(u.windowBits=-15)),!(0<=u.windowBits&&u.windowBits<16)||s&&s.windowBits||(u.windowBits+=32),15<u.windowBits&&u.windowBits<48&&(15&u.windowBits)==0&&(u.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var p=r.inflateInit2(this.strm,u.windowBits);if(p!==i.Z_OK)throw new Error(o[p]);this.header=new h,r.inflateGetHeader(this.strm,this.header)}function d(s,u){var p=new g(u);if(p.push(s,!0),p.err)throw p.msg||o[p.err];return p.result}g.prototype.push=function(s,u){var p,z,m,f,M,H,w=this.strm,B=this.options.chunkSize,k=this.options.dictionary,I=!1;if(this.ended)return!1;z=u===~~u?u:u===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof s=="string"?w.input=l.binstring2buf(s):v.call(s)==="[object ArrayBuffer]"?w.input=new Uint8Array(s):w.input=s,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new e.Buf8(B),w.next_out=0,w.avail_out=B),(p=r.inflate(w,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&k&&(H=typeof k=="string"?l.string2buf(k):v.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,p=r.inflateSetDictionary(this.strm,H)),p===i.Z_BUF_ERROR&&I===!0&&(p=i.Z_OK,I=!1),p!==i.Z_STREAM_END&&p!==i.Z_OK)return this.onEnd(p),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&p!==i.Z_STREAM_END&&(w.avail_in!==0||z!==i.Z_FINISH&&z!==i.Z_SYNC_FLUSH)||(this.options.to==="string"?(m=l.utf8border(w.output,w.next_out),f=w.next_out-m,M=l.buf2string(w.output,m),w.next_out=f,w.avail_out=B-f,f&&e.arraySet(w.output,w.output,m,f,0),this.onData(M)):this.onData(e.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(I=!0)}while((0<w.avail_in||w.avail_out===0)&&p!==i.Z_STREAM_END);return p===i.Z_STREAM_END&&(z=i.Z_FINISH),z===i.Z_FINISH?(p=r.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===i.Z_OK):z!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(w.avail_out=0))},g.prototype.onData=function(s){this.chunks.push(s)},g.prototype.onEnd=function(s){s===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},c.Inflate=g,c.inflate=d,c.inflateRaw=function(s,u){return(u=u||{}).raw=!0,d(s,u)},c.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,a,c){"use strict";var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";c.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var n=o.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var h in n)n.hasOwnProperty(h)&&(i[h]=n[h])}}return i},c.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var e={arraySet:function(i,o,n,h,v){if(o.subarray&&i.subarray)i.set(o.subarray(n,n+h),v);else for(var g=0;g<h;g++)i[v+g]=o[n+g]},flattenChunks:function(i){var o,n,h,v,g,d;for(o=h=0,n=i.length;o<n;o++)h+=i[o].length;for(d=new Uint8Array(h),o=v=0,n=i.length;o<n;o++)g=i[o],d.set(g,v),v+=g.length;return d}},l={arraySet:function(i,o,n,h,v){for(var g=0;g<h;g++)i[v+g]=o[n+g]},flattenChunks:function(i){return[].concat.apply([],i)}};c.setTyped=function(i){i?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,l))},c.setTyped(r)},{}],42:[function(t,a,c){"use strict";var r=t("./common"),e=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch(h){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){l=!1}for(var i=new r.Buf8(256),o=0;o<256;o++)i[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function n(h,v){if(v<65537&&(h.subarray&&l||!h.subarray&&e))return String.fromCharCode.apply(null,r.shrinkBuf(h,v));for(var g="",d=0;d<v;d++)g+=String.fromCharCode(h[d]);return g}i[254]=i[254]=1,c.string2buf=function(h){var v,g,d,s,u,p=h.length,z=0;for(s=0;s<p;s++)(64512&(g=h.charCodeAt(s)))==55296&&s+1<p&&(64512&(d=h.charCodeAt(s+1)))==56320&&(g=65536+(g-55296<<10)+(d-56320),s++),z+=g<128?1:g<2048?2:g<65536?3:4;for(v=new r.Buf8(z),s=u=0;u<z;s++)(64512&(g=h.charCodeAt(s)))==55296&&s+1<p&&(64512&(d=h.charCodeAt(s+1)))==56320&&(g=65536+(g-55296<<10)+(d-56320),s++),g<128?v[u++]=g:(g<2048?v[u++]=192|g>>>6:(g<65536?v[u++]=224|g>>>12:(v[u++]=240|g>>>18,v[u++]=128|g>>>12&63),v[u++]=128|g>>>6&63),v[u++]=128|63&g);return v},c.buf2binstring=function(h){return n(h,h.length)},c.binstring2buf=function(h){for(var v=new r.Buf8(h.length),g=0,d=v.length;g<d;g++)v[g]=h.charCodeAt(g);return v},c.buf2string=function(h,v){var g,d,s,u,p=v||h.length,z=new Array(2*p);for(g=d=0;g<p;)if((s=h[g++])<128)z[d++]=s;else if(4<(u=i[s]))z[d++]=65533,g+=u-1;else{for(s&=u===2?31:u===3?15:7;1<u&&g<p;)s=s<<6|63&h[g++],u--;1<u?z[d++]=65533:s<65536?z[d++]=s:(s-=65536,z[d++]=55296|s>>10&1023,z[d++]=56320|1023&s)}return n(z,d)},c.utf8border=function(h,v){var g;for((v=v||h.length)>h.length&&(v=h.length),g=v-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?v:g+i[h[g]]>v?g:v}},{"./common":41}],43:[function(t,a,c){"use strict";a.exports=function(r,e,l,i){for(var o=65535&r|0,n=r>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;n=n+(o=o+e[i++]|0)|0,--h;);o%=65521,n%=65521}return o|n<<16|0}},{}],44:[function(t,a,c){"use strict";a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,a,c){"use strict";var r=function(){for(var e,l=[],i=0;i<256;i++){e=i;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;l[i]=e}return l}();a.exports=function(e,l,i,o){var n=r,h=o+i;e^=-1;for(var v=o;v<h;v++)e=e>>>8^n[255&(e^l[v])];return-1^e}},{}],46:[function(t,a,c){"use strict";var r,e=t("../utils/common"),l=t("./trees"),i=t("./adler32"),o=t("./crc32"),n=t("./messages"),h=0,v=4,g=0,d=-2,s=-1,u=4,p=2,z=8,m=9,f=286,M=30,H=19,w=2*f+1,B=15,k=3,I=258,j=I+k+1,b=42,T=113,C=1,O=2,J=3,F=4;function Q(L,X){return L.msg=n[X],X}function Z(L){return(L<<1)-(4<L?9:0)}function t1(L){for(var X=L.length;0<=--X;)L[X]=0}function _(L){var X=L.state,K=X.pending;K>L.avail_out&&(K=L.avail_out),K!==0&&(e.arraySet(L.output,X.pending_buf,X.pending_out,K,L.next_out),L.next_out+=K,X.pending_out+=K,L.total_out+=K,L.avail_out-=K,X.pending-=K,X.pending===0&&(X.pending_out=0))}function W(L,X){l._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,X),L.block_start=L.strstart,_(L.strm)}function v1(L,X){L.pending_buf[L.pending++]=X}function $(L,X){L.pending_buf[L.pending++]=X>>>8&255,L.pending_buf[L.pending++]=255&X}function U(L,X){var K,R,A=L.max_chain_length,E=L.strstart,Y=L.prev_length,c1=L.nice_match,q=L.strstart>L.w_size-j?L.strstart-(L.w_size-j):0,i1=L.window,s1=L.w_mask,e1=L.prev,r1=L.strstart+I,w1=i1[E+Y-1],b1=i1[E+Y];L.prev_length>=L.good_match&&(A>>=2),c1>L.lookahead&&(c1=L.lookahead);do if(i1[(K=X)+Y]===b1&&i1[K+Y-1]===w1&&i1[K]===i1[E]&&i1[++K]===i1[E+1]){E+=2,K++;do;while(i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&i1[++E]===i1[++K]&&E<r1);if(R=I-(r1-E),E=r1-I,Y<R){if(L.match_start=X,c1<=(Y=R))break;w1=i1[E+Y-1],b1=i1[E+Y]}}while((X=e1[X&s1])>q&&--A!=0);return Y<=L.lookahead?Y:L.lookahead}function o1(L){var X,K,R,A,E,Y,c1,q,i1,s1,e1=L.w_size;do{if(A=L.window_size-L.lookahead-L.strstart,L.strstart>=e1+(e1-j)){for(e.arraySet(L.window,L.window,e1,e1,0),L.match_start-=e1,L.strstart-=e1,L.block_start-=e1,X=K=L.hash_size;R=L.head[--X],L.head[X]=e1<=R?R-e1:0,--K;);for(X=K=e1;R=L.prev[--X],L.prev[X]=e1<=R?R-e1:0,--K;);A+=e1}if(L.strm.avail_in===0)break;if(Y=L.strm,c1=L.window,q=L.strstart+L.lookahead,i1=A,s1=void 0,s1=Y.avail_in,i1<s1&&(s1=i1),K=s1===0?0:(Y.avail_in-=s1,e.arraySet(c1,Y.input,Y.next_in,s1,q),Y.state.wrap===1?Y.adler=i(Y.adler,c1,s1,q):Y.state.wrap===2&&(Y.adler=o(Y.adler,c1,s1,q)),Y.next_in+=s1,Y.total_in+=s1,s1),L.lookahead+=K,L.lookahead+L.insert>=k)for(E=L.strstart-L.insert,L.ins_h=L.window[E],L.ins_h=(L.ins_h<<L.hash_shift^L.window[E+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[E+k-1])&L.hash_mask,L.prev[E&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=E,E++,L.insert--,!(L.lookahead+L.insert<k)););}while(L.lookahead<j&&L.strm.avail_in!==0)}function C1(L,X){for(var K,R;;){if(L.lookahead<j){if(o1(L),L.lookahead<j&&X===h)return C;if(L.lookahead===0)break}if(K=0,L.lookahead>=k&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,K=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),K!==0&&L.strstart-K<=L.w_size-j&&(L.match_length=U(L,K)),L.match_length>=k)if(R=l._tr_tally(L,L.strstart-L.match_start,L.match_length-k),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=k){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,K=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else R=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(R&&(W(L,!1),L.strm.avail_out===0))return C}return L.insert=L.strstart<k-1?L.strstart:k-1,X===v?(W(L,!0),L.strm.avail_out===0?J:F):L.last_lit&&(W(L,!1),L.strm.avail_out===0)?C:O}function N(L,X){for(var K,R,A;;){if(L.lookahead<j){if(o1(L),L.lookahead<j&&X===h)return C;if(L.lookahead===0)break}if(K=0,L.lookahead>=k&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,K=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=k-1,K!==0&&L.prev_length<L.max_lazy_match&&L.strstart-K<=L.w_size-j&&(L.match_length=U(L,K),L.match_length<=5&&(L.strategy===1||L.match_length===k&&4096<L.strstart-L.match_start)&&(L.match_length=k-1)),L.prev_length>=k&&L.match_length<=L.prev_length){for(A=L.strstart+L.lookahead-k,R=l._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-k),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=A&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,K=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=k-1,L.strstart++,R&&(W(L,!1),L.strm.avail_out===0))return C}else if(L.match_available){if((R=l._tr_tally(L,0,L.window[L.strstart-1]))&&W(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return C}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(R=l._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<k-1?L.strstart:k-1,X===v?(W(L,!0),L.strm.avail_out===0?J:F):L.last_lit&&(W(L,!1),L.strm.avail_out===0)?C:O}function M1(L,X,K,R,A){this.good_length=L,this.max_lazy=X,this.nice_length=K,this.max_chain=R,this.func=A}function l1(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(2*w),this.dyn_dtree=new e.Buf16(2*(2*M+1)),this.bl_tree=new e.Buf16(2*(2*H+1)),t1(this.dyn_ltree),t1(this.dyn_dtree),t1(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(B+1),this.heap=new e.Buf16(2*f+1),t1(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*f+1),t1(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y1(L){var X;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=p,(X=L.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?b:T,L.adler=X.wrap===2?0:1,X.last_flush=h,l._tr_init(X),g):Q(L,d)}function k1(L){var X=y1(L);return X===g&&function(K){K.window_size=2*K.w_size,t1(K.head),K.max_lazy_match=r[K.level].max_lazy,K.good_match=r[K.level].good_length,K.nice_match=r[K.level].nice_length,K.max_chain_length=r[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=k-1,K.match_available=0,K.ins_h=0}(L.state),X}function A1(L,X,K,R,A,E){if(!L)return d;var Y=1;if(X===s&&(X=6),R<0?(Y=0,R=-R):15<R&&(Y=2,R-=16),A<1||m<A||K!==z||R<8||15<R||X<0||9<X||E<0||u<E)return Q(L,d);R===8&&(R=9);var c1=new l1;return(L.state=c1).strm=L,c1.wrap=Y,c1.gzhead=null,c1.w_bits=R,c1.w_size=1<<c1.w_bits,c1.w_mask=c1.w_size-1,c1.hash_bits=A+7,c1.hash_size=1<<c1.hash_bits,c1.hash_mask=c1.hash_size-1,c1.hash_shift=~~((c1.hash_bits+k-1)/k),c1.window=new e.Buf8(2*c1.w_size),c1.head=new e.Buf16(c1.hash_size),c1.prev=new e.Buf16(c1.w_size),c1.lit_bufsize=1<<A+6,c1.pending_buf_size=4*c1.lit_bufsize,c1.pending_buf=new e.Buf8(c1.pending_buf_size),c1.d_buf=1*c1.lit_bufsize,c1.l_buf=3*c1.lit_bufsize,c1.level=X,c1.strategy=E,c1.method=K,k1(L)}r=[new M1(0,0,0,0,function(L,X){var K=65535;for(K>L.pending_buf_size-5&&(K=L.pending_buf_size-5);;){if(L.lookahead<=1){if(o1(L),L.lookahead===0&&X===h)return C;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var R=L.block_start+K;if((L.strstart===0||L.strstart>=R)&&(L.lookahead=L.strstart-R,L.strstart=R,W(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-j&&(W(L,!1),L.strm.avail_out===0))return C}return L.insert=0,X===v?(W(L,!0),L.strm.avail_out===0?J:F):(L.strstart>L.block_start&&(W(L,!1),L.strm.avail_out),C)}),new M1(4,4,8,4,C1),new M1(4,5,16,8,C1),new M1(4,6,32,32,C1),new M1(4,4,16,16,N),new M1(8,16,32,32,N),new M1(8,16,128,128,N),new M1(8,32,128,256,N),new M1(32,128,258,1024,N),new M1(32,258,258,4096,N)],c.deflateInit=function(L,X){return A1(L,X,z,15,8,0)},c.deflateInit2=A1,c.deflateReset=k1,c.deflateResetKeep=y1,c.deflateSetHeader=function(L,X){return L&&L.state?L.state.wrap!==2?d:(L.state.gzhead=X,g):d},c.deflate=function(L,X){var K,R,A,E;if(!L||!L.state||5<X||X<0)return L?Q(L,d):d;if(R=L.state,!L.output||!L.input&&L.avail_in!==0||R.status===666&&X!==v)return Q(L,L.avail_out===0?-5:d);if(R.strm=L,K=R.last_flush,R.last_flush=X,R.status===b)if(R.wrap===2)L.adler=0,v1(R,31),v1(R,139),v1(R,8),R.gzhead?(v1(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),v1(R,255&R.gzhead.time),v1(R,R.gzhead.time>>8&255),v1(R,R.gzhead.time>>16&255),v1(R,R.gzhead.time>>24&255),v1(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),v1(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(v1(R,255&R.gzhead.extra.length),v1(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(L.adler=o(L.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(v1(R,0),v1(R,0),v1(R,0),v1(R,0),v1(R,0),v1(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),v1(R,3),R.status=T);else{var Y=z+(R.w_bits-8<<4)<<8;Y|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(Y|=32),Y+=31-Y%31,R.status=T,$(R,Y),R.strstart!==0&&($(R,L.adler>>>16),$(R,65535&L.adler)),L.adler=1}if(R.status===69)if(R.gzhead.extra){for(A=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>A&&(L.adler=o(L.adler,R.pending_buf,R.pending-A,A)),_(L),A=R.pending,R.pending!==R.pending_buf_size));)v1(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>A&&(L.adler=o(L.adler,R.pending_buf,R.pending-A,A)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){A=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>A&&(L.adler=o(L.adler,R.pending_buf,R.pending-A,A)),_(L),A=R.pending,R.pending===R.pending_buf_size)){E=1;break}E=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,v1(R,E)}while(E!==0);R.gzhead.hcrc&&R.pending>A&&(L.adler=o(L.adler,R.pending_buf,R.pending-A,A)),E===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){A=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>A&&(L.adler=o(L.adler,R.pending_buf,R.pending-A,A)),_(L),A=R.pending,R.pending===R.pending_buf_size)){E=1;break}E=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,v1(R,E)}while(E!==0);R.gzhead.hcrc&&R.pending>A&&(L.adler=o(L.adler,R.pending_buf,R.pending-A,A)),E===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&_(L),R.pending+2<=R.pending_buf_size&&(v1(R,255&L.adler),v1(R,L.adler>>8&255),L.adler=0,R.status=T)):R.status=T),R.pending!==0){if(_(L),L.avail_out===0)return R.last_flush=-1,g}else if(L.avail_in===0&&Z(X)<=Z(K)&&X!==v)return Q(L,-5);if(R.status===666&&L.avail_in!==0)return Q(L,-5);if(L.avail_in!==0||R.lookahead!==0||X!==h&&R.status!==666){var c1=R.strategy===2?function(q,i1){for(var s1;;){if(q.lookahead===0&&(o1(q),q.lookahead===0)){if(i1===h)return C;break}if(q.match_length=0,s1=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,s1&&(W(q,!1),q.strm.avail_out===0))return C}return q.insert=0,i1===v?(W(q,!0),q.strm.avail_out===0?J:F):q.last_lit&&(W(q,!1),q.strm.avail_out===0)?C:O}(R,X):R.strategy===3?function(q,i1){for(var s1,e1,r1,w1,b1=q.window;;){if(q.lookahead<=I){if(o1(q),q.lookahead<=I&&i1===h)return C;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=k&&0<q.strstart&&(e1=b1[r1=q.strstart-1])===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]){w1=q.strstart+I;do;while(e1===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]&&e1===b1[++r1]&&r1<w1);q.match_length=I-(w1-r1),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=k?(s1=l._tr_tally(q,1,q.match_length-k),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(s1=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),s1&&(W(q,!1),q.strm.avail_out===0))return C}return q.insert=0,i1===v?(W(q,!0),q.strm.avail_out===0?J:F):q.last_lit&&(W(q,!1),q.strm.avail_out===0)?C:O}(R,X):r[R.level].func(R,X);if(c1!==J&&c1!==F||(R.status=666),c1===C||c1===J)return L.avail_out===0&&(R.last_flush=-1),g;if(c1===O&&(X===1?l._tr_align(R):X!==5&&(l._tr_stored_block(R,0,0,!1),X===3&&(t1(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),_(L),L.avail_out===0))return R.last_flush=-1,g}return X!==v?g:R.wrap<=0?1:(R.wrap===2?(v1(R,255&L.adler),v1(R,L.adler>>8&255),v1(R,L.adler>>16&255),v1(R,L.adler>>24&255),v1(R,255&L.total_in),v1(R,L.total_in>>8&255),v1(R,L.total_in>>16&255),v1(R,L.total_in>>24&255)):($(R,L.adler>>>16),$(R,65535&L.adler)),_(L),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?g:1)},c.deflateEnd=function(L){var X;return L&&L.state?(X=L.state.status)!==b&&X!==69&&X!==73&&X!==91&&X!==103&&X!==T&&X!==666?Q(L,d):(L.state=null,X===T?Q(L,-3):g):d},c.deflateSetDictionary=function(L,X){var K,R,A,E,Y,c1,q,i1,s1=X.length;if(!L||!L.state||(E=(K=L.state).wrap)===2||E===1&&K.status!==b||K.lookahead)return d;for(E===1&&(L.adler=i(L.adler,X,s1,0)),K.wrap=0,s1>=K.w_size&&(E===0&&(t1(K.head),K.strstart=0,K.block_start=0,K.insert=0),i1=new e.Buf8(K.w_size),e.arraySet(i1,X,s1-K.w_size,K.w_size,0),X=i1,s1=K.w_size),Y=L.avail_in,c1=L.next_in,q=L.input,L.avail_in=s1,L.next_in=0,L.input=X,o1(K);K.lookahead>=k;){for(R=K.strstart,A=K.lookahead-(k-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[R+k-1])&K.hash_mask,K.prev[R&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=R,R++,--A;);K.strstart=R,K.lookahead=k-1,o1(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=k-1,K.match_available=0,L.next_in=c1,L.input=q,L.avail_in=Y,K.wrap=E,g},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,a,c){"use strict";a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,a,c){"use strict";a.exports=function(r,e){var l,i,o,n,h,v,g,d,s,u,p,z,m,f,M,H,w,B,k,I,j,b,T,C,O;l=r.state,i=r.next_in,C=r.input,o=i+(r.avail_in-5),n=r.next_out,O=r.output,h=n-(e-r.avail_out),v=n+(r.avail_out-257),g=l.dmax,d=l.wsize,s=l.whave,u=l.wnext,p=l.window,z=l.hold,m=l.bits,f=l.lencode,M=l.distcode,H=(1<<l.lenbits)-1,w=(1<<l.distbits)-1;t:do{m<15&&(z+=C[i++]<<m,m+=8,z+=C[i++]<<m,m+=8),B=f[z&H];a:for(;;){if(z>>>=k=B>>>24,m-=k,(k=B>>>16&255)==0)O[n++]=65535&B;else{if(!(16&k)){if((64&k)==0){B=f[(65535&B)+(z&(1<<k)-1)];continue a}if(32&k){l.mode=12;break t}r.msg="invalid literal/length code",l.mode=30;break t}I=65535&B,(k&=15)&&(m<k&&(z+=C[i++]<<m,m+=8),I+=z&(1<<k)-1,z>>>=k,m-=k),m<15&&(z+=C[i++]<<m,m+=8,z+=C[i++]<<m,m+=8),B=M[z&w];c:for(;;){if(z>>>=k=B>>>24,m-=k,!(16&(k=B>>>16&255))){if((64&k)==0){B=M[(65535&B)+(z&(1<<k)-1)];continue c}r.msg="invalid distance code",l.mode=30;break t}if(j=65535&B,m<(k&=15)&&(z+=C[i++]<<m,(m+=8)<k&&(z+=C[i++]<<m,m+=8)),g<(j+=z&(1<<k)-1)){r.msg="invalid distance too far back",l.mode=30;break t}if(z>>>=k,m-=k,(k=n-h)<j){if(s<(k=j-k)&&l.sane){r.msg="invalid distance too far back",l.mode=30;break t}if(T=p,(b=0)===u){if(b+=d-k,k<I){for(I-=k;O[n++]=p[b++],--k;);b=n-j,T=O}}else if(u<k){if(b+=d+u-k,(k-=u)<I){for(I-=k;O[n++]=p[b++],--k;);if(b=0,u<I){for(I-=k=u;O[n++]=p[b++],--k;);b=n-j,T=O}}}else if(b+=u-k,k<I){for(I-=k;O[n++]=p[b++],--k;);b=n-j,T=O}for(;2<I;)O[n++]=T[b++],O[n++]=T[b++],O[n++]=T[b++],I-=3;I&&(O[n++]=T[b++],1<I&&(O[n++]=T[b++]))}else{for(b=n-j;O[n++]=O[b++],O[n++]=O[b++],O[n++]=O[b++],2<(I-=3););I&&(O[n++]=O[b++],1<I&&(O[n++]=O[b++]))}break}}break}}while(i<o&&n<v);i-=I=m>>3,z&=(1<<(m-=I<<3))-1,r.next_in=i,r.next_out=n,r.avail_in=i<o?o-i+5:5-(i-o),r.avail_out=n<v?v-n+257:257-(n-v),l.hold=z,l.bits=m}},{}],49:[function(t,a,c){"use strict";var r=t("../utils/common"),e=t("./adler32"),l=t("./crc32"),i=t("./inffast"),o=t("./inftrees"),n=1,h=2,v=0,g=-2,d=1,s=852,u=592;function p(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(b){var T;return b&&b.state?(T=b.state,b.total_in=b.total_out=T.total=0,b.msg="",T.wrap&&(b.adler=1&T.wrap),T.mode=d,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new r.Buf32(s),T.distcode=T.distdyn=new r.Buf32(u),T.sane=1,T.back=-1,v):g}function f(b){var T;return b&&b.state?((T=b.state).wsize=0,T.whave=0,T.wnext=0,m(b)):g}function M(b,T){var C,O;return b&&b.state?(O=b.state,T<0?(C=0,T=-T):(C=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?g:(O.window!==null&&O.wbits!==T&&(O.window=null),O.wrap=C,O.wbits=T,f(b))):g}function H(b,T){var C,O;return b?(O=new z,(b.state=O).window=null,(C=M(b,T))!==v&&(b.state=null),C):g}var w,B,k=!0;function I(b){if(k){var T;for(w=new r.Buf32(512),B=new r.Buf32(32),T=0;T<144;)b.lens[T++]=8;for(;T<256;)b.lens[T++]=9;for(;T<280;)b.lens[T++]=7;for(;T<288;)b.lens[T++]=8;for(o(n,b.lens,0,288,w,0,b.work,{bits:9}),T=0;T<32;)b.lens[T++]=5;o(h,b.lens,0,32,B,0,b.work,{bits:5}),k=!1}b.lencode=w,b.lenbits=9,b.distcode=B,b.distbits=5}function j(b,T,C,O){var J,F=b.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new r.Buf8(F.wsize)),O>=F.wsize?(r.arraySet(F.window,T,C-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(O<(J=F.wsize-F.wnext)&&(J=O),r.arraySet(F.window,T,C-O,J,F.wnext),(O-=J)?(r.arraySet(F.window,T,C-O,O,0),F.wnext=O,F.whave=F.wsize):(F.wnext+=J,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=J))),0}c.inflateReset=f,c.inflateReset2=M,c.inflateResetKeep=m,c.inflateInit=function(b){return H(b,15)},c.inflateInit2=H,c.inflate=function(b,T){var C,O,J,F,Q,Z,t1,_,W,v1,$,U,o1,C1,N,M1,l1,y1,k1,A1,L,X,K,R,A=0,E=new r.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return g;(C=b.state).mode===12&&(C.mode=13),Q=b.next_out,J=b.output,t1=b.avail_out,F=b.next_in,O=b.input,Z=b.avail_in,_=C.hold,W=C.bits,v1=Z,$=t1,X=v;t:for(;;)switch(C.mode){case d:if(C.wrap===0){C.mode=13;break}for(;W<16;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(2&C.wrap&&_===35615){E[C.check=0]=255&_,E[1]=_>>>8&255,C.check=l(C.check,E,2,0),W=_=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&_)<<8)+(_>>8))%31){b.msg="incorrect header check",C.mode=30;break}if((15&_)!=8){b.msg="unknown compression method",C.mode=30;break}if(W-=4,L=8+(15&(_>>>=4)),C.wbits===0)C.wbits=L;else if(L>C.wbits){b.msg="invalid window size",C.mode=30;break}C.dmax=1<<L,b.adler=C.check=1,C.mode=512&_?10:12,W=_=0;break;case 2:for(;W<16;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(C.flags=_,(255&C.flags)!=8){b.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){b.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=_>>8&1),512&C.flags&&(E[0]=255&_,E[1]=_>>>8&255,C.check=l(C.check,E,2,0)),W=_=0,C.mode=3;case 3:for(;W<32;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}C.head&&(C.head.time=_),512&C.flags&&(E[0]=255&_,E[1]=_>>>8&255,E[2]=_>>>16&255,E[3]=_>>>24&255,C.check=l(C.check,E,4,0)),W=_=0,C.mode=4;case 4:for(;W<16;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}C.head&&(C.head.xflags=255&_,C.head.os=_>>8),512&C.flags&&(E[0]=255&_,E[1]=_>>>8&255,C.check=l(C.check,E,2,0)),W=_=0,C.mode=5;case 5:if(1024&C.flags){for(;W<16;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}C.length=_,C.head&&(C.head.extra_len=_),512&C.flags&&(E[0]=255&_,E[1]=_>>>8&255,C.check=l(C.check,E,2,0)),W=_=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Z<(U=C.length)&&(U=Z),U&&(C.head&&(L=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),r.arraySet(C.head.extra,O,F,U,L)),512&C.flags&&(C.check=l(C.check,O,U,F)),Z-=U,F+=U,C.length-=U),C.length))break t;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Z===0)break t;for(U=0;L=O[F+U++],C.head&&L&&C.length<65536&&(C.head.name+=String.fromCharCode(L)),L&&U<Z;);if(512&C.flags&&(C.check=l(C.check,O,U,F)),Z-=U,F+=U,L)break t}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Z===0)break t;for(U=0;L=O[F+U++],C.head&&L&&C.length<65536&&(C.head.comment+=String.fromCharCode(L)),L&&U<Z;);if(512&C.flags&&(C.check=l(C.check,O,U,F)),Z-=U,F+=U,L)break t}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;W<16;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(_!==(65535&C.check)){b.msg="header crc mismatch",C.mode=30;break}W=_=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),b.adler=C.check=0,C.mode=12;break;case 10:for(;W<32;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}b.adler=C.check=p(_),W=_=0,C.mode=11;case 11:if(C.havedict===0)return b.next_out=Q,b.avail_out=t1,b.next_in=F,b.avail_in=Z,C.hold=_,C.bits=W,2;b.adler=C.check=1,C.mode=12;case 12:if(T===5||T===6)break t;case 13:if(C.last){_>>>=7&W,W-=7&W,C.mode=27;break}for(;W<3;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}switch(C.last=1&_,W-=1,3&(_>>>=1)){case 0:C.mode=14;break;case 1:if(I(C),C.mode=20,T!==6)break;_>>>=2,W-=2;break t;case 2:C.mode=17;break;case 3:b.msg="invalid block type",C.mode=30}_>>>=2,W-=2;break;case 14:for(_>>>=7&W,W-=7&W;W<32;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if((65535&_)!=(_>>>16^65535)){b.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&_,W=_=0,C.mode=15,T===6)break t;case 15:C.mode=16;case 16:if(U=C.length){if(Z<U&&(U=Z),t1<U&&(U=t1),U===0)break t;r.arraySet(J,O,F,U,Q),Z-=U,F+=U,t1-=U,Q+=U,C.length-=U;break}C.mode=12;break;case 17:for(;W<14;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(C.nlen=257+(31&_),_>>>=5,W-=5,C.ndist=1+(31&_),_>>>=5,W-=5,C.ncode=4+(15&_),_>>>=4,W-=4,286<C.nlen||30<C.ndist){b.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;W<3;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}C.lens[Y[C.have++]]=7&_,_>>>=3,W-=3}for(;C.have<19;)C.lens[Y[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,K={bits:C.lenbits},X=o(0,C.lens,0,19,C.lencode,0,C.work,K),C.lenbits=K.bits,X){b.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;M1=(A=C.lencode[_&(1<<C.lenbits)-1])>>>16&255,l1=65535&A,!((N=A>>>24)<=W);){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(l1<16)_>>>=N,W-=N,C.lens[C.have++]=l1;else{if(l1===16){for(R=N+2;W<R;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(_>>>=N,W-=N,C.have===0){b.msg="invalid bit length repeat",C.mode=30;break}L=C.lens[C.have-1],U=3+(3&_),_>>>=2,W-=2}else if(l1===17){for(R=N+3;W<R;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}W-=N,L=0,U=3+(7&(_>>>=N)),_>>>=3,W-=3}else{for(R=N+7;W<R;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}W-=N,L=0,U=11+(127&(_>>>=N)),_>>>=7,W-=7}if(C.have+U>C.nlen+C.ndist){b.msg="invalid bit length repeat",C.mode=30;break}for(;U--;)C.lens[C.have++]=L}}if(C.mode===30)break;if(C.lens[256]===0){b.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,K={bits:C.lenbits},X=o(n,C.lens,0,C.nlen,C.lencode,0,C.work,K),C.lenbits=K.bits,X){b.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,K={bits:C.distbits},X=o(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,K),C.distbits=K.bits,X){b.msg="invalid distances set",C.mode=30;break}if(C.mode=20,T===6)break t;case 20:C.mode=21;case 21:if(6<=Z&&258<=t1){b.next_out=Q,b.avail_out=t1,b.next_in=F,b.avail_in=Z,C.hold=_,C.bits=W,i(b,$),Q=b.next_out,J=b.output,t1=b.avail_out,F=b.next_in,O=b.input,Z=b.avail_in,_=C.hold,W=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;M1=(A=C.lencode[_&(1<<C.lenbits)-1])>>>16&255,l1=65535&A,!((N=A>>>24)<=W);){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(M1&&(240&M1)==0){for(y1=N,k1=M1,A1=l1;M1=(A=C.lencode[A1+((_&(1<<y1+k1)-1)>>y1)])>>>16&255,l1=65535&A,!(y1+(N=A>>>24)<=W);){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}_>>>=y1,W-=y1,C.back+=y1}if(_>>>=N,W-=N,C.back+=N,C.length=l1,M1===0){C.mode=26;break}if(32&M1){C.back=-1,C.mode=12;break}if(64&M1){b.msg="invalid literal/length code",C.mode=30;break}C.extra=15&M1,C.mode=22;case 22:if(C.extra){for(R=C.extra;W<R;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}C.length+=_&(1<<C.extra)-1,_>>>=C.extra,W-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;M1=(A=C.distcode[_&(1<<C.distbits)-1])>>>16&255,l1=65535&A,!((N=A>>>24)<=W);){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if((240&M1)==0){for(y1=N,k1=M1,A1=l1;M1=(A=C.distcode[A1+((_&(1<<y1+k1)-1)>>y1)])>>>16&255,l1=65535&A,!(y1+(N=A>>>24)<=W);){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}_>>>=y1,W-=y1,C.back+=y1}if(_>>>=N,W-=N,C.back+=N,64&M1){b.msg="invalid distance code",C.mode=30;break}C.offset=l1,C.extra=15&M1,C.mode=24;case 24:if(C.extra){for(R=C.extra;W<R;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}C.offset+=_&(1<<C.extra)-1,_>>>=C.extra,W-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){b.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(t1===0)break t;if(U=$-t1,C.offset>U){if((U=C.offset-U)>C.whave&&C.sane){b.msg="invalid distance too far back",C.mode=30;break}o1=U>C.wnext?(U-=C.wnext,C.wsize-U):C.wnext-U,U>C.length&&(U=C.length),C1=C.window}else C1=J,o1=Q-C.offset,U=C.length;for(t1<U&&(U=t1),t1-=U,C.length-=U;J[Q++]=C1[o1++],--U;);C.length===0&&(C.mode=21);break;case 26:if(t1===0)break t;J[Q++]=C.length,t1--,C.mode=21;break;case 27:if(C.wrap){for(;W<32;){if(Z===0)break t;Z--,_|=O[F++]<<W,W+=8}if($-=t1,b.total_out+=$,C.total+=$,$&&(b.adler=C.check=C.flags?l(C.check,J,$,Q-$):e(C.check,J,$,Q-$)),$=t1,(C.flags?_:p(_))!==C.check){b.msg="incorrect data check",C.mode=30;break}W=_=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;W<32;){if(Z===0)break t;Z--,_+=O[F++]<<W,W+=8}if(_!==(4294967295&C.total)){b.msg="incorrect length check",C.mode=30;break}W=_=0}C.mode=29;case 29:X=1;break t;case 30:X=-3;break t;case 31:return-4;case 32:default:return g}return b.next_out=Q,b.avail_out=t1,b.next_in=F,b.avail_in=Z,C.hold=_,C.bits=W,(C.wsize||$!==b.avail_out&&C.mode<30&&(C.mode<27||T!==4))&&j(b,b.output,b.next_out,$-b.avail_out)?(C.mode=31,-4):(v1-=b.avail_in,$-=b.avail_out,b.total_in+=v1,b.total_out+=$,C.total+=$,C.wrap&&$&&(b.adler=C.check=C.flags?l(C.check,J,$,b.next_out-$):e(C.check,J,$,b.next_out-$)),b.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(v1==0&&$===0||T===4)&&X===v&&(X=-5),X)},c.inflateEnd=function(b){if(!b||!b.state)return g;var T=b.state;return T.window&&(T.window=null),b.state=null,v},c.inflateGetHeader=function(b,T){var C;return b&&b.state?(2&(C=b.state).wrap)==0?g:((C.head=T).done=!1,v):g},c.inflateSetDictionary=function(b,T){var C,O=T.length;return b&&b.state?(C=b.state).wrap!==0&&C.mode!==11?g:C.mode===11&&e(1,T,O,0)!==C.check?-3:j(b,T,O,O)?(C.mode=31,-4):(C.havedict=1,v):g},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,a,c){"use strict";var r=t("../utils/common"),e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(n,h,v,g,d,s,u,p){var z,m,f,M,H,w,B,k,I,j=p.bits,b=0,T=0,C=0,O=0,J=0,F=0,Q=0,Z=0,t1=0,_=0,W=null,v1=0,$=new r.Buf16(16),U=new r.Buf16(16),o1=null,C1=0;for(b=0;b<=15;b++)$[b]=0;for(T=0;T<g;T++)$[h[v+T]]++;for(J=j,O=15;1<=O&&$[O]===0;O--);if(O<J&&(J=O),O===0)return d[s++]=20971520,d[s++]=20971520,p.bits=1,0;for(C=1;C<O&&$[C]===0;C++);for(J<C&&(J=C),b=Z=1;b<=15;b++)if(Z<<=1,(Z-=$[b])<0)return-1;if(0<Z&&(n===0||O!==1))return-1;for(U[1]=0,b=1;b<15;b++)U[b+1]=U[b]+$[b];for(T=0;T<g;T++)h[v+T]!==0&&(u[U[h[v+T]]++]=T);if(w=n===0?(W=o1=u,19):n===1?(W=e,v1-=257,o1=l,C1-=257,256):(W=i,o1=o,-1),b=C,H=s,Q=T=_=0,f=-1,M=(t1=1<<(F=J))-1,n===1&&852<t1||n===2&&592<t1)return 1;for(;;){for(B=b-Q,I=u[T]<w?(k=0,u[T]):u[T]>w?(k=o1[C1+u[T]],W[v1+u[T]]):(k=96,0),z=1<<b-Q,C=m=1<<F;d[H+(_>>Q)+(m-=z)]=B<<24|k<<16|I|0,m!==0;);for(z=1<<b-1;_&z;)z>>=1;if(z!==0?(_&=z-1,_+=z):_=0,T++,--$[b]==0){if(b===O)break;b=h[v+u[T]]}if(J<b&&(_&M)!==f){for(Q===0&&(Q=J),H+=C,Z=1<<(F=b-Q);F+Q<O&&!((Z-=$[F+Q])<=0);)F++,Z<<=1;if(t1+=1<<F,n===1&&852<t1||n===2&&592<t1)return 1;d[f=_&M]=J<<24|F<<16|H-s|0}}return _!==0&&(d[H+_]=b-Q<<24|64<<16|0),p.bits=J,0}},{"../utils/common":41}],51:[function(t,a,c){"use strict";a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,a,c){"use strict";var r=t("../utils/common"),e=0,l=1;function i(A){for(var E=A.length;0<=--E;)A[E]=0}var o=0,n=29,h=256,v=h+1+n,g=30,d=19,s=2*v+1,u=15,p=16,z=7,m=256,f=16,M=17,H=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(v+2));i(j);var b=new Array(2*g);i(b);var T=new Array(512);i(T);var C=new Array(256);i(C);var O=new Array(n);i(O);var J,F,Q,Z=new Array(g);function t1(A,E,Y,c1,q){this.static_tree=A,this.extra_bits=E,this.extra_base=Y,this.elems=c1,this.max_length=q,this.has_stree=A&&A.length}function _(A,E){this.dyn_tree=A,this.max_code=0,this.stat_desc=E}function W(A){return A<256?T[A]:T[256+(A>>>7)]}function v1(A,E){A.pending_buf[A.pending++]=255&E,A.pending_buf[A.pending++]=E>>>8&255}function $(A,E,Y){A.bi_valid>p-Y?(A.bi_buf|=E<<A.bi_valid&65535,v1(A,A.bi_buf),A.bi_buf=E>>p-A.bi_valid,A.bi_valid+=Y-p):(A.bi_buf|=E<<A.bi_valid&65535,A.bi_valid+=Y)}function U(A,E,Y){$(A,Y[2*E],Y[2*E+1])}function o1(A,E){for(var Y=0;Y|=1&A,A>>>=1,Y<<=1,0<--E;);return Y>>>1}function C1(A,E,Y){var c1,q,i1=new Array(u+1),s1=0;for(c1=1;c1<=u;c1++)i1[c1]=s1=s1+Y[c1-1]<<1;for(q=0;q<=E;q++){var e1=A[2*q+1];e1!==0&&(A[2*q]=o1(i1[e1]++,e1))}}function N(A){var E;for(E=0;E<v;E++)A.dyn_ltree[2*E]=0;for(E=0;E<g;E++)A.dyn_dtree[2*E]=0;for(E=0;E<d;E++)A.bl_tree[2*E]=0;A.dyn_ltree[2*m]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function M1(A){8<A.bi_valid?v1(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function l1(A,E,Y,c1){var q=2*E,i1=2*Y;return A[q]<A[i1]||A[q]===A[i1]&&c1[E]<=c1[Y]}function y1(A,E,Y){for(var c1=A.heap[Y],q=Y<<1;q<=A.heap_len&&(q<A.heap_len&&l1(E,A.heap[q+1],A.heap[q],A.depth)&&q++,!l1(E,c1,A.heap[q],A.depth));)A.heap[Y]=A.heap[q],Y=q,q<<=1;A.heap[Y]=c1}function k1(A,E,Y){var c1,q,i1,s1,e1=0;if(A.last_lit!==0)for(;c1=A.pending_buf[A.d_buf+2*e1]<<8|A.pending_buf[A.d_buf+2*e1+1],q=A.pending_buf[A.l_buf+e1],e1++,c1===0?U(A,q,E):(U(A,(i1=C[q])+h+1,E),(s1=w[i1])!==0&&$(A,q-=O[i1],s1),U(A,i1=W(--c1),Y),(s1=B[i1])!==0&&$(A,c1-=Z[i1],s1)),e1<A.last_lit;);U(A,m,E)}function A1(A,E){var Y,c1,q,i1=E.dyn_tree,s1=E.stat_desc.static_tree,e1=E.stat_desc.has_stree,r1=E.stat_desc.elems,w1=-1;for(A.heap_len=0,A.heap_max=s,Y=0;Y<r1;Y++)i1[2*Y]!==0?(A.heap[++A.heap_len]=w1=Y,A.depth[Y]=0):i1[2*Y+1]=0;for(;A.heap_len<2;)i1[2*(q=A.heap[++A.heap_len]=w1<2?++w1:0)]=1,A.depth[q]=0,A.opt_len--,e1&&(A.static_len-=s1[2*q+1]);for(E.max_code=w1,Y=A.heap_len>>1;1<=Y;Y--)y1(A,i1,Y);for(q=r1;Y=A.heap[1],A.heap[1]=A.heap[A.heap_len--],y1(A,i1,1),c1=A.heap[1],A.heap[--A.heap_max]=Y,A.heap[--A.heap_max]=c1,i1[2*q]=i1[2*Y]+i1[2*c1],A.depth[q]=(A.depth[Y]>=A.depth[c1]?A.depth[Y]:A.depth[c1])+1,i1[2*Y+1]=i1[2*c1+1]=q,A.heap[1]=q++,y1(A,i1,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(b1,J2){var L0,o4,Zt,u2,$r,Zh,$4=J2.dyn_tree,af=J2.max_code,mO=J2.stat_desc.static_tree,fO=J2.stat_desc.has_stree,MO=J2.stat_desc.extra_bits,cf=J2.stat_desc.extra_base,Dt=J2.stat_desc.max_length,Qr=0;for(u2=0;u2<=u;u2++)b1.bl_count[u2]=0;for($4[2*b1.heap[b1.heap_max]+1]=0,L0=b1.heap_max+1;L0<s;L0++)Dt<(u2=$4[2*$4[2*(o4=b1.heap[L0])+1]+1]+1)&&(u2=Dt,Qr++),$4[2*o4+1]=u2,af<o4||(b1.bl_count[u2]++,$r=0,cf<=o4&&($r=MO[o4-cf]),Zh=$4[2*o4],b1.opt_len+=Zh*(u2+$r),fO&&(b1.static_len+=Zh*(mO[2*o4+1]+$r)));if(Qr!==0){do{for(u2=Dt-1;b1.bl_count[u2]===0;)u2--;b1.bl_count[u2]--,b1.bl_count[u2+1]+=2,b1.bl_count[Dt]--,Qr-=2}while(0<Qr);for(u2=Dt;u2!==0;u2--)for(o4=b1.bl_count[u2];o4!==0;)af<(Zt=b1.heap[--L0])||($4[2*Zt+1]!==u2&&(b1.opt_len+=(u2-$4[2*Zt+1])*$4[2*Zt],$4[2*Zt+1]=u2),o4--)}}(A,E),C1(i1,w1,A.bl_count)}function L(A,E,Y){var c1,q,i1=-1,s1=E[1],e1=0,r1=7,w1=4;for(s1===0&&(r1=138,w1=3),E[2*(Y+1)+1]=65535,c1=0;c1<=Y;c1++)q=s1,s1=E[2*(c1+1)+1],++e1<r1&&q===s1||(e1<w1?A.bl_tree[2*q]+=e1:q!==0?(q!==i1&&A.bl_tree[2*q]++,A.bl_tree[2*f]++):e1<=10?A.bl_tree[2*M]++:A.bl_tree[2*H]++,i1=q,w1=(e1=0)===s1?(r1=138,3):q===s1?(r1=6,3):(r1=7,4))}function X(A,E,Y){var c1,q,i1=-1,s1=E[1],e1=0,r1=7,w1=4;for(s1===0&&(r1=138,w1=3),c1=0;c1<=Y;c1++)if(q=s1,s1=E[2*(c1+1)+1],!(++e1<r1&&q===s1)){if(e1<w1)for(;U(A,q,A.bl_tree),--e1!=0;);else q!==0?(q!==i1&&(U(A,q,A.bl_tree),e1--),U(A,f,A.bl_tree),$(A,e1-3,2)):e1<=10?(U(A,M,A.bl_tree),$(A,e1-3,3)):(U(A,H,A.bl_tree),$(A,e1-11,7));i1=q,w1=(e1=0)===s1?(r1=138,3):q===s1?(r1=6,3):(r1=7,4)}}i(Z);var K=!1;function R(A,E,Y,c1){$(A,(o<<1)+(c1?1:0),3),function(q,i1,s1,e1){M1(q),e1&&(v1(q,s1),v1(q,~s1)),r.arraySet(q.pending_buf,q.window,i1,s1,q.pending),q.pending+=s1}(A,E,Y,!0)}c._tr_init=function(A){K||(function(){var E,Y,c1,q,i1,s1=new Array(u+1);for(q=c1=0;q<n-1;q++)for(O[q]=c1,E=0;E<1<<w[q];E++)C[c1++]=q;for(C[c1-1]=q,q=i1=0;q<16;q++)for(Z[q]=i1,E=0;E<1<<B[q];E++)T[i1++]=q;for(i1>>=7;q<g;q++)for(Z[q]=i1<<7,E=0;E<1<<B[q]-7;E++)T[256+i1++]=q;for(Y=0;Y<=u;Y++)s1[Y]=0;for(E=0;E<=143;)j[2*E+1]=8,E++,s1[8]++;for(;E<=255;)j[2*E+1]=9,E++,s1[9]++;for(;E<=279;)j[2*E+1]=7,E++,s1[7]++;for(;E<=287;)j[2*E+1]=8,E++,s1[8]++;for(C1(j,v+1,s1),E=0;E<g;E++)b[2*E+1]=5,b[2*E]=o1(E,5);J=new t1(j,w,h+1,v,u),F=new t1(b,B,0,g,u),Q=new t1(new Array(0),k,0,d,z)}(),K=!0),A.l_desc=new _(A.dyn_ltree,J),A.d_desc=new _(A.dyn_dtree,F),A.bl_desc=new _(A.bl_tree,Q),A.bi_buf=0,A.bi_valid=0,N(A)},c._tr_stored_block=R,c._tr_flush_block=function(A,E,Y,c1){var q,i1,s1=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(e1){var r1,w1=4093624447;for(r1=0;r1<=31;r1++,w1>>>=1)if(1&w1&&e1.dyn_ltree[2*r1]!==0)return e;if(e1.dyn_ltree[18]!==0||e1.dyn_ltree[20]!==0||e1.dyn_ltree[26]!==0)return l;for(r1=32;r1<h;r1++)if(e1.dyn_ltree[2*r1]!==0)return l;return e}(A)),A1(A,A.l_desc),A1(A,A.d_desc),s1=function(e1){var r1;for(L(e1,e1.dyn_ltree,e1.l_desc.max_code),L(e1,e1.dyn_dtree,e1.d_desc.max_code),A1(e1,e1.bl_desc),r1=d-1;3<=r1&&e1.bl_tree[2*I[r1]+1]===0;r1--);return e1.opt_len+=3*(r1+1)+5+5+4,r1}(A),q=A.opt_len+3+7>>>3,(i1=A.static_len+3+7>>>3)<=q&&(q=i1)):q=i1=Y+5,Y+4<=q&&E!==-1?R(A,E,Y,c1):A.strategy===4||i1===q?($(A,2+(c1?1:0),3),k1(A,j,b)):($(A,4+(c1?1:0),3),function(e1,r1,w1,b1){var J2;for($(e1,r1-257,5),$(e1,w1-1,5),$(e1,b1-4,4),J2=0;J2<b1;J2++)$(e1,e1.bl_tree[2*I[J2]+1],3);X(e1,e1.dyn_ltree,r1-1),X(e1,e1.dyn_dtree,w1-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,s1+1),k1(A,A.dyn_ltree,A.dyn_dtree)),N(A),c1&&M1(A)},c._tr_tally=function(A,E,Y){return A.pending_buf[A.d_buf+2*A.last_lit]=E>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&E,A.pending_buf[A.l_buf+A.last_lit]=255&Y,A.last_lit++,E===0?A.dyn_ltree[2*Y]++:(A.matches++,E--,A.dyn_ltree[2*(C[Y]+h+1)]++,A.dyn_dtree[2*W(E)]++),A.last_lit===A.lit_bufsize-1},c._tr_align=function(A){$(A,2,3),U(A,m,j),function(E){E.bi_valid===16?(v1(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(t,a,c){"use strict";a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,a,c){(function(r){(function(e,l){"use strict";if(!e.setImmediate){var i,o,n,h,v=1,g={},d=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,i={}.toString.call(e.process)==="[object process]"?function(f){process.nextTick(function(){z(f)})}:function(){if(e.postMessage&&!e.importScripts){var f=!0,M=e.onmessage;return e.onmessage=function(){f=!1},e.postMessage("","*"),e.onmessage=M,f}}()?(h="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",m,!1):e.attachEvent("onmessage",m),function(f){e.postMessage(h+f,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(f){z(f.data)},function(f){n.port2.postMessage(f)}):s&&"onreadystatechange"in s.createElement("script")?(o=s.documentElement,function(f){var M=s.createElement("script");M.onreadystatechange=function(){z(f),M.onreadystatechange=null,o.removeChild(M),M=null},o.appendChild(M)}):function(f){setTimeout(z,0,f)},u.setImmediate=function(f){typeof f!="function"&&(f=new Function(""+f));for(var M=new Array(arguments.length-1),H=0;H<M.length;H++)M[H]=arguments[H+1];var w={callback:f,args:M};return g[v]=w,i(v),v++},u.clearImmediate=p}function p(f){delete g[f]}function z(f){if(d)setTimeout(z,0,f);else{var M=g[f];if(M){d=!0;try{(function(H){var w=H.callback,B=H.args;switch(B.length){case 0:w();break;case 1:w(B[0]);break;case 2:w(B[0],B[1]);break;case 3:w(B[0],B[1],B[2]);break;default:w.apply(l,B)}})(M)}finally{p(f),d=!1}}}}function m(f){f.source===e&&typeof f.data=="string"&&f.data.indexOf(h)===0&&z(+f.data.slice(h.length))}})(typeof self=="undefined"?r===void 0?this:r:self)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})});var xn,xr,f01,KF,M01,PL1,x01,Cn,C01,$F,L01,Cp,Ln,Hn,K8,H01,V01,w01,Mr,i3,B01,y01,Lp,Vn,QF=x(()=>{xn=y(P()),xr=y(P()),f01=t=>typeof t=="function",KF=(t,a)=>f01(t)?t(a):t,M01=(()=>{let t=0;return()=>(++t).toString()})(),PL1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");t=!a||a.matches}return t}})(),x01=20,Cn=new Map,C01=1e3,$F=t=>{if(Cn.has(t))return;let a=setTimeout(()=>{Cn.delete(t),K8({type:4,toastId:t})},C01);Cn.set(t,a)},L01=t=>{let a=Cn.get(t);a&&clearTimeout(a)},Cp=(t,a)=>{switch(a.type){case 0:return D(S({},t),{toasts:[a.toast,...t.toasts].slice(0,x01)});case 1:return a.toast.id&&L01(a.toast.id),D(S({},t),{toasts:t.toasts.map(l=>l.id===a.toast.id?S(S({},l),a.toast):l)});case 2:let{toast:c}=a;return t.toasts.find(l=>l.id===c.id)?Cp(t,{type:1,toast:c}):Cp(t,{type:0,toast:c});case 3:let{toastId:r}=a;return r?$F(r):t.toasts.forEach(l=>{$F(l.id)}),D(S({},t),{toasts:t.toasts.map(l=>l.id===r||r===void 0?D(S({},l),{visible:!1}):l)});case 4:return a.toastId===void 0?D(S({},t),{toasts:[]}):D(S({},t),{toasts:t.toasts.filter(l=>l.id!==a.toastId)});case 5:return D(S({},t),{pausedAt:a.time});case 6:let e=a.time-(t.pausedAt||0);return D(S({},t),{pausedAt:void 0,toasts:t.toasts.map(l=>D(S({},l),{pauseDuration:l.pauseDuration+e}))})}},Ln=[],Hn={toasts:[],pausedAt:void 0},K8=t=>{Hn=Cp(Hn,t),Ln.forEach(a=>{a(Hn)})},H01={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V01=(t={})=>{let[a,c]=(0,xn.useState)(Hn);(0,xn.useEffect)(()=>(Ln.push(c),()=>{let e=Ln.indexOf(c);e>-1&&Ln.splice(e,1)}),[a]);let r=a.toasts.map(e=>{var l,i;return D(S(S(S({},t),t[e.type]),e),{duration:e.duration||((l=t[e.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||H01[e.type],style:S(S(S({},t.style),(i=t[e.type])==null?void 0:i.style),e.style)})});return D(S({},a),{toasts:r})},w01=(t,a="blank",c)=>D(S({createdAt:Date.now(),visible:!0,type:a,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},c),{id:(c==null?void 0:c.id)||M01()}),Mr=t=>(a,c)=>{let r=w01(a,t,c);return K8({type:2,toast:r}),r.id},i3=(t,a)=>Mr("blank")(t,a);i3.error=Mr("error");i3.success=Mr("success");i3.loading=Mr("loading");i3.custom=Mr("custom");i3.dismiss=t=>{K8({type:3,toastId:t})};i3.remove=t=>K8({type:4,toastId:t});i3.promise=(t,a,c)=>{let r=i3.loading(a.loading,S(S({},c),c==null?void 0:c.loading));return t.then(e=>(i3.success(KF(a.success,e),S(S({id:r},c),c==null?void 0:c.success)),e)).catch(e=>{i3.error(KF(a.error,e),S(S({id:r},c),c==null?void 0:c.error))}),t};B01=(t,a)=>{K8({type:1,toast:{id:t,height:a}})},y01=()=>{K8({type:5,time:Date.now()})},Lp=t=>{let{toasts:a,pausedAt:c}=V01(t);(0,xr.useEffect)(()=>{if(c)return;let l=Date.now(),i=a.map(o=>{if(o.duration===1/0)return;let n=(o.duration||0)+o.pauseDuration-(l-o.createdAt);if(n<0){o.visible&&i3.dismiss(o.id);return}return setTimeout(()=>i3.dismiss(o.id),n)});return()=>{i.forEach(o=>o&&clearTimeout(o))}},[a,c]);let r=(0,xr.useCallback)(()=>{c&&K8({type:6,time:Date.now()})},[c]),e=(0,xr.useCallback)((l,i)=>{let{reverseOrder:o=!1,gutter:n=8,defaultPosition:h}=i||{},v=a.filter(s=>(s.position||h)===(l.position||h)&&s.height),g=v.findIndex(s=>s.id===l.id),d=v.filter((s,u)=>u<g&&s.visible).length;return v.filter(s=>s.visible).slice(...o?[d+1]:[0,d]).reduce((s,u)=>s+(u.height||0)+n,0)},[a]);return{toasts:a,handlers:{updateHeight:B01,startPause:y01,endPause:r,calculateOffset:e}}},Vn=i3});function XF(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function S01(t){vt=t}function E2(t,a){if(a){if(k01.test(t))return t.replace(A01,YF)}else if(R01.test(t))return t.replace(b01,YF);return t}function JF(t){return t.replace(I01,(a,c)=>(c=c.toLowerCase(),c==="colon"?":":c.charAt(0)==="#"?c.charAt(1)==="x"?String.fromCharCode(parseInt(c.substring(2),16)):String.fromCharCode(+c.substring(1)):""))}function K1(t,a){t=typeof t=="string"?t:t.source,a=a||"";let c={replace:(r,e)=>(e=e.source||e,e=e.replace(P01,"$1"),t=t.replace(r,e),c),getRegex:()=>new RegExp(t,a)};return c}function tI(t,a,c){if(t){let r;try{r=decodeURIComponent(JF(c)).replace(G01,"").toLowerCase()}catch(e){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}a&&!T01.test(c)&&(c=D01(a,c));try{c=encodeURI(c).replace(/%25/g,"%")}catch(r){return null}return c}function D01(t,a){wn[" "+t]||(E01.test(t)?wn[" "+t]=t+"/":wn[" "+t]=yn(t,"/",!0)),t=wn[" "+t];let c=t.indexOf(":")===-1;return a.substring(0,2)==="//"?c?a:t.replace(O01,"$1")+a:a.charAt(0)==="/"?c?a:t.replace(Z01,"$1")+a:t+a}function J3(t){let a=1,c,r;for(;a<arguments.length;a++){c=arguments[a];for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r])}return t}function aI(t,a){let c=t.replace(/\|/g,(l,i,o)=>{let n=!1,h=i;for(;--h>=0&&o[h]==="\\";)n=!n;return n?"|":" |"}),r=c.split(/ \|/),e=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>a)r.splice(a);else for(;r.length<a;)r.push("");for(;e<r.length;e++)r[e]=r[e].trim().replace(/\\\|/g,"|");return r}function yn(t,a,c){let r=t.length;if(r===0)return"";let e=0;for(;e<r;){let l=t.charAt(r-e-1);if(l===a&&!c)e++;else if(l!==a&&c)e++;else break}return t.slice(0,r-e)}function j01(t,a){if(t.indexOf(a[1])===-1)return-1;let c=t.length,r=0,e=0;for(;e<c;e++)if(t[e]==="\\")e++;else if(t[e]===a[0])r++;else if(t[e]===a[1]&&(r--,r<0))return e;return-1}function cI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function rI(t,a){if(a<1)return"";let c="";for(;a>1;)a&1&&(c+=t),a>>=1,t+=t;return c+t}function eI(t,a,c,r){let e=a.href,l=a.title?E2(a.title):null,i=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;let o={type:"link",raw:c,href:e,title:l,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,o}return{type:"image",raw:c,href:e,title:l,text:E2(i)}}function W01(t,a){let c=t.match(/^(\s+)(?:```)/);if(c===null)return a;let r=c[1];return a.split(`
`).map(e=>{let l=e.match(/^\s+/);if(l===null)return e;let[i]=l;return i.length>=r.length?e.slice(r.length):e}).join(`
`)}function _01(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function lI(t){let a="",c,r,e=t.length;for(c=0;c<e;c++)r=t.charCodeAt(c),Math.random()>.5&&(r="x"+r.toString(16)),a+="&#"+r+";";return a}function V1(t,a,c){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof a=="function"&&(c=a,a=null),a=J3({},V1.defaults,a||{}),cI(a),c){let e=a.highlight,l;try{l=E4.lex(t,a)}catch(n){return c(n)}let i=function(n){let h;if(!n)try{a.walkTokens&&V1.walkTokens(l,a.walkTokens),h=t4.parse(l,a)}catch(v){n=v}return a.highlight=e,n?c(n):c(null,h)};if(!e||e.length<3||(delete a.highlight,!l.length))return i();let o=0;V1.walkTokens(l,function(n){n.type==="code"&&(o++,setTimeout(()=>{e(n.text,n.lang,function(h,v){if(h)return i(h);v!=null&&v!==n.text&&(n.text=v,n.escaped=!0),o--,o===0&&i()})},0))}),o===0&&i();return}function r(e){if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,a.silent)return"<p>An error occurred:</p><pre>"+E2(e.message+"",!0)+"</pre>";throw e}try{let e=E4.lex(t,a);if(a.walkTokens){if(a.async)return Promise.all(V1.walkTokens(e,a.walkTokens)).then(()=>t4.parse(e,a)).catch(r);V1.walkTokens(e,a.walkTokens)}return t4.parse(e,a)}catch(e){r(e)}}var vt,k01,A01,R01,b01,F01,YF,I01,P01,G01,T01,wn,E01,O01,Z01,Bn,Sn,H1,u1,E4,kn,Hp,Vp,t4,TL1,EL1,OL1,ZL1,DL1,jL1,WL1,iI=x(()=>{vt=XF();k01=/[&<>"']/,A01=/[&<>"']/g,R01=/[<>"']|&(?!#?\w+;)/,b01=/[<>"']|&(?!#?\w+;)/g,F01={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},YF=t=>F01[t];I01=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;P01=/(^|[^\[])\^/g;G01=/[^\w:]/g,T01=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;wn={},E01=/^[^:]+:\/*[^/]*$/,O01=/^([^:]+:)[\s\S]*$/,Z01=/^([^:]+:\/*[^/]*)[\s\S]*$/;Bn={exec:function(){}};Sn=class{constructor(a){this.options=a||vt}space(a){let c=this.rules.block.newline.exec(a);if(c&&c[0].length>0)return{type:"space",raw:c[0]}}code(a){let c=this.rules.block.code.exec(a);if(c){let r=c[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:c[0],codeBlockStyle:"indented",text:this.options.pedantic?r:yn(r,`
`)}}}fences(a){let c=this.rules.block.fences.exec(a);if(c){let r=c[0],e=W01(r,c[3]||"");return{type:"code",raw:r,lang:c[2]?c[2].trim():c[2],text:e}}}heading(a){let c=this.rules.block.heading.exec(a);if(c){let r=c[2].trim();if(/#$/.test(r)){let e=yn(r,"#");(this.options.pedantic||!e||/ $/.test(e))&&(r=e.trim())}return{type:"heading",raw:c[0],depth:c[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(a){let c=this.rules.block.hr.exec(a);if(c)return{type:"hr",raw:c[0]}}blockquote(a){let c=this.rules.block.blockquote.exec(a);if(c){let r=c[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:c[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(a){let c=this.rules.block.list.exec(a);if(c){let r,e,l,i,o,n,h,v,g,d,s,u,p=c[1].trim(),z=p.length>1,m={type:"list",raw:"",ordered:z,start:z?+p.slice(0,-1):"",loose:!1,items:[]};p=z?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=z?p:"[*+-]");let f=new RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;a&&(u=!1,!(!(c=f.exec(a))||this.rules.block.hr.test(a)));){if(r=c[0],a=a.substring(r.length),v=c[2].split(`
`,1)[0],g=a.split(`
`,1)[0],this.options.pedantic?(i=2,s=v.trimLeft()):(i=c[2].search(/[^ ]/),i=i>4?1:i,s=v.slice(i),i+=c[1].length),n=!1,!v&&/^ *$/.test(g)&&(r+=g+`
`,a=a.substring(g.length+1),u=!0),!u){let H=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),B=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;a&&(d=a.split(`
`,1)[0],v=d,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(B.test(v)||k.test(v)||H.test(v)||w.test(a)));){if(v.search(/[^ ]/)>=i||!v.trim())s+=`
`+v.slice(i);else if(!n)s+=`
`+v;else break;!n&&!v.trim()&&(n=!0),r+=d+`
`,a=a.substring(d.length+1)}}m.loose||(h?m.loose=!0:/\n *\n *$/.test(r)&&(h=!0)),this.options.gfm&&(e=/^\[[ xX]\] /.exec(s),e&&(l=e[0]!=="[ ] ",s=s.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:r,task:!!e,checked:l,loose:!1,text:s}),m.raw+=r}m.items[m.items.length-1].raw=r.trimRight(),m.items[m.items.length-1].text=s.trimRight(),m.raw=m.raw.trimRight();let M=m.items.length;for(o=0;o<M;o++){this.lexer.state.top=!1,m.items[o].tokens=this.lexer.blockTokens(m.items[o].text,[]);let H=m.items[o].tokens.filter(B=>B.type==="space"),w=H.every(B=>{let k=B.raw.split(""),I=0;for(let j of k)if(j===`
`&&(I+=1),I>1)return!0;return!1});!m.loose&&H.length&&w&&(m.loose=!0,m.items[o].loose=!0)}return m}}html(a){let c=this.rules.block.html.exec(a);if(c){let r={type:"html",raw:c[0],pre:!this.options.sanitizer&&(c[1]==="pre"||c[1]==="script"||c[1]==="style"),text:c[0]};if(this.options.sanitize){let e=this.options.sanitizer?this.options.sanitizer(c[0]):E2(c[0]);r.type="paragraph",r.text=e,r.tokens=this.lexer.inline(e)}return r}}def(a){let c=this.rules.block.def.exec(a);if(c){c[3]&&(c[3]=c[3].substring(1,c[3].length-1));let r=c[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:r,raw:c[0],href:c[2],title:c[3]}}}table(a){let c=this.rules.block.table.exec(a);if(c){let r={type:"table",header:aI(c[1]).map(e=>({text:e})),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:c[3]&&c[3].trim()?c[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=c[0];let e=r.align.length,l,i,o,n;for(l=0;l<e;l++)/^ *-+: *$/.test(r.align[l])?r.align[l]="right":/^ *:-+: *$/.test(r.align[l])?r.align[l]="center":/^ *:-+ *$/.test(r.align[l])?r.align[l]="left":r.align[l]=null;for(e=r.rows.length,l=0;l<e;l++)r.rows[l]=aI(r.rows[l],r.header.length).map(h=>({text:h}));for(e=r.header.length,i=0;i<e;i++)r.header[i].tokens=this.lexer.inline(r.header[i].text);for(e=r.rows.length,i=0;i<e;i++)for(n=r.rows[i],o=0;o<n.length;o++)n[o].tokens=this.lexer.inline(n[o].text);return r}}}lheading(a){let c=this.rules.block.lheading.exec(a);if(c)return{type:"heading",raw:c[0],depth:c[2].charAt(0)==="="?1:2,text:c[1],tokens:this.lexer.inline(c[1])}}paragraph(a){let c=this.rules.block.paragraph.exec(a);if(c){let r=c[1].charAt(c[1].length-1)===`
`?c[1].slice(0,-1):c[1];return{type:"paragraph",raw:c[0],text:r,tokens:this.lexer.inline(r)}}}text(a){let c=this.rules.block.text.exec(a);if(c)return{type:"text",raw:c[0],text:c[0],tokens:this.lexer.inline(c[0])}}escape(a){let c=this.rules.inline.escape.exec(a);if(c)return{type:"escape",raw:c[0],text:E2(c[1])}}tag(a){let c=this.rules.inline.tag.exec(a);if(c)return!this.lexer.state.inLink&&/^<a /i.test(c[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(c[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:c[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):E2(c[0]):c[0]}}link(a){let c=this.rules.inline.link.exec(a);if(c){let r=c[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let i=yn(r.slice(0,-1),"\\");if((r.length-i.length)%2==0)return}else{let i=j01(c[2],"()");if(i>-1){let n=(c[0].indexOf("!")===0?5:4)+c[1].length+i;c[2]=c[2].substring(0,i),c[0]=c[0].substring(0,n).trim(),c[3]=""}}let e=c[2],l="";if(this.options.pedantic){let i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(e);i&&(e=i[1],l=i[3])}else l=c[3]?c[3].slice(1,-1):"";return e=e.trim(),/^</.test(e)&&(this.options.pedantic&&!/>$/.test(r)?e=e.slice(1):e=e.slice(1,-1)),eI(c,{href:e&&e.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},c[0],this.lexer)}}reflink(a,c){let r;if((r=this.rules.inline.reflink.exec(a))||(r=this.rules.inline.nolink.exec(a))){let e=(r[2]||r[1]).replace(/\s+/g," ");if(e=c[e.toLowerCase()],!e||!e.href){let l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return eI(r,e,r[0],this.lexer)}}emStrong(a,c,r=""){let e=this.rules.inline.emStrong.lDelim.exec(a);if(!e||e[3]&&r.match(/[\p{L}\p{N}]/u))return;let l=e[1]||e[2]||"";if(!l||l&&(r===""||this.rules.inline.punctuation.exec(r))){let i=e[0].length-1,o,n,h=i,v=0,g=e[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,c=c.slice(-1*a.length+i);(e=g.exec(c))!=null;){if(o=e[1]||e[2]||e[3]||e[4]||e[5]||e[6],!o)continue;if(n=o.length,e[3]||e[4]){h+=n;continue}else if((e[5]||e[6])&&i%3&&!((i+n)%3)){v+=n;continue}if(h-=n,h>0)continue;if(n=Math.min(n,n+h+v),Math.min(i,n)%2){let s=a.slice(1,i+e.index+n);return{type:"em",raw:a.slice(0,i+e.index+n+1),text:s,tokens:this.lexer.inlineTokens(s)}}let d=a.slice(2,i+e.index+n-1);return{type:"strong",raw:a.slice(0,i+e.index+n+1),text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(a){let c=this.rules.inline.code.exec(a);if(c){let r=c[2].replace(/\n/g," "),e=/[^ ]/.test(r),l=/^ /.test(r)&&/ $/.test(r);return e&&l&&(r=r.substring(1,r.length-1)),r=E2(r,!0),{type:"codespan",raw:c[0],text:r}}}br(a){let c=this.rules.inline.br.exec(a);if(c)return{type:"br",raw:c[0]}}del(a){let c=this.rules.inline.del.exec(a);if(c)return{type:"del",raw:c[0],text:c[2],tokens:this.lexer.inlineTokens(c[2])}}autolink(a,c){let r=this.rules.inline.autolink.exec(a);if(r){let e,l;return r[2]==="@"?(e=E2(this.options.mangle?c(r[1]):r[1]),l="mailto:"+e):(e=E2(r[1]),l=e),{type:"link",raw:r[0],text:e,href:l,tokens:[{type:"text",raw:e,text:e}]}}}url(a,c){let r;if(r=this.rules.inline.url.exec(a)){let e,l;if(r[2]==="@")e=E2(this.options.mangle?c(r[0]):r[0]),l="mailto:"+e;else{let i;do i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(i!==r[0]);e=E2(r[0]),r[1]==="www."?l="http://"+e:l=e}return{type:"link",raw:r[0],text:e,href:l,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(a,c){let r=this.rules.inline.text.exec(a);if(r){let e;return this.lexer.state.inRawBlock?e=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):E2(r[0]):r[0]:e=E2(this.options.smartypants?c(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}},H1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};H1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;H1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;H1.def=K1(H1.def).replace("label",H1._label).replace("title",H1._title).getRegex();H1.bullet=/(?:[*+-]|\d{1,9}[.)])/;H1.listItemStart=K1(/^( *)(bull) */).replace("bull",H1.bullet).getRegex();H1.list=K1(H1.list).replace(/bull/g,H1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+H1.def.source+")").getRegex();H1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";H1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;H1.html=K1(H1.html,"i").replace("comment",H1._comment).replace("tag",H1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();H1.paragraph=K1(H1._paragraph).replace("hr",H1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H1._tag).getRegex();H1.blockquote=K1(H1.blockquote).replace("paragraph",H1.paragraph).getRegex();H1.normal=J3({},H1);H1.gfm=J3({},H1.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});H1.gfm.table=K1(H1.gfm.table).replace("hr",H1.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H1._tag).getRegex();H1.gfm.paragraph=K1(H1._paragraph).replace("hr",H1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",H1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H1._tag).getRegex();H1.pedantic=J3({},H1.normal,{html:K1(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",H1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bn,paragraph:K1(H1.normal._paragraph).replace("hr",H1.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",H1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});u1={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};u1._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";u1.punctuation=K1(u1.punctuation).replace(/punctuation/g,u1._punctuation).getRegex();u1.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;u1.escapedEmSt=/\\\*|\\_/g;u1._comment=K1(H1._comment).replace("(?:-->|$)","-->").getRegex();u1.emStrong.lDelim=K1(u1.emStrong.lDelim).replace(/punct/g,u1._punctuation).getRegex();u1.emStrong.rDelimAst=K1(u1.emStrong.rDelimAst,"g").replace(/punct/g,u1._punctuation).getRegex();u1.emStrong.rDelimUnd=K1(u1.emStrong.rDelimUnd,"g").replace(/punct/g,u1._punctuation).getRegex();u1._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;u1._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;u1._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;u1.autolink=K1(u1.autolink).replace("scheme",u1._scheme).replace("email",u1._email).getRegex();u1._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;u1.tag=K1(u1.tag).replace("comment",u1._comment).replace("attribute",u1._attribute).getRegex();u1._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;u1._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;u1._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;u1.link=K1(u1.link).replace("label",u1._label).replace("href",u1._href).replace("title",u1._title).getRegex();u1.reflink=K1(u1.reflink).replace("label",u1._label).replace("ref",H1._label).getRegex();u1.nolink=K1(u1.nolink).replace("ref",H1._label).getRegex();u1.reflinkSearch=K1(u1.reflinkSearch,"g").replace("reflink",u1.reflink).replace("nolink",u1.nolink).getRegex();u1.normal=J3({},u1);u1.pedantic=J3({},u1.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:K1(/^!?\[(label)\]\((.*?)\)/).replace("label",u1._label).getRegex(),reflink:K1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",u1._label).getRegex()});u1.gfm=J3({},u1.normal,{escape:K1(u1.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});u1.gfm.url=K1(u1.gfm.url,"i").replace("email",u1.gfm._extended_email).getRegex();u1.breaks=J3({},u1.gfm,{br:K1(u1.br).replace("{2,}","*").getRegex(),text:K1(u1.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});E4=class{constructor(a){this.tokens=[],this.tokens.links=Object.create(null),this.options=a||vt,this.options.tokenizer=this.options.tokenizer||new Sn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let c={block:H1.normal,inline:u1.normal};this.options.pedantic?(c.block=H1.pedantic,c.inline=u1.pedantic):this.options.gfm&&(c.block=H1.gfm,this.options.breaks?c.inline=u1.breaks:c.inline=u1.gfm),this.tokenizer.rules=c}static get rules(){return{block:H1,inline:u1}}static lex(a,c){return new E4(c).lex(a)}static lexInline(a,c){return new E4(c).inlineTokens(a)}lex(a){a=a.replace(/\r\n|\r/g,`
`),this.blockTokens(a,this.tokens);let c;for(;c=this.inlineQueue.shift();)this.inlineTokens(c.src,c.tokens);return this.tokens}blockTokens(a,c=[]){this.options.pedantic?a=a.replace(/\t/g,"    ").replace(/^ +$/gm,""):a=a.replace(/^( *)(\t+)/gm,(o,n,h)=>n+"    ".repeat(h.length));let r,e,l,i;for(;a;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(r=o.call({lexer:this},a,c))?(a=a.substring(r.raw.length),c.push(r),!0):!1))){if(r=this.tokenizer.space(a)){a=a.substring(r.raw.length),r.raw.length===1&&c.length>0?c[c.length-1].raw+=`
`:c.push(r);continue}if(r=this.tokenizer.code(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&(e.type==="paragraph"||e.type==="text")?(e.raw+=`
`+r.raw,e.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=e.text):c.push(r);continue}if(r=this.tokenizer.fences(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.heading(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.hr(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.blockquote(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.list(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.html(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.def(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&(e.type==="paragraph"||e.type==="text")?(e.raw+=`
`+r.raw,e.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=e.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.lheading(a)){a=a.substring(r.raw.length),c.push(r);continue}if(l=a,this.options.extensions&&this.options.extensions.startBlock){let o=1/0,n=a.slice(1),h;this.options.extensions.startBlock.forEach(function(v){h=v.call({lexer:this},n),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(l=a.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(l))){e=c[c.length-1],i&&e.type==="paragraph"?(e.raw+=`
`+r.raw,e.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=e.text):c.push(r),i=l.length!==a.length,a=a.substring(r.raw.length);continue}if(r=this.tokenizer.text(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&e.type==="text"?(e.raw+=`
`+r.raw,e.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=e.text):c.push(r);continue}if(a){let o="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,c}inline(a,c=[]){return this.inlineQueue.push({src:a,tokens:c}),c}inlineTokens(a,c=[]){let r,e,l,i=a,o,n,h;if(this.tokens.links){let v=Object.keys(this.tokens.links);if(v.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)v.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+rI("a",o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,o.index)+"["+rI("a",o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(i))!=null;)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;a;)if(n||(h=""),n=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(r=v.call({lexer:this},a,c))?(a=a.substring(r.raw.length),c.push(r),!0):!1))){if(r=this.tokenizer.escape(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.tag(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&r.type==="text"&&e.type==="text"?(e.raw+=r.raw,e.text+=r.text):c.push(r);continue}if(r=this.tokenizer.link(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(r.raw.length),e=c[c.length-1],e&&r.type==="text"&&e.type==="text"?(e.raw+=r.raw,e.text+=r.text):c.push(r);continue}if(r=this.tokenizer.emStrong(a,i,h)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.codespan(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.br(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.del(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.autolink(a,lI)){a=a.substring(r.raw.length),c.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(a,lI))){a=a.substring(r.raw.length),c.push(r);continue}if(l=a,this.options.extensions&&this.options.extensions.startInline){let v=1/0,g=a.slice(1),d;this.options.extensions.startInline.forEach(function(s){d=s.call({lexer:this},g),typeof d=="number"&&d>=0&&(v=Math.min(v,d))}),v<1/0&&v>=0&&(l=a.substring(0,v+1))}if(r=this.tokenizer.inlineText(l,_01)){a=a.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(h=r.raw.slice(-1)),n=!0,e=c[c.length-1],e&&e.type==="text"?(e.raw+=r.raw,e.text+=r.text):c.push(r);continue}if(a){let v="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return c}},kn=class{constructor(a){this.options=a||vt}code(a,c,r){let e=(c||"").match(/\S*/)[0];if(this.options.highlight){let l=this.options.highlight(a,e);l!=null&&l!==a&&(r=!0,a=l)}return a=a.replace(/\n$/,"")+`
`,e?'<pre><code class="'+this.options.langPrefix+E2(e,!0)+'">'+(r?a:E2(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:E2(a,!0))+`</code></pre>
`}blockquote(a){return`<blockquote>
${a}</blockquote>
`}html(a){return a}heading(a,c,r,e){if(this.options.headerIds){let l=this.options.headerPrefix+e.slug(r);return`<h${c} id="${l}">${a}</h${c}>
`}return`<h${c}>${a}</h${c}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(a,c,r){let e=c?"ol":"ul",l=c&&r!==1?' start="'+r+'"':"";return"<"+e+l+`>
`+a+"</"+e+`>
`}listitem(a){return`<li>${a}</li>
`}checkbox(a){return"<input "+(a?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(a){return`<p>${a}</p>
`}table(a,c){return c&&(c=`<tbody>${c}</tbody>`),`<table>
<thead>
`+a+`</thead>
`+c+`</table>
`}tablerow(a){return`<tr>
${a}</tr>
`}tablecell(a,c){let r=c.header?"th":"td";return(c.align?`<${r} align="${c.align}">`:`<${r}>`)+a+`</${r}>
`}strong(a){return`<strong>${a}</strong>`}em(a){return`<em>${a}</em>`}codespan(a){return`<code>${a}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(a){return`<del>${a}</del>`}link(a,c,r){if(a=tI(this.options.sanitize,this.options.baseUrl,a),a===null)return r;let e='<a href="'+E2(a)+'"';return c&&(e+=' title="'+c+'"'),e+=">"+r+"</a>",e}image(a,c,r){if(a=tI(this.options.sanitize,this.options.baseUrl,a),a===null)return r;let e=`<img src="${a}" alt="${r}"`;return c&&(e+=` title="${c}"`),e+=this.options.xhtml?"/>":">",e}text(a){return a}},Hp=class{strong(a){return a}em(a){return a}codespan(a){return a}del(a){return a}html(a){return a}text(a){return a}link(a,c,r){return""+r}image(a,c,r){return""+r}br(){return""}},Vp=class{constructor(){this.seen={}}serialize(a){return a.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(a,c){let r=a,e=0;if(this.seen.hasOwnProperty(r)){e=this.seen[a];do e++,r=a+"-"+e;while(this.seen.hasOwnProperty(r))}return c||(this.seen[a]=e,this.seen[r]=0),r}slug(a,c={}){let r=this.serialize(a);return this.getNextSafeSlug(r,c.dryrun)}},t4=class{constructor(a){this.options=a||vt,this.options.renderer=this.options.renderer||new kn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Hp,this.slugger=new Vp}static parse(a,c){return new t4(c).parse(a)}static parseInline(a,c){return new t4(c).parseInline(a)}parse(a,c=!0){let r="",e,l,i,o,n,h,v,g,d,s,u,p,z,m,f,M,H,w,B,k=a.length;for(e=0;e<k;e++){if(s=a[e],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(B=this.options.extensions.renderers[s.type].call({parser:this},s),B!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type))){r+=B||"";continue}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(s.tokens),s.depth,JF(this.parseInline(s.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(s.text,s.lang,s.escaped);continue}case"table":{for(g="",v="",o=s.header.length,l=0;l<o;l++)v+=this.renderer.tablecell(this.parseInline(s.header[l].tokens),{header:!0,align:s.align[l]});for(g+=this.renderer.tablerow(v),d="",o=s.rows.length,l=0;l<o;l++){for(h=s.rows[l],v="",n=h.length,i=0;i<n;i++)v+=this.renderer.tablecell(this.parseInline(h[i].tokens),{header:!1,align:s.align[i]});d+=this.renderer.tablerow(v)}r+=this.renderer.table(g,d);continue}case"blockquote":{d=this.parse(s.tokens),r+=this.renderer.blockquote(d);continue}case"list":{for(u=s.ordered,p=s.start,z=s.loose,o=s.items.length,d="",l=0;l<o;l++)f=s.items[l],M=f.checked,H=f.task,m="",f.task&&(w=this.renderer.checkbox(M),z?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=w+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=w+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(f.tokens,z),d+=this.renderer.listitem(m,H,M);r+=this.renderer.list(d,u,p);continue}case"html":{r+=this.renderer.html(s.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{for(d=s.tokens?this.parseInline(s.tokens):s.text;e+1<k&&a[e+1].type==="text";)s=a[++e],d+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);r+=c?this.renderer.paragraph(d):d;continue}default:{let I='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return r}parseInline(a,c){c=c||this.renderer;let r="",e,l,i,o=a.length;for(e=0;e<o;e++){if(l=a[e],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(i=this.options.extensions.renderers[l.type].call({parser:this},l),i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){r+=i||"";continue}switch(l.type){case"escape":{r+=c.text(l.text);break}case"html":{r+=c.html(l.text);break}case"link":{r+=c.link(l.href,l.title,this.parseInline(l.tokens,c));break}case"image":{r+=c.image(l.href,l.title,l.text);break}case"strong":{r+=c.strong(this.parseInline(l.tokens,c));break}case"em":{r+=c.em(this.parseInline(l.tokens,c));break}case"codespan":{r+=c.codespan(l.text);break}case"br":{r+=c.br();break}case"del":{r+=c.del(this.parseInline(l.tokens,c));break}case"text":{r+=c.text(l.text);break}default:{let n='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(n);return}else throw new Error(n)}}}return r}};V1.options=V1.setOptions=function(t){return J3(V1.defaults,t),S01(V1.defaults),V1};V1.getDefaults=XF;V1.defaults=vt;V1.use=function(...t){let a=J3({},...t),c=V1.defaults.extensions||{renderers:{},childTokens:{}},r;t.forEach(e=>{if(e.extensions&&(r=!0,e.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){let i=c.renderers?c.renderers[l.name]:null;i?c.renderers[l.name]=function(...o){let n=l.renderer.apply(this,o);return n===!1&&(n=i.apply(this,o)),n}:c.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");c[l.level]?c[l.level].unshift(l.tokenizer):c[l.level]=[l.tokenizer],l.start&&(l.level==="block"?c.startBlock?c.startBlock.push(l.start):c.startBlock=[l.start]:l.level==="inline"&&(c.startInline?c.startInline.push(l.start):c.startInline=[l.start]))}l.childTokens&&(c.childTokens[l.name]=l.childTokens)})),e.renderer){let l=V1.defaults.renderer||new kn;for(let i in e.renderer){let o=l[i];l[i]=(...n)=>{let h=e.renderer[i].apply(l,n);return h===!1&&(h=o.apply(l,n)),h}}a.renderer=l}if(e.tokenizer){let l=V1.defaults.tokenizer||new Sn;for(let i in e.tokenizer){let o=l[i];l[i]=(...n)=>{let h=e.tokenizer[i].apply(l,n);return h===!1&&(h=o.apply(l,n)),h}}a.tokenizer=l}if(e.walkTokens){let l=V1.defaults.walkTokens;a.walkTokens=function(i){let o=[];return o.push(e.walkTokens.call(this,i)),l&&(o=o.concat(l.call(this,i))),o}}r&&(a.extensions=c),V1.setOptions(a)})};V1.walkTokens=function(t,a){let c=[];for(let r of t)switch(c=c.concat(a.call(V1,r)),r.type){case"table":{for(let e of r.header)c=c.concat(V1.walkTokens(e.tokens,a));for(let e of r.rows)for(let l of e)c=c.concat(V1.walkTokens(l.tokens,a));break}case"list":{c=c.concat(V1.walkTokens(r.items,a));break}default:V1.defaults.extensions&&V1.defaults.extensions.childTokens&&V1.defaults.extensions.childTokens[r.type]?V1.defaults.extensions.childTokens[r.type].forEach(function(e){c=c.concat(V1.walkTokens(r[e],a))}):r.tokens&&(c=c.concat(V1.walkTokens(r.tokens,a)))}return c};V1.parseInline=function(t,a){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");a=J3({},V1.defaults,a||{}),cI(a);try{let c=E4.lexInline(t,a);return a.walkTokens&&V1.walkTokens(c,a.walkTokens),t4.parseInline(c,a)}catch(c){if(c.message+=`
Please report this to https://github.com/markedjs/marked.`,a.silent)return"<p>An error occurred:</p><pre>"+E2(c.message+"",!0)+"</pre>";throw c}};V1.Parser=t4;V1.parser=t4.parse;V1.Renderer=kn;V1.TextRenderer=Hp;V1.Lexer=E4;V1.lexer=E4.lex;V1.Tokenizer=Sn;V1.Slugger=Vp;V1.parse=V1;TL1=V1.options,EL1=V1.setOptions,OL1=V1.use,ZL1=V1.walkTokens,DL1=V1.parseInline,jL1=t4.parse,WL1=E4.lex});var q01,An,wp=x(()=>{a1();fr();q01=V(f5)`
  padding: 6px;
`,An=q01});var z2,Bp,Rn,yp,N01,oI,U01,nI,K01,$01,Q01,bn,$8,X01,Y01,J01,t31,a31,hI,vI,Sp,st=x(()=>{z2=y(P());QF();a1();G1();f1();m1();iI();ht();wp();Bp=({title:t,message:a})=>`${t} ${a}`,Rn=(()=>{let t=new Map;return{add:a=>{let c=Bp(a);t.has(c)?t.set(c,t.get(c)+1):t.set(c,1)},delete:a=>{let c=Bp(a);t.has(c)&&t.get(c)>1?t.set(c,t.get(c)-1):t.delete(c)},clear:()=>{t.clear()},check:a=>t.has(Bp(a))}})(),yp=(()=>{let t=new Map;return{add:a=>{t.has(a)?t.set(a,t.get(a)+1):t.set(a,1)},delete:a=>{t.has(a)&&t.get(a)>1?t.set(a,t.get(a)-1):t.delete(a)},clear:()=>{t.clear()},check:a=>t.has(a),get types(){return Array.of(...t.keys())}}})(),N01=V.div`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  ${x1};
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,oI=V.div`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`,U01=V.div`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`,nI=V.div`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`,K01=V.button`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`,$01={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},Q01=V.div`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: ${({type:t})=>$01[t]};
  }
`,bn=t=>(a,c,r=[],e=!1)=>{(e||!Rn.check({title:a,message:c}))&&(Rn.add({title:a,message:c}),yp.add(t),Vn.custom(l=>z2.default.createElement(N01,null,z2.default.createElement(Q01,{type:t}),z2.default.createElement(U01,null,z2.default.createElement(oI,null,a),z2.default.createElement(nI,{dangerouslySetInnerHTML:{__html:V1.parse(c)}}),r.length>0&&z2.default.createElement(nI,null,z2.default.createElement("span",null,"Docs:"," ",r.map((i,o)=>z2.default.createElement(z2.Fragment,{key:o},o>0&&", ",z2.default.createElement("a",{target:"_blank",href:i.url},i.title)))))),z2.default.createElement(K01,{onClick:()=>{Vn.remove(l.id),Rn.delete({title:a,message:c}),yp.delete(t)}},"Close")),{duration:1/0}))},$8={warning:bn("warning"),success:bn("success"),info:bn("info"),error:bn("error")},X01=V.div`
  display: flex;
  justify-content: ${({align:t})=>t==="center"?"center":"flex-end"};
  gap: 12px;
`,Y01=V.button`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  ${x1};
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: ${({danger:t})=>t?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"};
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,J01=V.div`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`,t31=V.div`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`,a31=V.div`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`,hI=()=>{let{hasNotifications:t}=Sp();return A3({enabled:!t},()=>z2.default.createElement(An,null,z2.default.createElement(a31,null,z2.default.createElement(oI,null,"No notifications"),"Notifications will appear here when you get them.")))},vI=()=>{var l;let{toasts:t,handlers:a}=Lp(),{startPause:c,endPause:r}=a,e=(l=g1(G().atomP.ahistoric.pinNotifications))!=null?l:!1;return z2.default.createElement(J01,null,e?t.length>0&&z2.default.createElement(t31,{onMouseEnter:c,onMouseLeave:r},z2.default.createElement("div",null,t.map(i=>z2.default.createElement("div",{key:i.id},i.message(i))))):null,z2.default.createElement(X01,{align:"side"},e&&t.length>0&&z2.default.createElement(Y01,{onClick:()=>{yp.clear(),Rn.clear(),Vn.remove()},danger:!0},"Clear")))},Sp=()=>{let{toasts:t}=Lp();return{hasNotifications:t.length>0}}});function Cr(t,a){var o;let c=Object.values((o=(0,sI.val)(t.pointers.historic.sheetsById))!=null?o:{}),r=c.flatMap(n=>{var h;return Object.values((h=n==null?void 0:n.staticOverrides.byObject)!=null?h:{})}).flatMap(n=>Object.values(n!=null?n:{})),l=[...c.flatMap(n=>{var h,v;return Object.values((v=(h=n==null?void 0:n.sequence)==null?void 0:h.tracksByObject)!=null?v:{})}).flatMap(n=>{var h;return Object.values((h=n==null?void 0:n.trackData)!=null?h:{})}).flatMap(n=>n==null?void 0:n.keyframes).map(n=>n==null?void 0:n.value)];return r.forEach(n=>{b5(n,h=>{l.push(h)},[])}),l.filter(n=>(n==null?void 0:n.type)&&(a?(n==null?void 0:n.type)==a:typeof(n==null?void 0:n.type)=="string")).map(n=>n.id).filter((n,h,v)=>n!==null&&n!==""&&v.indexOf(n)===h)}var sI,kp=x(()=>{sI=y(require("@theatre/dataverse"));Yr()});function dI(t,a){let c=new File([t],a),r=URL.createObjectURL(c),e=Object.assign(document.createElement("a"),{href:r,target:"_blank",rel:"noopener"});e.setAttribute("download",a),e.click(),setTimeout(()=>{URL.revokeObjectURL(r)},4e4)}var x0,gI,c31,r31,e31,l31,zI,uI=x(()=>{m1();Y3();Q3();x0=y(P());a1();mp();qF();gI=y(UF());st();kp();c31=V.div``,r31=V.div`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`,e31=V(T2)`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`;l31=({projects:t})=>{let a=t[0],c=a.address.projectId,r=c.replace(/[^\w\d'_\-]+/g," ").trim(),e=`${r}.theatre-project-state.json`,[l,i]=(0,x0.useState)(!1),o=(0,x0.useCallback)(()=>n2(void 0,null,function*(){var d,s;let h=Cr(a),v=new Map;try{yield Promise.all(h.map(u=>n2(void 0,null,function*(){let p=a.assetStorage.getAssetUrl(u),z=yield fetch(p);z.ok&&v.set(u,yield z.blob())})))}catch(u){$8.error("Failed to access assets",`Export aborted. Failed to access assets at ${(s=(d=a.config.assets)==null?void 0:d.baseUrl)!=null?s:"/"}. This is likely due to a CORS issue.`);return}if(v.size>0){let u=new gI.default;for(let[z,m]of v)u.file(z,m);let p=yield u.generateAsync({type:"blob"});dI(p,`${r}.assets.zip`)}let g=JSON.stringify(G().createContentOfSaveFile(a.address.projectId),null,2);dI(g,e),i(!0),setTimeout(()=>{i(!1)},2e3)}),[a,e]),n=M2({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>x0.default.createElement(e31,null,x0.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),x0.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),x0.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return x0.default.createElement(x0.default.Fragment,null,n.node,x0.default.createElement(c31,null,x0.default.createElement(_F,{projectId:c}),x0.default.createElement(r31,null,x0.default.createElement(mr,{onMouseEnter:h=>n.open(h,h.target),onClick:l?void 0:o,disabled:l},l?"(Exported)":`Export ${c} to JSON`))))},zI=l31});function Lr(t){let[a,c]=(0,Fn.useState)(!1);return(0,Fn.useEffect)(()=>{let r=l=>{let i=a?200:50,o=56,n=t==="left"?l.x<i:l.x>window.innerWidth-i;n&&(n=l.y>o),c(!!n)};document.addEventListener("mousemove",r);let e=()=>{c(!1)};return document.addEventListener("mouseleave",e),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseleave",e)}},[a]),a}var Fn,Ap=x(()=>{Fn=y(P())});var q6,i31,o31,n31,h31,v31,pI,mI=x(()=>{q6=y(P());a1();zr();i31=V.div`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`,o31=V.div`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`,n31=V.div`
  color: rgba(145, 145, 145, 0.8);
`,h31=V.a`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`,v31=()=>q6.default.createElement(i31,null,q6.default.createElement(o31,null,q6.default.createElement(n31,null,q6.default.createElement(gr,null)),q6.default.createElement("div",null,"Please select an object from the ",q6.default.createElement("u",null,"Outline Menu")," to see its properties.")),q6.default.createElement(h31,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),pI=v31});var O1,N6,s31,Rp,fI,MI,xI,rt,g31,CI,bp,gt,RH1,sn=x(()=>{g5();f1();O1=y(P());a1();I5();b4();G1();FF();uI();m1();Ap();N6=y(require("@theatre/dataverse"));mI();Au();A4();s31="32px",Rp=V.div`
  ${x1};
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: ${p5.propsPanel};

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: ${({pin:t})=>t?"block":"none"};

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,fI=V.div`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  ${x1};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,MI=V.div`
  height: ${s31};
  display: flex;
  align-items: center;
`,xI=V.div`
  ${x1};
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`,rt=(0,O1.createContext)([!1,()=>()=>{}]),g31=t=>{let a=g1(G().atomP.ahistoric.pinDetails)!==!1,c=Lr("right");(0,O1.useLayoutEffect)(()=>{bp.set(c)},[c]),(0,O1.useEffect)(()=>()=>{gt.set(!1),bp.set(!1)},[]);let[r]=(0,O1.useContext)(rt),e=a||c||r,[l,i]=(0,O1.useState)(null);return yo(l),h1(()=>{let o=a3(),n=o.find(t0);if(n)return O1.default.createElement(Rp,{"data-testid":"DetailPanel-Object",pin:e,ref:i,onMouseEnter:()=>{gt.set(!0)},onMouseLeave:()=>{gt.set(!1)}},O1.default.createElement(MI,null,O1.default.createElement(fI,{title:`${n.sheet.address.sheetId}: ${n.sheet.address.sheetInstanceId} > ${n.address.objectKey}`},O1.default.createElement(m5,null,n.sheet.address.sheetId," "),O1.default.createElement(W9,null,":","\xA0"),O1.default.createElement(m5,null,n.sheet.address.sheetInstanceId," "),O1.default.createElement(W9,null,"\xA0\u2192\xA0"),O1.default.createElement(m5,null,n.address.objectKey))),O1.default.createElement(xI,null,O1.default.createElement(bF,{objects:[n]})));let h=o.find(Jr);return h?O1.default.createElement(Rp,{pin:e},O1.default.createElement(MI,null,O1.default.createElement(fI,{title:`${h.address.projectId}`},O1.default.createElement(m5,null,h.address.projectId," "))),O1.default.createElement(xI,null,O1.default.createElement(zI,{projects:[h]}))):O1.default.createElement(Rp,{pin:e,onMouseEnter:()=>{gt.set(!0)},onMouseLeave:()=>{gt.set(!1)}},O1.default.createElement(pI,null))},[e])},CI=()=>{let t=Xc();return O1.default.createElement(rt.Provider,{value:t},O1.default.createElement(g31,null))},bp=new N6.Atom(!1),gt=new N6.Atom(!1),RH1=(0,N6.prism)(()=>{let t=(0,N6.val)(gt.prism),a=(0,N6.val)(bp.prism);return t||a})});function E1(t,a){let[c,r]=eb(t,a),[,e]=(0,U6.useContext)(rt);return(0,U6.useEffect)(()=>{var o;let i;return c.isOpen&&((o=a.onOpen)==null||o.call(a),i=e()),()=>i==null?void 0:i()},[c.isOpen,a.onOpen]),[c.isOpen?U6.default.createElement(cb,{items:a.menuItems,displayName:a.displayName,clickPoint:c.event,onRequestClose:r}):d31,r,c.isOpen]}var U6,d31,s0=x(()=>{U6=y(P());rb();lb();sn();d31=U6.default.createElement(U6.default.Fragment,null)});function z31(t,a){let c=0,[r,e]=t,[l,i]=a;return e-r>i-l?[l,i]:(r<l&&(c=0-r),e>i&&(c=i-e),[r+c,e+c])}var a4,M5,x2,LI,In,u31,HI,Fp=x(()=>{a4=y(require("@theatre/dataverse"));f1();G1();m1();K6();s0();m2();P1();M5=y(P());a1();G2();x2={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},LI=1e3,In=V.div`
  position: absolute;
  height: ${()=>T0-1}px;
  background-color: ${t=>t.enabled?x2.enabled.backgroundColor:x2.disabled.backgroundColor};
  cursor: grab;
  top: 0;
  left: 0;
  width: ${LI}px;
  transform-origin: left top;
  &:hover {
    background-color: ${x2.hover.backgroundColor};
  }
  &.dragging {
    background-color: ${x2.dragging.backgroundColor};
    cursor: grabbing !important;
  }
  ${x1};

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`;u31=({layoutP:t})=>{let a=(0,M5.useMemo)(()=>(0,a4.prism)(()=>{let{projectId:h,sheetId:v}=(0,a4.val)(t.sheet).address;return(0,a4.val)(G().atomP.ahistoric.projects.stateByProjectId[h].stateBySheetId[v].sequence.focusRange)}),[t]),[c,r]=d1(null),[e]=E1(r,{menuItems:()=>{let h=(0,a4.val)(t.sheet),v=a.getValue();return[{label:"Delete focus range",callback:()=>{G().tempTransaction(({stateEditors:g})=>{g.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(S({},h.address))}).commit()}},{label:(v==null?void 0:v.enabled)?"Disable focus range":"Enable focus range",callback:()=>{v!==void 0&&G().tempTransaction(({stateEditors:g})=>{g.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(D(S({},h.address),{range:v.range,enabled:!v.enabled}))}).commit()}}]}}),l=g1(t.scaledSpace.toUnitSpace),i=g1(t.sheet),o=(0,M5.useMemo)(()=>{let h,v;return{debugName:"FocusRangeStrip",onDragStart(g){let d,s=a.getValue();if(!s)return!1;let u=s.range.start,p=s.range.end,z=!1,m=(0,a4.val)(t.sheet).getSequence();return{onDrag(f){if(s=a.getValue(),s){z=!0;let M=l(f),H=u+M,w=p+M;w<H&&(w=H),[h,v]=z31([H,w],[0,m.length]).map(B=>m.closestGridPosition(B)),d&&d.discard(),d=G().tempTransaction(({stateEditors:B})=>{var k;B.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(D(S({},i.address),{range:{start:h,end:v},enabled:(k=s==null?void 0:s.enabled)!=null?k:!0}))})}},onDragEnd(){s&&(z&&d!==void 0?d.commit():d&&d.discard())}}},lockCSSCursorTo:"grabbing"}},[i,l]),[n]=S1(r,o);return v0(n,-1),h1(()=>{let h=a.getValue(),v=(h==null?void 0:h.range)||{start:0,end:0},g=(0,a4.val)(t.clippedSpace.fromUnitSpace)(v.start),d=(0,a4.val)(t.clippedSpace.fromUnitSpace)(v.end),s,u;return g<0&&(g=0),d>(0,a4.val)(t.clippedSpace.width)&&(d=(0,a4.val)(t.clippedSpace.width)),g>d?(u=0,s=0):(u=g,s=(d-g)/LI),h?M5.default.createElement(M5.default.Fragment,null,e,M5.default.createElement(In,{id:"range-strip",enabled:h.enabled,className:`${n?"dragging":""} ${h.enabled?"enabled":""}`,ref:c,style:{transform:`translateX(${u}px) scale(${s}, 1)`}})):M5.default.createElement(M5.default.Fragment,null)},[t,c,a,e,n])},HI=u31});var x5,O4,p31,m31,f31,M31,Ip,VI=x(()=>{x5=y(require("@theatre/dataverse"));f1();m1();K6();A0();m2();P1();O4=y(P());a1();G2();Fp();H3();p31=V.div`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: ${t=>t.type==="start"?0:-x2.thumbWidth}px;
  transform-origin: left top;
  width: ${x2.thumbWidth}px;
  height: ${()=>T0-1}px;
  z-index: 3;

  --bg: ${({enabled:t})=>t?x2.enabled.backgroundColor:x2.disabled.backgroundColor};

  stroke: ${x2.enabled.stroke};
  user-select: none;

  cursor: ${t=>t.type==="start"?"w-resize":"e-resize"};

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(${k0});
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  ${()=>In}:hover ~ &, &:hover {
    --bg: ${x2.hover.backgroundColor};
    stroke: ${x2.hover.stroke};
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  ${()=>In}.dragging.dragging ~ & {
    --bg: ${x2.dragging.backgroundColor};
    stroke: ${x2.dragging.stroke};
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: ${x2.dragging.backgroundColor};
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`,m31=V.div`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    ${t=>t.type==="start"?90:-90}deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: ${t=>t.type==="start"?x2.thumbWidth:-x2.thumbWidth+1}px;
`,f31=V.div`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    ${t=>t.type==="start"?-90:90}deg,
    ${()=>dt.backgroundColor} 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: ${t=>t.type==="start"?-12:x2.thumbWidth}px;
`,M31=({layoutP:t,thumbType:a})=>{var n;let[c,r]=d1(null),e=(0,O4.useMemo)(()=>(0,x5.prism)(()=>{let{projectId:h,sheetId:v}=(0,x5.val)(t.sheet).address;return(0,x5.val)(G().atomP.ahistoric.projects.stateByProjectId[h].stateBySheetId[v].sequence.focusRange)}),[t]),l=(0,O4.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let h,v,g=(0,x5.val)(t.sheet),d=g.getSequence(),s={start:0,end:d.length},u=e.getValue()||{range:s,enabled:!1},p=u.enabled,z=u.range[a],m=(0,x5.val)(t.scaledSpace.toUnitSpace),f=m(x2.rangeStripMinWidth);return{onDrag(M,H,w){var j;let B,k=r2.checkIfMouseEventSnapToPos(w,{ignore:r});if(k==null){let b=m(M);B=z+b}else B=k;v=((j=e.getValue())==null?void 0:j.range)||s,a==="start"?B=Math.max(Math.min(B,v.end-f),0):B=Math.min(Math.max(B,v.start+f),g.getSequence().length);let I=g.getSequence().closestGridPosition(B);h!==void 0&&h.discard(),h=G().tempTransaction(({stateEditors:b})=>{b.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(D(S({},g.address),{range:D(S({},v),{[a]:I}),enabled:p}))})},onDragEnd(M){M?h==null||h.commit():h==null||h.discard()}}}}),[t]),[i]=S1(r,l);g2(i,"draggingPositionInSequenceEditor",a==="start"?"w-resize":"e-resize");let o=g1(e);return v0(i,(n=o==null?void 0:o.range[a])!=null?n:0),h1(()=>{let h=e.getValue();if(!h)return null;let{enabled:v}=h,g=h.range[a],d=(0,x5.val)(t.clippedSpace.fromUnitSpace)(g);return(d<0||(0,x5.val)(t.clippedSpace.width)<d)&&(d=-1e4),O4.default.createElement(p31,D(S(S({ref:c},r2.includePositionSnapAttrs(g)),P2(g)),{className:`${i&&"dragging"} ${v&&"enabled"}`,enabled:v,type:a,style:{transform:`translate3d(${d}px, 0, 0)`}}),O4.default.createElement(m31,{type:a,enabled:v}),O4.default.createElement(f31,{type:a}),O4.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},O4.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),O4.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[t,c,e,i])},Ip=M31});function L31(t,a){let[c,r]=(0,E0.useState)("none");return g2(c!=="none","dragging",c==="creating"?"ew-resize":"move"),(0,E0.useMemo)(()=>{let e=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(i){let o,n=(0,$6.val)(t.clippedSpace.toUnitSpace),h=(0,$6.val)(t.scaledSpace.toUnitSpace),v=(0,$6.val)(t.sheet),g=v.getSequence(),s=i.target.getBoundingClientRect(),u=n(i.clientX-s.left),p=h(x2.rangeStripMinWidth);return{onDrag(z){let m=h(z),f=u,M=u+m;[f,M]=[F1(f,0,g.length),F1(M,0,g.length)].map(H=>g.closestGridPosition(H)),M<f?[f,M]=[Math.max(Math.min(M,f-p),0),f]:z>0&&(M=Math.min(Math.max(M,f+p),g.length)),o&&o.discard(),o=G().tempTransaction(({stateEditors:H})=>{H.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(D(S({},v.address),{range:{start:f,end:M},enabled:!0}))})},onDragEnd(z){z&&o!==void 0?o.commit():o&&o.discard()}}},lockCSSCursorTo:"ew-resize"}),l=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let i,o=a.current,n=a.current.addBoundsHighlightLock();return{onDrag(h,v){let g=D(S({},o.dims),{top:F1(o.dims.top+v,0,window.innerHeight-B3),left:F1(o.dims.left+h,-o.dims.width+B3,window.innerWidth-B3)}),d=U9(g,{width:window.innerWidth,height:window.innerHeight});i==null||i.discard(),i=G().tempTransaction(({stateEditors:s})=>{s.studio.historic.panelPositions.setPanelPosition({position:d,panelId:o.panelId})})},onDragEnd(h){n(),h?i==null||i.commit():i==null||i.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(i){let[o,n]=i.shiftKey?["creating",e().onDragStart(i)]:["moving-panel",l().onDragStart(i)];return r(o),n===!1?!1:{onDrag(h,v,g,d,s){n.onDrag(h,v,g,d,s)},onDragEnd(h){var v;r("none"),(v=n.onDragEnd)==null||v.call(n,h)}}}}},[t,a])}var $6,E0,x31,C31,wI,BI=x(()=>{$6=y(require("@theatre/dataverse"));f1();m1();W8();K6();A0();m2();QR();pz();P1();C2();E0=y(P());a1();Fp();VI();b4();x31=V.div`
  position: absolute;
  height: ${()=>T0}px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: ${t=>t.isShiftDown?"ew-resize":"move"};
`,C31=({layoutP:t})=>{let[a,c]=d1(null),r=P4(),e=(0,E0.useRef)(r);e.current=r;let l=(0,E0.useMemo)(()=>(0,$6.prism)(()=>{let{projectId:n,sheetId:h}=(0,$6.val)(t.sheet).address;return(0,$6.val)(G().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[h].sequence.focusRange)}),[t]);S1(c,L31(t,e));let i=bc("Shift"),o=Ru(c);return(0,E0.useEffect)(()=>{if(!i&&o)return e.current.addBoundsHighlightLock()},[!i&&o]),h1(()=>E0.default.createElement(x31,{ref:a,isShiftDown:i},E0.default.createElement(HI,{layoutP:t}),E0.default.createElement(Ip,{thumbType:"start",layoutP:t}),E0.default.createElement(Ip,{thumbType:"end",layoutP:t})),[t,l,i])},wI=C31});var zt,T0,dt,H31,V31,yI,K6=x(()=>{f1();zt=y(P());a1();Su();G2();G1();BI();T0=18,dt={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},H31=V.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: ${T0}px;
  box-sizing: border-box;
  background: ${dt.backgroundColor};
  border-bottom: 1px solid ${dt.borderColor};
  ${x1};
`,V31=({layoutP:t})=>{let a=g1(t.rightDims.width);return zt.default.createElement(zt.default.Fragment,null,zt.default.createElement(H31,S({},P2("hide")),zt.default.createElement(AR,{layoutP:t,width:a,height:T0}),zt.default.createElement(wI,{layoutP:t})))},yI=V31});var Z4,w31,B31,y31,S31,k31,SI,kI=x(()=>{Z4=y(P());a1();f1();m1();Yo();P6();w31=t=>isFinite(t)&&t>0,B31=V.div`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`,y31=V.div`
  ${F0};
  white-space: nowrap;
`,S31=({deltaX:t})=>t*.25,k31=({layoutP:t})=>{let a=g1(t.sheet),c=(0,Z4.useMemo)(()=>{let e;return{temporarilySetValue(l){e&&(e.discard(),e=void 0),e=G().tempTransaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.setLength(D(S({},a.address),{length:l}))})},discardTemporaryValue(){e&&(e.discard(),e=void 0)},permanentlySetValue(l){e&&(e.discard(),e=void 0),G().transaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.setLength(D(S({},a.address),{length:l}))})}}},[t,a]),r=(0,Z4.useRef)(null);return(0,Z4.useLayoutEffect)(()=>{r.current.focus()},[]),h1(()=>{let l=a.getSequence().length;return Z4.default.createElement(B31,null,Z4.default.createElement(y31,null,"Sequence length"),Z4.default.createElement(X9,D(S({value:l},c),{isValid:w31,inputRef:r,nudge:S31})))},[a,c,r])},SI=k31});function G31(t,a){let c=(0,g0.useRef)(a);c.current=a;let r=(0,g0.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(l){let i,o=c.current,n=(0,Q8.val)(c.current.layoutP.sheet),h=n.getSequence().length,v=(0,Q8.val)(o.layoutP.scaledSpace.toUnitSpace);return{onDrag(g,d,s){let u=v(g);i&&(i.discard(),i=void 0),i=G().tempTransaction(({stateEditors:p})=>{p.coreByProject.historic.sheetsById.sequence.setLength(D(S({},n.address),{length:h+u}))})},onDragEnd(g){g?i&&i.commit():i&&i.discard()}}}}),[]),[e]=S1(t,r);return v0(e,-1),[e]}var Q8,g0,AI,Pn,X8,A31,R31,b31,F31,I31,P31,RI,bI=x(()=>{f1();Q8=y(require("@theatre/dataverse")),g0=y(P());a1();R4();K6();P1();m2();m1();Q3();G2();Z8();kI();G1();Y3();AI=1e3,Pn={stripNormal:"#0000006c",stripActive:"#000000"},X8=V.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: ${()=>U2.lengthIndicatorStrip};
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: ${T0}px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: ${Pn.stripNormal};
  }

  &:hover:after,
  &.dragging:after {
    background-color: ${Pn.stripActive};
  }
`,A31=V.div`
  position: absolute;
  top: ${T0-15}px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`,R31=V.div`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  ${x1};
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  ${X8}:hover &, ${X8}.dragging & {
    display: block;
    color: white;
    background-color: ${Pn.stripActive};
  }
`,b31=V.div`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  ${x1};
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  ${X8}:hover &, ${X8}.dragging & {
    color: white;
    background-color: ${Pn.stripActive};

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`,F31=V.div`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: ${AI}px;
  z-index: ${()=>U2.lengthIndicatorCover};
  transform-origin: left top;

  ${X8}.dragging ~ &, ${X8}:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`,I31=-1e4,P31=({layoutP:t})=>{let[a,c]=d1(null),[r]=G31(c,{layoutP:t}),{node:e,toggle:l,close:i}=M2({debugName:"LengthIndicator"},()=>g0.default.createElement(T2,null,g0.default.createElement(SI,{layoutP:t,onRequestClose:i})));return h1(()=>{let o=(0,Q8.val)(t.sheet),n=(0,Q8.val)(t.rightDims.height),h=o.getSequence(),v=h.length,g=v,d=(0,Q8.val)(t.clippedSpace.fromUnitSpace)(g),s=(0,Q8.val)(t.clippedSpace.width),u,p;return d>s?(p=0,u=0):(d<0&&(d=0),p=d,u=(s-d)/AI),g0.default.createElement(g0.default.Fragment,null,e,g0.default.createElement(X8,{style:{height:n+"px",transform:`translateX(${p===0?I31:p}px)`},className:r?"dragging":""},g0.default.createElement(A31,null,g0.default.createElement(b31,S({ref:a,onClick:z=>{l(z,c)}},P2("hide")),g0.default.createElement(BA,null),g0.default.createElement(yA,null)),g0.default.createElement(R31,null,"Sequence length:"," ",h.positionFormatter.formatBasic(v)))),g0.default.createElement(F31,{title:"Length",style:{height:n+"px",transform:`translateX(${p}px) scale(${u}, 1)`}}))},[t,a,r,e])};RI=P31});var Pp,C5,T31,E31,O31,Z31,FI,II=x(()=>{f1();Pp=y(require("@theatre/dataverse")),C5=y(P());a1();Su();R4();K6();G2();T31=V.div`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`,E31=V.div`
  position: absolute;
  top: 16px;
  font-size: ${O6.stampFontSize};
  color: ${O6.fullUnitStampColor};
  text-align: center;
  transform: translateX(-50%);
  background: ${dt.backgroundColor};
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: ${()=>U2.currentFrameStamp};
`,O31=V.div`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`,Z31=C5.default.memo(({layoutP:t})=>{let[a,c]=g1(IR()),r=g1(t.clippedSpace.fromUnitSpace),{sequence:e,formatter:l,clippedSpaceWidth:i}=h1(()=>{let v=(0,Pp.val)(t.sheet).getSequence(),g=(0,Pp.val)(t.clippedSpace.width);return{sequence:v,formatter:v.positionFormatter,clippedSpaceWidth:g}},[t]);if(a==-1)return C5.default.createElement(C5.default.Fragment,null);let o=c===y3.free?e.closestGridPosition(a):a,n=r(o),h=n>=0&&n<=i;return C5.default.createElement(C5.default.Fragment,null,C5.default.createElement(T31,null,C5.default.createElement(E31,{style:{opacity:h?1:0,transform:`translate3d(calc(${n}px - 50%), 0, 0)`}},l.formatForPlayhead(o)),C5.default.createElement(O31,{posType:c,style:{opacity:h?1:0,transform:`translate3d(${n}px, 0, 0)`}}))," ")}),FI=Z31});var R3,O2,D31,j31,Gp,PI,Tp,Ep,GI,W31,TI,EI=x(()=>{f1();R3=y(require("@theatre/dataverse"));es();b0();O2=y(P());a1();R4();G2();G1();m2();D31=V.div`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: ${()=>U2.horizontalScrollbar};
  ${x1}
`,j31=V.div`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`,Gp=V.div`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    ${lo("absolute","-4px")};
    display: block;
    content: ' ';
  }
`,PI=V.div`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    ${lo("absolute","0")};
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    ${lo("absolute","-4px")};
    display: block;
    content: ' ';
  }
`,Tp=V(PI)`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`,Ep=V(PI)`
  cursor: e-resize;
  left: 0px;
`,GI=V.div`
  display: ${t=>t.active?"block":"none"};
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  ${Tp}:hover &,
  ${Ep}:hover &,
  ${Gp}:hover ~ ${Tp} &,
  ${Gp}:hover ~ ${Ep} & {
    display: block;
  }
`,W31=({layoutP:t})=>{let a=(0,O2.useCallback)(z=>z.toFixed(2),[]),c=(0,O2.useMemo)(()=>(0,R3.prism)(()=>{let z=(0,R3.val)(t.rightDims.width)-25,m=(0,R3.val)(t.clippedSpace.range),f=(0,R3.val)(t.sheet).getSequence().length,M=Math.max(m.end,f),H=m.start/M*z,w=m.end/M*z;return{rightWidth:z,clippedSpaceRange:m,sequenceLength:f,assumedLengthOfSequence:M,rangeStartX:H,rangeEndX:w,bottom:(0,R3.val)(t.horizontalScrollbarDims.bottom)}}),[t]),{rangeStartX:r,rangeEndX:e,clippedSpaceRange:l,bottom:i}=g1(c),[o,n]=(0,O2.useState)("nothing"),h=(0,O2.useMemo)(()=>{let z=(0,R3.val)(c),m=()=>{z=(0,R3.val)(c)},f=H=>H/z.rightWidth*z.assumedLengthOfSequence;return{onRangeDragStart(){return m(),{onDrag(H){n("both");let w=f(H),B=a5(z.clippedSpaceRange,k=>k+w);(0,R3.val)(t.clippedSpace.setRange)(B)},onDragEnd(){n("nothing")}}},onRangeStartDragStart(){return m(),{onDrag(H){n("start");let w=f(H),B={start:z.clippedSpaceRange.start+w,end:z.clippedSpaceRange.end};B.start>B.end-1&&(B.start=B.end-1),B.start<=0&&(B.start=0),(0,R3.val)(t.clippedSpace.setRange)(B)},onDragEnd(){n("nothing")}}},onRangeEndDragStart(){return m(),{onDrag(H){n("end");let w=f(H),B={start:z.clippedSpaceRange.start,end:z.clippedSpaceRange.end+w};B.end<B.start+1&&(B.end=B.start+1),B.end>=z.assumedLengthOfSequence&&(B.end=z.assumedLengthOfSequence),(0,R3.val)(t.clippedSpace.setRange)(B)},onDragEnd(){n("nothing")}}}}},[t,c]),[v,g]=(0,O2.useState)(null);S1(v,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:h.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[d,s]=(0,O2.useState)(null);S1(d,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:h.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[u,p]=(0,O2.useState)(null);return S1(u,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:h.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),O2.default.createElement(D31,S({style:{bottom:i+8+"px"}},P2("hide")),O2.default.createElement(j31,null,O2.default.createElement(Gp,{ref:g,style:{width:`${e-r}px`,transform:`translate3d(${r}px, 0, 0)`}}),O2.default.createElement(Tp,{ref:s,style:{transform:`translate3d(${r}px, 0, 0)`}},O2.default.createElement(GI,{active:o==="both"||o==="start"},a(l.start))),O2.default.createElement(Ep,{ref:p,style:{transform:`translate3d(${e}px, 0, 0)`}},O2.default.createElement(GI,{active:o==="both"||o==="end"},a(l.end)))))},TI=W31});var OI,_31,q31,ZI,DI=x(()=>{OI=y(P());a1();_31=V.div`
  position: absolute;
  inset: ${t=>t.room*-1}px;
`,q31=t=>OI.default.createElement(_31,{room:t.room}),ZI=q31});var ut,Gn,Op,N31,U31,K31,$31,Q31,jI,WI=x(()=>{a1();f1();Yo();P6();ut=y(P()),Gn=y(P()),Op=y(require("@theatre/dataverse"));da();N31=t=>isFinite(t)&&t>=0,U31=V.div`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`,K31=V.div`
  ${F0};
  white-space: nowrap;
`,$31=({deltaX:t})=>t*.25,Q31=({layoutP:t,onRequestClose:a})=>{let c=(0,Op.val)(t.sheet),r=c.getSequence(),e=(0,ut.useMemo)(()=>{let i,o=r.position;return{temporarilySetValue(n){i&&(i=void 0),i=F1(n,0,r.length),r.position=i},discardTemporaryValue(){i&&(i=void 0,r.position=o,a("discardTemporaryValue"))},permanentlySetValue(n){i&&(i=void 0),r.position=F1(n,0,r.length),a("permanentlySetValue")}}},[t,r]),l=(0,ut.useRef)(null);return(0,ut.useLayoutEffect)(()=>{l.current.focus()},[]),h1(()=>{let i=c.getSequence(),o=Number((0,Op.val)(i.pointer.position).toFixed(3));return Gn.default.createElement(U31,null,Gn.default.createElement(K31,null,"Sequence position"),Gn.default.createElement(X9,D(S({value:o},e),{isValid:N31,inputRef:l,nudge:$31})))},[c,e,l])},jI=Q31});var _I,qI=x(()=>{_I=typeof navigator!="undefined"&&navigator.platform.toUpperCase().indexOf("MAC")>=0});var NI,UI=x(()=>{qI();NI=t=>_I?t.metaKey===!0:t.ctrlKey===!0});function $I(){Zp=!1}function QI(){Zp=!0}function Dp(){let t=G();(0,KI.useEffect)(()=>{let a=c=>{let r=c.composedPath()[0];if(!(r&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA"))){if(c.key==="z"||c.key==="Z"||c.code==="KeyZ")if(NI(c))c.shiftKey===!0?t.redo():t.undo();else return;else if(c.code==="Space"&&!c.shiftKey&&!c.metaKey&&!c.altKey&&!c.ctrlKey){if(!Zp)return;let e=ek();if(e)if(e.playing)e.pause();else{let{projectId:l,sheetId:i}=e.address,o=(0,o3.prism)(()=>{let v=(0,o3.val)(G().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[i].sequence.focusRange);if(o3.prism.memo("shouldFollowFocusRange",()=>{let d=e.position;if(v){let s=d>=v.range.start&&d<=v.range.end;return v.enabled?!!s:!0}else return!0},[])&&v&&v.enabled)return{range:[v.range.start,v.range.end],isFollowingARange:!0};{let d=(0,o3.val)(e.pointer.length);return{range:[0,d],isFollowingARange:!1}}}),n=e.playDynamicRange((0,o3.prism)(()=>(0,o3.val)(o).range),G().ticker),h=XI(e);n.finally(()=>{h.set(void 0)}),h.set(o)}else return}else if(c.altKey&&(c.key==="\\"||c.code==="Backslash"||c.code==="IntlBackslash"))t.transaction(({stateEditors:e,drafts:l})=>{e.studio.ahistoric.setVisibilityState(l.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;c.preventDefault(),c.stopPropagation()}};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[])}var KI,o3,Zp,XI,YI,Tn=x(()=>{KI=y(P());m1();UI();g5();o3=y(require("@theatre/dataverse"));Xt();Zp=!0;XI=s4(t=>new o3.Atom(void 0)),YI=s4(t=>(0,o3.prism)(()=>{let a=XI(t).prism.getValue();if(a)return a.getValue().isFollowingARange;{let{projectId:c,sheetId:r}=t.address,e=(0,o3.val)(G().atomP.ahistoric.projects.stateByProjectId[c].stateBySheetId[r].sequence.focusRange);if(!e||!e.enabled)return!1;let l=(0,o3.val)(t.pointer.position);return l>=e.range.start&&l<=e.range.end}}))});var tP,JI=x(()=>{tP="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAzNCAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSA3VjFINyIgc3Ryb2tlPSIjNzRGRkRFIiBzdHJva2Utd2lkdGg9IjAuMjUiIC8+CiAgPHBhdGggZD0iTTcgMzNIMUwxIDI3IiBzdHJva2U9IiM3NEZGREUiIHN0cm9rZS13aWR0aD0iMC4yNSIgLz4KICA8cGF0aCBkPSJNMzMgMjdWMzNIMjciIHN0cm9rZT0iIzc0RkZERSIgc3Ryb2tlLXdpZHRoPSIwLjI1IiAvPgogIDxwYXRoIGQ9Ik0yNyAxTDMzIDFWNyIgc3Ryb2tlPSIjNzRGRkRFIiBzdHJva2Utd2lkdGg9IjAuMjUiIC8+Cjwvc3ZnPg=="});var C0,Hr=x(()=>{C0=(t,a=t)=>`
  left: ${t*-.5}px;
  top: ${a*-.5}px;
  width: ${t}px;
  height: ${a}px;
`});var Y31,En,aP,c4,jp=x(()=>{G1();A0();a1();JI();Hr();H3();G2();Y31=12,En=34,aP="beingDragged",c4={BEING_DRAGGED_CLASS:aP,CSS:F2`
    position: absolute;
    ${C0(Y31)};
    ${x1};

    &.${aP} {
      pointer-events: none !important;
    }
  `,CSS_WHEN_SOMETHING_DRAGGING:F2`
    pointer-events: auto;
    cursor: var(${k0});

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - ${En/2}px);
      left: calc(50% - ${En/2}px);
      width: ${En}px;
      height: ${En}px;
      display: block;
      content: ' ';
      background: url(${tP}) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `,reactProps(t){return D(S(S({},P2(t.position)),r2.includePositionSnapAttrs(t.position)),{className:t.isDragging?c4.BEING_DRAGGED_CLASS:""})}}});function mt(){On.set({mode:"snapToAll"})}function b3(){On.set({mode:"snapToNone"})}function Dn(t){On.set({mode:"snapToSome",positions:t})}function jn(t,a){return Object.fromEntries(Object.entries(t).map(([c,r])=>[c,Object.fromEntries(Object.entries(r.trackData).map(([e,l])=>[e,l.keyframes.filter(i=>a(i,{trackId:e,trackData:l,objectKey:c})).map(i=>i.position)]))]))}var cP,rP,Wp,J31,t41,a41,pt,On,Zn,Q6=x(()=>{cP=y(require("@theatre/dataverse")),rP=y(require("@theatre/dataverse")),Wp=y(P());a1();jp();J31=V.div`
  z-index: 1;
  cursor: ew-resize;

  ${c4.CSS}

  #pointer-root.draggingPositionInSequenceEditor & {
    ${c4.CSS_WHEN_SOMETHING_DRAGGING}
  }
`,t41=V.div`
  position: absolute;
`,a41=t=>Wp.default.createElement(t41,{style:{top:`${t.leaf.nodeHeight/2}px`,left:`calc(${(0,rP.val)(t.layoutP.scaledSpace.leftPadding)}px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ${t.position}px))`}},Wp.default.createElement(J31,S({},c4.reactProps({isDragging:!1,position:t.position})))),pt=a41,On=new cP.Atom({mode:"snapToNone"}),Zn=On.prism});function i41(t,a){return E1(t,{menuItems(){return[{label:"Place marker",callback:()=>{G().transaction(({stateEditors:c})=>{let r=(0,D4.val)(a.layoutP.sheet),e=r.getSequence();c.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:r.address,markers:[{id:sV(),position:e.position}],snappingFunction:e.closestGridPosition})})}}]}})}var D4,n3,ft,c41,eP,r41,e41,l41,lP,iP=x(()=>{DI();m2();P1();f1();D4=y(require("@theatre/dataverse"));da();n3=y(P());a1();R4();G2();G1();Q3();Y3();WI();Tn();A0();s0();m1();z4();H3();Q6();ft=V.div`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: ${()=>U2.playhead};
  pointer-events: none;

  display: ${t=>t.isVisible?"block":"none"};
`,c41=V.div`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(${k0}); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`,eP=V.div`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  ${x1};

  ${ft}.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    ${ft}:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(${k0});
  }

  ${ft}.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`,r41=V.div`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* ${ft}.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`,e41=V.div`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  ${eP}:hover &, ${ft}.seeking & {
    display: block;
  }
`,l41=({layoutP:t})=>{let[a,c]=d1(null),{node:r,toggle:e,close:l}=M2({debugName:"Playhead"},()=>n3.default.createElement(T2,null,n3.default.createElement(jI,{layoutP:t,onRequestClose:l}))),i=(0,n3.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let h=(0,D4.val)(t.sheet).getSequence(),v=h.position,g=(0,D4.val)(t.scaledSpace.toUnitSpace),d=(0,D4.val)(t.seeker.setIsSeeking);return d(!0),mt(),{onDrag(s,u,p){var m;let z=g(s);h.position=(m=r2.checkIfMouseEventSnapToPos(p,{ignore:c}))!=null?m:F1(v+z,0,h.length)},onDragEnd(s){d(!1),b3()},onClick(s){e(s,a.current)}}}}),[t,c]),[o]=S1(c,i);g2(o,"draggingPositionInSequenceEditor","ew-resize"),v0(g1(t.seeker.isSeeking)||o,-1);let[n]=i41(c,{layoutP:t});return h1(()=>{let h=(0,D4.val)(t.seeker.isSeeking),v=(0,D4.val)(t.sheet).getSequence(),g=(0,D4.val)(YI(v)),d=v.positionPrism.getValue(),s=(0,D4.val)(t.clippedSpace.fromUnitSpace)(d),u=s>=0&&s<=(0,D4.val)(t.clippedSpace.width);return n3.default.createElement(n3.default.Fragment,null,n,r,n3.default.createElement(ft,S({isVisible:u,style:{transform:`translate3d(${s}px, 0, 0)`},className:`${h&&"seeking"} ${g&&"playheadattachedtofocusrange"}`},P2("hide")),n3.default.createElement(eP,S({ref:a},r2.includePositionSnapAttrs(d)),n3.default.createElement(ZI,{room:8}),n3.default.createElement(r41,null),n3.default.createElement(e41,null,v.positionFormatter.formatForPlayhead(v.closestGridPosition(d)))),n3.default.createElement(c41,D(S({},r2.includePositionSnapAttrs(d)),{className:h?"seeking":""}))))},[t,a,r])},lP=l41});var X6,Mt,_p,o41,n41,oP,nP=x(()=>{X6=y(require("@theatre/dataverse"));f1();m1();K6();Mt=y(P());a1();_p=1e3,o41=V.div`
  position: absolute;
  top: ${T0}px;
  left: 0;
  opacity: 0.15;
  width: ${_p}px;
  transform-origin: top left;
  pointer-events: none;
  background-color: ${t=>t.enabled?"#000000":"transparent"};
`,n41=({layoutP:t})=>{let a=(0,Mt.useMemo)(()=>(0,X6.prism)(()=>{let{projectId:c,sheetId:r}=(0,X6.val)(t.sheet).address;return(0,X6.val)(G().atomP.ahistoric.projects.stateByProjectId[c].stateBySheetId[r].sequence.focusRange)}),[t]);return h1(()=>{let c=a.getValue();if(!c||!c.enabled)return null;let{range:r}=c,e=(0,X6.val)(t.rightDims.height)-T0,l=(0,X6.val)(t.clippedSpace.fromUnitSpace),i=(0,X6.val)(t.clippedSpace.width),o=[];{let n=0,h=l(c.range.start),v,g;n>h?(g=0,v=0):(h>i&&(h=i),g=n,v=(h-n)/_p),o.push({translateX:g,scaleX:v})}{let n=l(c.range.end),h=i,v,g;n>h?(g=0,v=0):(n<0&&(n=0),g=n,v=(h-n)/_p),o.push({translateX:g,scaleX:v})}return Mt.default.createElement(Mt.default.Fragment,null,o.map(({translateX:n,scaleX:h},v)=>Mt.default.createElement(o41,{key:`curtain-${v}`,enabled:!0,style:{height:`${e}px`,transform:`translateX(${n}px) scaleX(${h})`}})))},[t,a])},oP=n41});var L5,h41,dB1,v41,hP,vP=x(()=>{L5=y(P());a1();f1();m1();P6();an();h41=V.div`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`,dB1=V.div`
  ${F0};
  white-space: nowrap;
`,v41=({layoutP:t,marker:a})=>{var l;let c=g1(t.sheet),r=(0,L5.useMemo)(()=>{let i;return{temporarilySetValue(o){i&&(i.discard(),i=void 0),i=G().tempTransaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:c.address,markerId:a.id,label:o})})},discardTemporaryValue(){i&&(i.discard(),i=void 0)},permanentlySetValue(o){i&&(i.discard(),i=void 0),G().transaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:c.address,markerId:a.id,label:o})})}}},[t,c]),e=(0,L5.useRef)(null);return(0,L5.useLayoutEffect)(()=>{e.current.focus()},[]),L5.default.createElement(h41,null,L5.default.createElement(J9,D(S({value:(l=a.label)!=null?l:""},r),{isValid:()=>!0,inputRef:e})))},hP=v41});function f41(t,a){return E1(t,{menuItems(){return[{label:"Remove marker",callback:()=>{G().transaction(({stateEditors:c})=>{c.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:a.sheetAddress,markerId:a.markerId})})}}]}})}function M41(t,a){let c=(0,K2.useRef)(a);c.current=a;let r=(0,K2.useMemo)(()=>({debugName:`MarkerDot/useDragMarker (${a.marker.id})`,onDragStart(l){let i=c.current.marker,o=(0,Wn.val)(a.layoutP.scaledSpace.toUnitSpace),n;return mt(),{onDrag(h,v,g){var u;let d=i,s=Math.max((u=r2.checkIfMouseEventSnapToPos(g,{ignore:t}))!=null?u:d.position+o(h),0);n==null||n.discard(),n=G().tempTransaction(({stateEditors:p})=>{p.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,Wn.val)(a.layoutP.sheet.address),markers:[D(S({},d),{position:s})],snappingFunction:(0,Wn.val)(a.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(h){h?n==null||n.commit():n==null||n.discard(),b3()}}}}),[]),[e]=S1(t,r);return v0(e,a.marker.position),g2(e,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[e]}var Wn,K2,sP,gP,s41,g41,d41,qp,z41,u41,p41,dP,m41,zP=x(()=>{Wn=y(require("@theatre/dataverse"));f1();m1();A0();s0();P1();K2=y(P());a1();G2();m2();R4();H3();Hr();jp();Q6();Q3();Y3();vP();sP=12,gP=12,s41=sP*2,g41=gP*2,d41=V.div`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: ${()=>U2.marker};
`,qp=V.div`
  position: absolute;
  ${C0(sP,gP)}
  pointer-events: none;
`,z41=K2.default.memo(()=>K2.default.createElement(qp,{children:K2.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},K2.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),u41=V.div`
  z-index: 1;
  cursor: ew-resize;

  ${c4.CSS}

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    ${c4.CSS_WHEN_SOMETHING_DRAGGING}
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.${c4.BEING_DRAGGED_CLASS} {
    pointer-events: auto;
    cursor: var(${k0});
  }

  &:hover
    + ${qp},
    // notice , "or" in CSS
    &.${c4.BEING_DRAGGED_CLASS}
    + ${qp} {
    ${C0(s41,g41)}
  }
`,p41=({layoutP:t,markerId:a})=>{let c=g1(t.sheet.address),r=g1(G().atomP.historic.projects.stateByProjectId[c.projectId].stateBySheetId[c.sheetId].sequenceEditor.markerSet.byId[a]);if(!r)return null;let e=g1(t.clippedSpace.width),i=g1(t.clippedSpace.fromUnitSpace)(r.position),o=i<=0||i>e;return K2.default.createElement(d41,{style:{transform:`translateX(${o?-1e4:i}px) scale(${o?0:1})`}},K2.default.createElement(m41,{marker:r,layoutP:t}))},dP=p41,m41=({layoutP:t,marker:a})=>{let c=g1(t.sheet.address),[r,e]=d1(null),[l]=f41(e,{sheetAddress:c,markerId:a.id}),[i]=M41(e,{layoutP:t,marker:a}),{node:o,toggle:n,close:h}=M2({debugName:"MarkerPopover"},()=>K2.default.createElement(T2,null,K2.default.createElement(hP,{marker:a,layoutP:t,onRequestClose:h})));return K2.default.createElement(K2.default.Fragment,null,l,o,K2.default.createElement(u41,S({title:a.label?`Marker: ${a.label}`:"Marker",ref:r,onClick:v=>{n(v,r.current)}},c4.reactProps({isDragging:i,position:a.position}))),K2.default.createElement(z41,null))}});var _n,x41,uP,pP=x(()=>{f1();m1();_n=y(P());zP();x41=({layoutP:t})=>{let a=g1(t.sheet.address),c=G().atomP.historic.projects.stateByProjectId[a.projectId].stateBySheetId[a.sheetId].sequenceEditor.markerSet,r=g1(c.allIds);return _n.default.createElement(_n.default.Fragment,null,r&&Object.keys(r).map(e=>_n.default.createElement(dP,{key:e,layoutP:t,markerId:e})))},uP=x41});var mP,H5,C41,L41,fP,MP=x(()=>{R4();f1();mP=y(require("@theatre/dataverse")),H5=y(P());a1();bI();II();EI();iP();K6();nP();pP();C41=V.div`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: ${()=>U2.rightOverlay};
  overflow: visible;
  pointer-events: none;
`,L41=({layoutP:t})=>h1(()=>{let a=(0,mP.val)(t.rightDims.width);return H5.default.createElement(C41,{style:{width:a+"px"}},H5.default.createElement(lP,{layoutP:t}),H5.default.createElement(TI,{layoutP:t}),H5.default.createElement(FI,{layoutP:t}),H5.default.createElement(yI,{layoutP:t}),H5.default.createElement(uP,{layoutP:t}),H5.default.createElement(RI,{layoutP:t}),H5.default.createElement(oP,{layoutP:t}))},[t]),fP=L41});var Y8,H41,V41,qn,Np=x(()=>{P1();m1();m2();Y8=y(P());a1();W8();A0();C2();b4();H41=V.div`
  cursor: move;
`,V41=t=>{let a=P4(),c=(0,Y8.useRef)(a);c.current=a;let[r,e]=d1(null),l=(0,Y8.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let h=c.current,v,g=a.addBoundsHighlightLock();return{onDrag(d,s){let u=D(S({},h.dims),{top:F1(h.dims.top+s,0,window.innerHeight-B3),left:F1(h.dims.left+d,-h.dims.width+B3,window.innerWidth-B3)}),p=U9(u,{width:window.innerWidth,height:window.innerHeight});v==null||v.discard(),v=G().tempTransaction(({stateEditors:z})=>{z.studio.historic.panelPositions.setPanelPosition({position:p,panelId:h.panelId})})},onDragEnd(d){g(),d?v==null||v.commit():v==null||v.discard()}}}}),[]),[i]=S1(e,l);g2(i,"dragging","move");let[o,n]=(0,Y8.useMemo)(()=>{let h;return[function(){if(h){let g=h;h=void 0,g()}h=a.addBoundsHighlightLock()},function(){if(h){let g=h;h=void 0,g()}}]},[]);return Y8.default.createElement(H41,D(S({},t),{ref:r,onMouseEnter:o,onMouseLeave:n}))},qn=V41});var xt,xP,CP,LP,w41,B41,HP,y41,S41,Nn,k41,A41,R41,b41,F41,VP,I41,V5,wP=x(()=>{P1();m1();m2();b0();xt=y(P());a1();W8();G1();C2();b4();xP=V.div`
  position: absolute;
  ${x1};
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: ${B6(.2,"#478698")}; */
  }

  &:hover {
    opacity: 1;
  }
`,CP=V(xP)`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`,LP=V(CP)`
  left: 0px;
  right: 0px;
  height: 1px;
`,w41=V(LP)`
  top: -1px;
`,B41=V(LP)`
  bottom: -1px;
`,HP=V(CP)`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`,y41=V(HP)`
  left: -1px;
`,S41=V(HP)`
  right: -1px;
`,Nn=V(xP)`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`,k41=V(Nn)`
  top: 0;
  left: 0;
`,A41=V(Nn)`
  top: 0;
  right: 0;
`,R41=V(Nn)`
  bottom: 0;
  left: 0;
`,b41=V(Nn)`
  bottom: 0;
  right: 0;
`,F41={Top:w41,TopLeft:k41,TopRight:A41,Bottom:B41,BottomLeft:R41,BottomRight:b41,Left:y41,Right:S41},VP={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},I41=({which:t})=>{let a=P4(),c=(0,xt.useRef)(a);c.current=a;let[r,e]=d1(null),l=(0,xt.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:VP[t],onDragStart(){let h,v=c.current,g=a.addBoundsHighlightLock();return{onDrag(d,s){let u=S({},v.dims);if(t.startsWith("Bottom"))u.height=Math.max(u.height+s,v.minDims.height);else if(t.startsWith("Top")){let z=u.top+u.height,m=F1(u.top+s,0,Math.min(z-v.minDims.height,window.innerHeight-B3)),f=z-m;u.height=f,u.top=m}if(t.endsWith("Left")){let z=u.left+u.width,m=Math.min(u.left+d,Math.min(z-v.minDims.width,window.innerWidth-B3)),f=z-m;u.width=f,u.left=m}else t.endsWith("Right")&&(u.width=Math.max(u.width+d,Math.max(v.minDims.width,B3-v.dims.left)));let p=U9(u,{width:window.innerWidth,height:window.innerHeight});h==null||h.discard(),h=G().tempTransaction(({stateEditors:z})=>{z.studio.historic.panelPositions.setPanelPosition({position:p,panelId:v.panelId})})},onDragEnd(d){g(),d?h==null||h.commit():h==null||h.discard()}}}}),[t]),[i]=S1(e,l),o=F41[t],n=t.length<=6;return xt.default.createElement(o,{ref:r,className:[i?"isDragging":"",a.boundsHighlighted&&n?"isHighlighted":""].join(" "),style:{cursor:VP[t]}})},V5=I41});var r4,P41,BP,yP=x(()=>{r4=y(P());wP();P41=t=>r4.default.createElement(r4.default.Fragment,null,r4.default.createElement(V5,{which:"Bottom"}),r4.default.createElement(V5,{which:"Top"}),r4.default.createElement(V5,{which:"Left"}),r4.default.createElement(V5,{which:"Right"}),r4.default.createElement(V5,{which:"TopLeft"}),r4.default.createElement(V5,{which:"TopRight"}),r4.default.createElement(V5,{which:"BottomLeft"}),r4.default.createElement(V5,{which:"BottomRight"})),BP=P41});var Un,G41,T41,Kn,Up=x(()=>{G1();Un=y(P());a1();W8();yP();G41=V.div`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  ${x1};
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`,T41=Un.default.forwardRef((t,a)=>{let c=P4(),i=t,{style:r,children:e}=i,l=n4(i,["style","children"]);return Un.default.createElement(G41,D(S({ref:a},l),{style:S({width:c.dims.width+"px",height:c.dims.height+"px",top:c.dims.top+"px",left:c.dims.left+"px"},r!=null?r:{})}),Un.default.createElement(BP,null),e)}),Kn=T41});var SP,Vr,E41,O41,kP,AP=x(()=>{SP=y(require("@theatre/dataverse"));f1();m1();Vr=y(P());a1();Z8();G2();E41=V.button`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`,O41=({layoutP:t})=>{let a=g1(t.graphEditorDims.isOpen),c=(0,Vr.useCallback)(()=>{let r=(0,SP.val)(t.graphEditorDims.isOpen);G().transaction(({stateEditors:e})=>{e.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!r})})},[t]);return Vr.default.createElement(E41,S({onClick:c,title:"Toggle graph editor",className:a?"open":""},P2("hide")),Vr.default.createElement(_A,null))},kP=O41});var F3,Y1,Z41,D41,U2,j41,W41,_41,q41,N41,U41,RP,K41,R4=x(()=>{g5();f1();Cz();F3=y(require("@theatre/dataverse")),Y1=y(P());a1();CR();Kc();kR();MP();W8();Np();Up();G2();I5();C2();AP();b4();A4();Z41=V(Kn)`
  z-index: ${p5.sequenceEditorPanel};
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`,D41=V.div`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`,U2=(()=>{let t={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},a=-1;for(let c of Object.keys(t))t[c]=a,a++;return t})(),j41=V(qn)`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`,W41={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},_41={width:800,height:200},q41=t=>Y1.default.createElement(Wo,{panelId:"sequenceEditor",defaultPosition:W41,minDims:_41},Y1.default.createElement(N41,null)),N41=()=>{let{dims:t}=P4(),[a,c]=(0,Y1.useState)(null);return yo(a),h1(()=>{let r=F3.prism.memo("panelSize",()=>{let s=t.width,u=t.height;return{width:s,height:u,widthWithoutBorder:s-2,heightWithoutBorder:u-4,screenX:t.left,screenY:t.top}},[t]),e=z3(a3().filter(s=>v7(s)||t0(s)).map(s=>t0(s)?s.sheet:s));if(z3(e.map(s=>s.template)).length!==1)return Y1.default.createElement(Y1.default.Fragment,null);let i=e[0];if(!i)return Y1.default.createElement(Y1.default.Fragment,null);let o=Ji("panelSizeP",r).pointer,n=F3.prism.memo("key",()=>JSON.stringify(i.address),[i]),h=F3.prism.memo("layout",()=>SR(i,o),[i,o]).getValue();if((0,F3.val)(h.tree.children).length===0)return Y1.default.createElement(Y1.default.Fragment,null);let v=F3.prism.memo("containerRef",K41,[]),g=(0,F3.val)(h.graphEditorDims.isAvailable),d=(0,F3.val)(h.graphEditorDims.isOpen);return Y1.default.createElement(Z41,{ref:s=>{v(s),s!==a&&c(s)}},Y1.default.createElement(D41,{style:{width:`${(0,F3.val)(h.leftDims.width)}px`}}),Y1.default.createElement(GR,{layoutP:h},Y1.default.createElement(U41,{layoutP:h}),Y1.default.createElement(xR,{key:n+"-dopeSheet",layoutP:h}),d&&Y1.default.createElement(bP,{key:n+"-graphEditor",layoutP:h}),g&&Y1.default.createElement(kP,{layoutP:h}),Y1.default.createElement(fP,{layoutP:h})))},[t,a])},U41=({layoutP:t})=>h1(()=>{let a=(0,F3.val)(t.sheet);return Y1.default.createElement(j41,{style:{width:(0,F3.val)(t.leftDims.width)}},Y1.default.createElement(Go,null,Y1.default.createElement(m5,null,a.address.sheetId," "),Y1.default.createElement(W9,null,":","\xA0"),Y1.default.createElement(m5,null,a.address.sheetInstanceId," "),Y1.default.createElement(W9,null,"\xA0",">","\xA0"),Y1.default.createElement(m5,null,"Sequence")))},[t]),RP=q41,K41=()=>{let t=null,a={passive:!1,capture:!1},c=r=>{Math.abs(r.deltaY)<Math.abs(r.deltaX)&&(r.preventDefault(),r.stopPropagation())};return r=>{t!==r&&t&&t.removeEventListener("wheel",c,a),t=r,r&&r.addEventListener("wheel",c,a)}}});var e4,$41,FP,IP,Q41,LR,Vu=x(()=>{b8();e4=y(P());a1();R4();$41=V.div`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: ${()=>U2.scrollableArea};

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`,FP=(0,e4.createContext)(n0),IP=()=>(0,e4.useContext)(FP),Q41=t=>{let a=(0,e4.useRef)(null),c=(0,e4.useCallback)(r=>{a.current.scrollBy(0,r.deltaY)},[]);return e4.default.createElement(FP.Provider,{value:c},e4.default.createElement($41,{ref:a},t.children))},LR=Q41});function J41(t,a){let c=(0,w5.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(e){if(e.target instanceof HTMLInputElement||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||e.composedPath().some(g=>g instanceof HTMLElement&&g.draggable===!0))return!1;let l=e.clientX-a.getBoundingClientRect().left,i=F1((0,l2.val)(t.clippedSpace.toUnitSpace)(l),0,1/0),o=(0,l2.val)(t.seeker.setIsSeeking),n=(0,l2.val)(t.sheet).getSequence();n.position=i;let h=i,v=(0,l2.val)(t.scaledSpace.toUnitSpace);return o(!0),mt(),{onDrag(g,d,s){let u=v(g),z=F1(h+u,0,n.length),m=r2.checkIfMouseEventSnapToPos(s,{});m!=null&&(z=m),n.position=z},onDragEnd(){o(!1),b3()}}}}),[t,a]),[r]=S1(a,c);g2(r,"draggingPositionInSequenceEditor","ew-resize")}function t51(t,a){let c=IP();(0,w5.useLayoutEffect)(()=>{if(!a)return;let r=l=>{if(l.ctrlKey){l.preventDefault(),l.stopPropagation();let i=l.clientX-a.getBoundingClientRect().left,o=(0,l2.val)(t.clippedSpace.toUnitSpace)(i),n=(0,l2.val)(t.clippedSpace.range),h=Kp(l.deltaY,[-50,50]),v=1+h*.03,g=a5(n,u=>(u-o)*v+o),d=(0,l2.val)(t.sheet).getSequence().length,s=d+d*.25;(0,l2.val)(t.clippedSpace.setRange)(a51(g,[0,s]));return}else if(l.shiftKey){l.preventDefault(),l.stopPropagation();let i=(0,l2.val)(t.sheet).getSequence().length,o=(0,l2.val)(t.clippedSpace.range),h=(o.end-o.start)/i,g=Kp(l.deltaY||l.deltaX,[-50,50])*.05*h,d=a5(o,s=>s+g);(0,l2.val)(t.clippedSpace.setRange)(d);return}else{c(l),l.preventDefault(),l.stopPropagation();let o=(0,l2.val)(t.scaledSpace.toUnitSpace)(l.deltaX*1),n=(0,l2.val)(t.clippedSpace.range),h=a5(n,g=>g+o);(0,l2.val)(t.clippedSpace.setRange)(h);return}},e={capture:!0,passive:!1};return a.addEventListener("wheel",r,e),()=>{a.removeEventListener("wheel",r,e)}},[a,t]),S1(a,(0,w5.useMemo)(()=>({onDragStart(r){let e=(0,l2.val)(t.clippedSpace.range),l=(0,l2.val)(t.clippedSpace.setRange),i=(0,l2.val)(t.scaledSpace.toUnitSpace);return r.preventDefault(),r.stopPropagation(),{onDrag(o,n,h,v,g){c({deltaY:-g});let d=-i(o),s=a5(e,u=>u+d);l(s)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[t]))}function Kp(t,[a,c]){return Math.max(Math.min(t,c),a)}function a51(t,a){return a5(t,c=>Kp(c,a))}function c51(t,a){(0,w5.useLayoutEffect)(()=>{if(!a)return;let c=(0,l2.prism)(()=>{let i=(0,l2.val)(t.clippedSpace.range);return(0,l2.val)(t.scaledSpace.fromUnitSpace)(i.start)}),r=()=>{let i=c.getValue();a.scrollLeft=i},e=c.onStale(r);r();let l=setTimeout(r,100);return()=>{clearTimeout(l),e()}},[t,a])}var l2,w5,X41,Y41,$n,$p=x(()=>{m2();P1();f1();l2=y(require("@theatre/dataverse"));C2();w5=y(P());a1();Vu();G1();A0();H3();Q6();X41=V.div`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  ${x1};

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`,Y41=w5.default.memo(({layoutP:t,children:a,height:c})=>{let{width:r,unitSpaceToScaledSpaceMultiplier:e}=h1(()=>({width:(0,l2.val)(t.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,l2.val)(t.scaledSpace.fromUnitSpace)(1)}),[t]),[l,i]=d1(null);return t51(t,i),J41(t,i),c51(t,i),w5.default.createElement(X41,{ref:l,style:{width:r+"px",height:c+"px","--unitSpaceToScaledSpaceMultiplier":e}},a)}),$n=Y41});var Qn,r51,e51,l51,i51,B5,wr=x(()=>{Qn=y(P());a1();r51=V.li`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`,e51=V.div`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: ${t=>t.isEven?"transparent":"#6b8fb505"};
  }
`,l51=V.ul`
  margin: 0;
  padding: 0;
  list-style: none;
`,i51=({leaf:t,children:a,node:c,isCollapsed:r})=>{let e=Array.isArray(a)&&a.length>0;return t.shouldRender?Qn.default.createElement(r51,null,Qn.default.createElement(e51,{style:{height:t.nodeHeight+"px"},isEven:t.n%2==0},c),e&&Qn.default.createElement(l51,null,a)):null},B5=i51});var TP=L1((PP,GP)=>{(function(){var t=this,a={};typeof PP!="undefined"?GP.exports=a:t.fuzzy=a,a.simpleFilter=function(c,r){return r.filter(function(e){return a.test(c,e)})},a.test=function(c,r){return a.match(c,r)!==null},a.match=function(c,r,e){e=e||{};var l=0,i=[],o=r.length,n=0,h=0,v=e.pre||"",g=e.post||"",d=e.caseSensitive&&r||r.toLowerCase(),s;c=e.caseSensitive&&c||c.toLowerCase();for(var u=0;u<o;u++)s=r[u],d[u]===c[l]?(s=v+s+g,l+=1,h+=1+h):h=0,n+=h,i[i.length]=s;return l===c.length?(n=d===c?1/0:n,{rendered:i.join(""),score:n}):null},a.filter=function(c,r,e){return!r||r.length===0?[]:typeof c!="string"?r:(e=e||{},r.reduce(function(l,i,o,n){var h=i;e.extract&&(h=e.extract(i));var v=a.match(c,h,e);return v!=null&&(l[l.length]={string:v.rendered,score:v.score,index:o,original:i}),l},[]).sort(function(l,i){var o=i.score-l.score;return o||l.index-i.index}))}})()});function EP(t,a){let[c,r]=(0,Ct.useState)(!1),e=(0,Ct.useRef)(a);return c||(e.current=a),(0,Ct.useMemo)(()=>t(r),e.current)}var Ct,OP=x(()=>{Ct=y(P())});var Xn,j4,Br=x(()=>{Xn="rgba(26, 28, 30, 0.97);",j4="#272B2F"});function WP(t,a,c,r){let e=EP(l=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return l(!0),{onDrag(i,o){!t||c.onCurveChange(r(i,o))},onDragEnd(i){l(!1),c.onCancelCurveChange()}}}}),[t,c.onCurveChange,c.onCancelCurveChange]);S1(a,e)}var I1,Qp,Yn,yr,o51,Jn,n51,Xp,h51,v51,s51,Sr,g51,Lt,d51,z51,ZP,Yp,DP,u51,jP,_P=x(()=>{I1=y(P());m2();P1();da();a1();G1();OP();Br();Qp=.12,Yn=1+Qp*2,yr=.01,o51=8,Jn=(1-yr)/(o51-1),n51="#3EAAA4",Xp="#3EAAA4",h51="#3EAAA4",v51="#3EAAA4",s51="#3EAAA4",Sr="#3EAAA4",g51="#3EAAA4",Lt="#B3B3B3",d51="#3eaaa4",z51="#67dfd8",ZP=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],Yp=V.circle`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: ${d51};
`,DP=V.circle`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  ${x1};
  &:hover {
    opacity: 0.4;
  }
  &:hover + ${Yp} {
    fill: ${z51};
  }
`,u51=t=>{let{curveConnection:{left:a,right:c},backgroundConnections:r}=t,e=Math.min(0,1-c.handles[1],1-a.handles[3]),l=Math.max(1,1-c.handles[1],1-a.handles[3]),i=Math.max(1,l-e),o=f=>(f-e)/i,[n,h]=d1(null),v=Yn/((h==null?void 0:h.clientWidth)||1),g=Yn/((h==null?void 0:h.clientHeight)||1),[d,s]=d1(null);WP(h,s,t,(f,M)=>{let H=F1(a.handles[2]+f*v,0,1),w=a.handles[3]-M*g;return[H,w,c.handles[0],c.handles[1]]});let[u,p]=d1(null);WP(h,p,t,(f,M)=>{let H=F1(c.handles[0]+f*v,0,1),w=c.handles[1]-M*g;return[a.handles[2],a.handles[3],H,w]});let z=f=>`M0 ${o(1)} C${f.left.handles[2]} ${o(1-f.left.handles[3])} ${f.right.handles[0]} ${o(1-f.right.handles[1])} 1 ${o(0)}`,m="0,100 100,100 100,0";return I1.default.createElement("svg",{height:"100%",width:"100%",ref:n,viewBox:`${-Qp} ${-Qp} ${Yn} ${Yn}`,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},I1.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},I1.default.createElement("stop",{offset:o(-1),stopColor:g51}),I1.default.createElement("stop",{offset:o(0),stopColor:Sr}),I1.default.createElement("stop",{offset:o(.3),stopColor:s51}),I1.default.createElement("stop",{offset:o(.5),stopColor:v51}),I1.default.createElement("stop",{offset:o(.7),stopColor:h51}),I1.default.createElement("stop",{offset:o(1),stopColor:Xp}),I1.default.createElement("stop",{offset:o(2),stopColor:n51})),I1.default.createElement("pattern",{id:"dot-background-pattern-1",width:Jn,height:Jn/i,y:-e/i},I1.default.createElement("rect",{width:yr,height:yr,fill:Lt,opacity:.3})),I1.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),I1.default.createElement("pattern",{id:"dot-background-pattern-2",width:Jn,height:Jn},I1.default.createElement("rect",{width:yr,height:yr,fill:Lt})),I1.default.createElement("rect",{x:0,y:o(0),width:"1",height:o(1)-o(0),fill:"url(#dot-background-pattern-2)"}),!a.type||a.type==="bezier"?I1.default.createElement(I1.default.Fragment,null,I1.default.createElement("line",{x1:0,y1:o(1),x2:a.handles[2],y2:o(1-a.handles[3]),stroke:Lt,strokeWidth:"0.01"}),I1.default.createElement("line",{x1:1,y1:o(0),x2:c.handles[0],y2:o(1-c.handles[1]),stroke:Lt,strokeWidth:"0.01"}),I1.default.createElement("path",{d:z(t.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),r.map((f,M)=>I1.default.createElement("path",{key:f.objectKey+"/"+f.left.id,d:z(f),stroke:ZP[M%ZP.length],opacity:.6,strokeWidth:"0.01"})),I1.default.createElement("path",{d:z(t.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),I1.default.createElement("circle",{cx:0,cy:o(1),r:"0.025",stroke:Xp,strokeWidth:"0.02",fill:j4}),I1.default.createElement("circle",{cx:1,cy:o(0),r:"0.025",stroke:Sr,strokeWidth:"0.02",fill:j4}),I1.default.createElement(DP,{ref:d,cx:a.handles[2],cy:o(1-a.handles[3]),fill:Xp,opacity:.2}),I1.default.createElement(Yp,{cx:a.handles[2],cy:o(1-a.handles[3])}),I1.default.createElement(DP,{ref:u,cx:c.handles[0],cy:o(1-c.handles[1]),fill:Sr,opacity:.2}),I1.default.createElement(Yp,{cx:c.handles[0],cy:o(1-c.handles[1])})):I1.default.createElement(I1.default.Fragment,null,I1.default.createElement("line",{x1:0,y1:o(1),x2:1,y2:o(1),stroke:Lt,strokeWidth:"0.01"}),I1.default.createElement("line",{x1:1,y1:o(1),x2:1,y2:0,stroke:Lt,strokeWidth:"0.01"}),I1.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:Sr,strokeWidth:"0.02",fill:j4}),I1.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:Sr,strokeWidth:"0.02",fill:j4})))},jP=u51});function kr(t){return t.map(a=>a.toFixed(p51)).join(", ")}function Ht(t){if(!t||(t==null?void 0:t.length)>m51)return null;let a=t.split(",");if(a.length!==4)return null;let c=a.map(r=>Number(r.trim()));return!c.every(r=>isFinite(r))||c[0]<0||c[0]>1||c[2]<0||c[2]>1?null:c}function qP(t,a,c={threshold:.02}){if(!t||!a)return!1;let r=0;for(let e=0;e<4;e++)r+=Math.abs(t[e]-a[e]);return r<c.threshold}var p51,m51,th,Jp=x(()=>{p51=3;m51=128;th=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]});var d0,tm,Vt,NP,f51,M51,ah,UP,KP,x51,$P,QP=x(()=>{d0=y(P()),tm=.75,Vt=.1,NP=1+tm*2,f51="#F5F5F5",M51="#888888",ah="#4f4f4f",UP="rgba(255, 255, 255, 0.1)",KP=t=>1-t,x51=t=>{let{easing:a,isSelected:c}=t,r=c?f51:M51,e=`${-tm} ${-tm} ${NP} ${NP}`;if(a){let l=[a[0],KP(a[1])],i=[a[2],KP(a[3])];return d0.default.createElement("svg",{height:"100%",width:"100%",viewBox:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},d0.default.createElement("line",{x1:"0",y1:"1",x2:l[0],y2:l[1],stroke:ah,strokeWidth:"0.1"}),d0.default.createElement("line",{x1:"1",y1:"0",x2:i[0],y2:i[1],stroke:ah,strokeWidth:"0.1"}),d0.default.createElement("circle",{cx:l[0],cy:l[1],r:.1,fill:UP}),d0.default.createElement("circle",{cx:i[0],cy:i[1],r:.1,fill:UP}),d0.default.createElement("circle",{cx:l[0],cy:l[1],r:Vt,fill:ah}),d0.default.createElement("circle",{cx:i[0],cy:i[1],r:Vt,fill:ah}),d0.default.createElement("path",{d:`M0 1 C${l[0]} ${l[1]} ${i[0]} 
        ${i[1]} 1 0`,stroke:r,strokeWidth:"0.08"}),d0.default.createElement("circle",{cx:0,cy:1,r:Vt,fill:r}),d0.default.createElement("circle",{cx:1,cy:0,r:Vt,fill:r}))}return d0.default.createElement("svg",{height:"100%",width:"100%",viewBox:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},d0.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),d0.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),d0.default.createElement("circle",{cx:0,cy:1,r:Vt,fill:r}),d0.default.createElement("circle",{cx:1,cy:0,r:Vt,fill:r}))},$P=x51});var Ar,C51,L51,H51,XP,YP=x(()=>{ht();Ar=y(P());a1();Jp();QP();tr();Br();Y3();C51=V.div`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: ${j4};
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  ${({isSelected:t})=>t&&F2`
      background-color: #383d42;
    `}

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`,L51=V(T2)`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`,H51=Ar.default.forwardRef((t,a)=>{let[c,r]=A3({enabled:!0,verticalPlacement:t.tooltipPlacement,verticalGap:0},()=>Ar.default.createElement(L51,{showPopoverEdgeTriangle:!1},t.easing.label));return Ar.default.createElement(C51,S({ref:Z6([r,a])},t),c,Ar.default.createElement($P,{easing:Ht(t.easing.value),isSelected:t.isSelected}))}),XP=H51});function tG(t){var i;let[a,c]=(0,JP.useState)(null),r=o=>{if(a===null){t.items.length>0&&c(0);return}let n=a+o*t.uiColumns,h=n<0,v=n>t.items.length-1;if(h||v){if(t.canVerticleExit&&t.canVerticleExit(h?"top":"bottom")){c(null);return}return}c(n)},e=o=>{a===null?c(cG(o,t.items.length)):a+o<0?c(null):c(Math.min(a+o,t.items.length-1))};return{focusFirstItem(){c(0)},onParentEltKeyDown:o=>{if(o.key==="ArrowRight")e(1);else if(o.key==="ArrowLeft")e(-1);else if(o.key==="ArrowUp")r(-1);else if(o.key==="ArrowDown")r(1);else return 0;return 1},gridItems:t.items.map((o,n)=>t.renderItem({isSelected:n===a,item:o,select(h){c(n),t.onSelectItem(o)===1&&(h==null||h.preventDefault(),h==null||h.stopPropagation())}})),currentSelection:(i=t.items[a!=null?a:-1])!=null?i:null}}var JP,y5,aG=x(()=>{JP=y(P());Rr();(function(c){c[c.Handled=1]="Handled",c[c.Passthrough=0]="Passthrough"})(y5||(y5={}))});function iG(t,a,c){var e;(e=t.current)==null||e.discard(),t.current=null;let r=Ht(c);r===null?t.current=b51(a):t.current=R51(a,r)}function oG(t){var a;(a=t.current)==null||a.discard(),t.current=null}function R51(t,a){return G().tempTransaction(({stateEditors:c})=>{let{setHandlesForKeyframe:r,setKeyframeType:e}=c.coreByProject.historic.sheetsById.sequence;for(let{projectId:l,sheetId:i,objectKey:o,trackId:n,left:h,right:v}of t)r({projectId:l,sheetId:i,objectKey:o,trackId:n,keyframeId:h.id,start:[a[0],a[1]]}),r({projectId:l,sheetId:i,objectKey:o,trackId:n,keyframeId:v.id,end:[a[2],a[3]]}),e({projectId:l,sheetId:i,objectKey:o,trackId:n,keyframeId:h.id,keyframeType:"bezier"})})}function b51(t){return G().tempTransaction(({stateEditors:a})=>{let{setKeyframeType:c}=a.coreByProject.historic.sheetsById.sequence;for(let{projectId:r,sheetId:e,objectKey:l,trackId:i,left:o}of t)c({projectId:r,sheetId:e,objectKey:l,trackId:i,keyframeId:o.id,keyframeType:"hold"})})}function cG(t,a){return(t%a+a)%a}function F51(t,a){return()=>setTimeout(t,a)}function I51({left:t,right:a}){return({left:c,right:r})=>t.handles[2]!==c.handles[2]||t.handles[3]!==c.handles[3]||a.handles[0]!==r.handles[0]||a.handles[1]!==r.handles[1]}var br,D1,rG,eG,lG,V51,w51,B51,y51,S51,k51,z0,A51,ch,GS1,rh,P51,Rr=x(()=>{br=y(require("@theatre/dataverse")),D1=y(P());a1();rG=y(TP());m1();_P();YP();Jp();Br();P1();aG();eG=3,lG=53,V51=25,w51=V.div`
  background: ${Xn};
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: ${eG*lG}px 120px;
  gap: 1px;
  height: 120px;
`,B51=V.div`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(${eG}, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`,y51=V.input.attrs({type:"text"})`
  background-color: ${j4};
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`,S51=V.div`
  grid-area: tween;
  background: ${j4};
`,k51=V.div`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`;(function(e){e[e.init=0]="init",e[e.user=1]="user",e[e.auto=2]="auto",e[e.multipleValues=3]="multipleValues"})(z0||(z0={}));A51=t=>{let a=(0,D1.useMemo)(()=>[t.curveConnection,...t.additionalConnections],[t.curveConnection,...t.additionalConnections]),c=(0,D1.useRef)(null);(0,D1.useEffect)(()=>{let C=P51(a);return()=>{var O;C(),(O=c.current)==null||O.commit()}},[c]);let r=[t.curveConnection.left.handles[2],t.curveConnection.left.handles[3],t.curveConnection.right.handles[0],t.curveConnection.right.handles[1]],e=(0,D1.useRef)(null);(0,D1.useLayoutEffect)(()=>{var C,O;(C=e.current)==null||C.select(),(O=e.current)==null||O.focus()},[e.current]);let[l,i]=(0,D1.useState)(kr(r)),o=C=>{v(1),i(C.target.value),Ht(C.target.value)&&d(C.target.value)},n=C=>{var O,J;v(1),(C.key==="ArrowDown"||C.key==="ArrowUp")&&C.preventDefault(),C.key==="ArrowDown"?(T.focusFirstItem(),(J=(O=B.current[m[0].label])==null?void 0:O.current)==null||J.focus()):C.key==="Escape"?(oG(c),t.onRequestClose("key Escape")):C.key==="Enter"&&t.onRequestClose("key Enter")},[h,v]=(0,D1.useState)(0);(0,D1.useEffect)(()=>{h===2?i(kr(r)):h===3&&l!==""&&i("")},a);let[g,d]=(0,D1.useState)(kr(r)),[s,u]=(0,D1.useState)(null);(0,D1.useEffect)(()=>{var C;h!==0&&h!==3&&iG(c,a,(C=s!=null?s:g)!=null?C:"")},[s,g,h]),a.some(I51(t.curveConnection))&&h===0&&v(3);let p=C=>{var J,F;v(2);let O=kr(C);i(O),d(O),(J=e.current)==null||J.select(),(F=e.current)==null||F.focus()},z=()=>{},m=(0,D1.useMemo)(()=>/^[A-Za-z]/.test(l)?rG.default.filter(l,th,{extract:O=>O.label}).map(O=>O.original):th,[l]);(0,D1.useEffect)(()=>{h===1&&m[0]&&d(m[0].value)},[m]);let f=C=>{C.key==="Escape"?(oG(c),t.onRequestClose("key Escape"),C.stopPropagation()):C.key==="Enter"&&(t.onRequestClose("key Enter"),C.stopPropagation())},M=C=>{h===0&&v(2),u(C.value)},H=()=>u(null),w=C=>(iG(c,a,C.value),t.onRequestClose("selected easing option"),y5.Handled),B=(0,D1.useRef)(th.reduce((C,O)=>(C[O.label]={current:null},C),{})),[k,I]=d1(null),[j,b]=(0,D1.useState)(0);(0,D1.useEffect)(()=>{let C=()=>{var O;b((O=I==null?void 0:I.scrollTop)!=null?O:0)};return I==null||I.addEventListener("scroll",C),()=>I==null?void 0:I.removeEventListener("scroll",C)},[I]);let T=tG({items:m,uiColumns:3,onSelectItem:w,canVerticleExit(C){var O,J;return C==="top"?((O=e.current)==null||O.select(),(J=e.current)==null||J.focus(),y5.Handled):y5.Passthrough},renderItem:({item:C,select:O})=>{var J,F;return D1.default.createElement(XP,{key:C.label,easing:C,tabIndex:0,onKeyDown:f,ref:B.current[C.label],onMouseOver:()=>M(C),onMouseOut:H,onClick:O,tooltipPlacement:((F=(J=B.current[C.label].current)==null?void 0:J.offsetTop)!=null?F:0)-(j!=null?j:0)<lG+V51?"bottom":"top",isSelected:qP(r,Ht(C.value))})}});return(0,D1.useLayoutEffect)(()=>{var C,O;if(T.currentSelection!==null&&document.activeElement!==e.current){let J=(O=(C=B.current)==null?void 0:C[T.currentSelection.label])==null?void 0:O.current;J==null||J.focus(),d(T.currentSelection.value),/^[A-Za-z]/.test(l)||i(T.currentSelection.value)}},[T.currentSelection]),D1.default.createElement(w51,null,D1.default.createElement(y51,{value:l,placeholder:h===3?"Multiple easings selected":"Search presets...",onPaste:F51(o),onChange:o,ref:e,onKeyDown:n}),D1.default.createElement(B51,{ref:k,onKeyDown:C=>T.onParentEltKeyDown(C)},T.gridItems,T.gridItems.length===0?D1.default.createElement(k51,null,"No results found"):void 0),D1.default.createElement(S51,{onClick:()=>{var C;return(C=e.current)==null?void 0:C.focus()}},D1.default.createElement(jP,{curveConnection:t.curveConnection,backgroundConnections:t.additionalConnections,onCurveChange:p,onCancelCurveChange:z})))},ch=A51;({isCurveEditorOpenD:GS1,isConnectionEditingInCurvePopover:rh,getLock:P51}=(()=>{let t=new br.Atom([]);return{getLock(a){return t.set(a),function(){t.set([])}},isCurveEditorOpenD:(0,br.prism)(()=>t.prism.getValue().length>0),isConnectionEditingInCurvePopover(a){return br.prism.ensurePrism(),t.prism.getValue().some(({left:c,right:r})=>a.left.id===c.id&&a.right.id===r.id)}}})())});function G51(t,a){for(let{keyframeId:c}of O51(a))if(t.left.id===c)return!0;return!1}function eh(t,a,c){return(0,Fr.prism)(()=>{if(c===void 0)return[];let r=[];for(let{objectKey:e,trackId:l}of nG(c)){let i=(0,Fr.val)(G().atomP.historic.coreByProject[t].sheetsById[a].sequence.tracksByObject[e].trackData[l]);i&&(r=r.concat(E51(i.keyframes).filter(o=>G51(o,c)).map(({left:o,right:n})=>({left:o,right:n,trackId:l,objectKey:e,sheetId:a,projectId:t}))))}return r})}function Y6(t,a,c){var i;if(c===void 0)return[];let r=[];for(let{objectKey:o,trackId:n,keyframeIds:h}of nG(c))r=r.concat((i=Ir({projectId:t,sheetId:a,objectKey:o,trackId:n,keyframeIds:h}))!=null?i:[]);let e=O5(r.map(o=>o.pathToProp));return r.map(({keyframe:o,pathToProp:n})=>({keyframe:o,pathToProp:n.slice(e.length)}))}function Ir({projectId:t,sheetId:a,objectKey:c,trackId:r,keyframeIds:e}){let l=(0,Fr.val)(G().atomP.historic.coreByProject[t].sheetsById[a].sequence.tracksByObject[c]),i=l==null?void 0:l.trackData[r];if(!i)return null;let n=T51((l==null?void 0:l.trackIdByPropPath)||{})[r];if(!n)return null;let h=[c,...m7(n)];return e.map(v=>({keyframe:i.keyframes.find(g=>g.id===v),pathToProp:h})).filter(({keyframe:v})=>v!==void 0)}function T51(t){let a={};for(let[c,r]of Object.entries(t))a[r]=c;return a}function E51(t){return t.map((a,c)=>({left:a,right:t[c+1]})).slice(0,-1)}function O51(t){var c,r,e;let a=[];for(let[l,i]of Object.entries((c=t==null?void 0:t.byObjectKey)!=null?c:{}))for(let[o,n]of Object.entries((r=i==null?void 0:i.byTrackId)!=null?r:{}))for(let h of Object.keys((e=n==null?void 0:n.byKeyframeId)!=null?e:{}))a.push({objectKey:l,trackId:o,keyframeId:h});return a}function nG(t){var c,r,e;let a=[];for(let[l,i]of Object.entries((c=t==null?void 0:t.byObjectKey)!=null?c:{}))for(let[o,n]of Object.entries((r=i==null?void 0:i.byTrackId)!=null?r:{}))a.push({objectKey:l,trackId:o,keyframeIds:Object.keys((e=n==null?void 0:n.byKeyframeId)!=null?e:{})});return a}var Fr,J8=x(()=>{Fr=y(require("@theatre/dataverse"));m1();G3()});function vG(t,a){return(0,hG.useMemo)(()=>Z51(t,a),[])}function Z51(t,a){let c=null,r=i=>G().tempTransaction(o=>t(o,i));function e(){c==null||c.discard(),c=null}let l={createAsset:a.sheet.project.assetStorage.createAsset,getAssetUrl:i=>i.id?a.sheet.project.assetStorage.getAssetUrl(i.id):void 0};return S({temporarilySetValue(i){e(),c=r(i)},discardTemporaryValue:e,permanentlySetValue(i){e(),r(i).commit()}},l)}var hG,sG=x(()=>{m1();hG=y(P())});function lh(t){var a;if(t.type==="sheetObject")return $2.default.createElement($2.default.Fragment,null,$2.default.createElement(am,{style:{paddingLeft:`${t.indent*cm}px`}},t.sheetObject.address.objectKey),t.children.map((c,r)=>$2.default.createElement(lh,D(S({key:r},c),{autoFocusInput:t.autoFocusInput&&r===0,indent:t.indent+1}))));if(t.type==="propWithChildren"){let c=(a=t.propConfig.label)!=null?a:s3(t.pathToProp);return $2.default.createElement($2.default.Fragment,null,$2.default.createElement(am,{style:{paddingLeft:`${t.indent*cm}px`}},c),t.children.map((r,e)=>$2.default.createElement(lh,D(S({key:e},r),{autoFocusInput:t.autoFocusInput&&e===0,indent:t.indent+1}))))}else return $2.default.createElement(W51,D(S({},t),{autoFocusInput:t.autoFocusInput,indent:t.indent}))}function W51(t){var r;let a=(r=t.propConfig.label)!=null?r:s3(t.pathToProp),c=_51(t);if(t.propConfig.type==="enum")return $2.default.createElement($2.default.Fragment,null);{let e=dn[t.propConfig.type];return $2.default.createElement(D51,null,$2.default.createElement(am,null,$2.default.createElement("span",{style:{paddingLeft:`${t.indent*cm}px`}},a)),$2.default.createElement(j51,null,$2.default.createElement(e,{editingTools:c,propConfig:t.propConfig,value:D8(t.keyframe.value,t.propConfig),autoFocus:t.autoFocusInput})))}}function _51(t){let a=t.sheetObject;return vG(({stateEditors:c},r)=>{let e=D(S({},t.keyframe),{value:r});c.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},a.address),{trackId:t.trackId,keyframes:[e],snappingFunction:a.sheet.getSequence().closestGridPosition}))},a)}var $2,D51,am,cm,j51,gG=x(()=>{$2=y(P());a1();vp();Kt();sG();G6();D51=V.div`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`,am=V.div`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`,cm=10;j51=V.div`
  display: flex;
  align-items: center;
  width: 60%;
`});function J6(t){return M2({debugName:"useKeyframeInlineEditorPopover"},()=>ih.default.createElement(T2,{showPopoverEdgeTriangle:!0},ih.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(t)?t.map((a,c)=>ih.default.createElement(lh,D(S({key:c},a),{autoFocusInput:c===0,indent:0}))):void 0)))}var ih,Pr=x(()=>{ih=y(P());Q3();Y3();gG()});function K51(t,a,c){return E1(t,{displayName:"Keyframe",menuItems:()=>{let r=Y6(c.leaf.sheetObject.address.projectId,c.leaf.sheetObject.address.sheetId,c.selection);return[{label:r.length>0?"Copy (selection)":"Copy",callback:()=>{r.length>0?G().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(r)}):G().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:c.keyframe,pathToProp:c.leaf.pathToProp}])})}},{label:c.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{c.selection?c.selection.delete():G().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},c.leaf.sheetObject.address),{keyframeIds:[c.keyframe.id],trackId:c.leaf.trackId}))})}}]},onOpen(){a._debug("Show keyframe",c)}})}function $51(t,a,c){let r=(0,W4.useRef)(a);r.current=a;let{onClickFromDrag:e}=c,l=(0,W4.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(o){let n=r.current,h=(0,oh.val)(G().atomP.historic.coreByProject[n.leaf.sheetObject.address.projectId].sheetsById[n.leaf.sheetObject.address.sheetId].sequence.tracksByObject),v=jn(h,function(p,{trackId:z,objectKey:m}){var f,M;return p.id!==n.keyframe.id&&!(n.selection&&((M=(f=n.selection.byObjectKey[m])==null?void 0:f.byTrackId[z])==null?void 0:M.byKeyframeId[p.id]))});if(Dn(v),n.selection){let{selection:u,leaf:p}=n,{sheetObject:z}=p,m=u.getDragHandlers(D(S({},z.address),{domNode:t,positionAtStartOfDrag:n.track.data.keyframes[n.index].position})).onDragStart(o);return m&&D(S({},m),{onClick:e,onDragEnd:(...f)=>{var M;(M=m.onDragEnd)==null||M.call(m,...f),b3()}})}let g=n,d=(0,oh.val)(g.layoutP.scaledSpace.toUnitSpace),s;return{onDrag(u,p,z){var M;let m=g.track.data.keyframes[g.index],f=Math.max((M=r2.checkIfMouseEventSnapToPos(z,{ignore:t}))!=null?M:m.position+d(u),0);s==null||s.discard(),s=void 0,s=G().tempTransaction(({stateEditors:H})=>{H.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},g.leaf.sheetObject.address),{trackId:g.leaf.trackId,keyframes:[D(S({},m),{position:f})],snappingFunction:(0,oh.val)(g.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(u){u?s==null||s.commit():s==null||s.discard(),b3()},onClick(u){e(u)}}}}),[e]),[i]=S1(t,l);return v0(i,a.keyframe.position),g2(i,"draggingPositionInSequenceEditor","ew-resize"),[i]}var W4,oh,Gr,dG,nh,zG,rm,q51,N51,U51,uG,em=x(()=>{W4=y(P());a1();m1();s0();m2();P1();oh=y(require("@theatre/dataverse"));G2();A0();H3();Hr();s5();J8();G1();Q6();Pr();A4();Gr=6,dG=Gr+2,nh={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},zG=({isSelected:t,isInlineEditorPopoverOpen:a})=>t&&a?nh.inlineEditorOpenColor:t?nh.selectedColor:a?nh.selectedAndInlineEditorOpenColor:nh.normalColor,rm=V.div`
  position: absolute;
  ${C0(Gr)}

  background: ${t=>zG(t)};
  transform: rotateZ(45deg);

  ${t=>t.flag===L2.Primary?"outline: 2px solid white;":""};

  z-index: 1;
  pointer-events: none;
`,q51=V.div`
  position: absolute;
  ${C0(Gr*1.5)}

  background: ${t=>zG(t)};

  ${t=>t.flag===L2.Primary?"outline: 2px solid white;":""};

  z-index: 1;
  pointer-events: none;
`,N51=V.div`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  ${C0(12)};
  ${x1};

  & + ${rm} {
    ${t=>t.isInlineEditorPopoverOpen?C0(dG):""}
  }

  &:hover + ${rm} {
    ${C0(dG)}
  }
`,U51=t=>{let a=f0("SingleKeyframeDot",t.keyframe.id),c=r3(t.itemKey),[r,e]=d1(null),[l]=K51(e,a,t),{node:i,toggle:o,isOpen:n}=J6([{type:"primitiveProp",keyframe:t.keyframe,pathToProp:t.leaf.pathToProp,propConfig:t.leaf.propConf,sheetObject:t.leaf.sheetObject,trackId:t.leaf.trackId}]),[h]=$51(e,t,{onClickFromDrag(g){o(g,r.current)}}),v=!t.keyframe.type||t.keyframe.type==="bezier";return W4.default.createElement(W4.default.Fragment,null,W4.default.createElement(N51,S({ref:r,isInlineEditorPopoverOpen:n},c.attrs)),v?W4.default.createElement(rm,{isSelected:!!t.selection,isInlineEditorPopoverOpen:n,flag:c.flag}):W4.default.createElement(q51,{isSelected:!!t.selection,isInlineEditorPopoverOpen:n,flag:c.flag}),i,l)},uG=U51});var lm,pG,mG,wt,Q51,hh,im=x(()=>{b0();lm=y(P());a1();em();pG=Gr/2+1,mG=1e3,wt={normalColor:"#365b59",selectedColor:"#8A7842",barColor:t=>{let a=t.isSelected?wt.selectedColor:wt.normalColor;return t.isPopoverOpen?eo(.2,B6(.2,a)):a},hoverColor:t=>{let a=t.isSelected?wt.selectedColor:wt.normalColor;return t.isPopoverOpen?eo(.2,B6(.2,a)):eo(.1,B6(.1,a))}},Q51=V.div`
  position: absolute;
  background: ${wt.barColor};
  height: ${pG}px;
  width: ${mG}px;

  left: 0;
  top: -${pG/2}px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: ${wt.hoverColor};
  }
`,hh=lm.default.forwardRef((t,a)=>{let c={isPopoverOpen:t.isPopoverOpen,isSelected:t.isSelected};return lm.default.createElement(Q51,D(S({},c),{ref:a,style:{transform:`scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ${t.connectorLengthInUnitSpace/mG}))`},onClick:r=>{var e;(e=t.openPopover)==null||e.call(t,r)}}),t.children)})});function t61(t,a){let c=(0,sh.useRef)(a);c.current=a;let r=(0,sh.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(e){let l=c.current,i;if(l.selection){let{selection:v,leaf:g}=l,{sheetObject:d}=g;return v.getDragHandlers(D(S({},d.address),{domNode:t,positionAtStartOfDrag:l.track.data.keyframes[l.index].position})).onDragStart(e)}let o=l,n=(0,vh.val)(o.layoutP.sheet).getSequence(),h=(0,vh.val)(o.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,g,d){let s=h(v);i&&(i.discard(),i=void 0),i=G().tempTransaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.transformKeyframes(D(S({},o.leaf.sheetObject.address),{trackId:o.leaf.trackId,keyframeIds:[o.keyframe.id,o.track.data.keyframes[o.index+1].id],translate:s,scale:1,origin:0,snappingFunction:n.closestGridPosition}))})},onDragEnd(v){v?i&&i.commit():i&&i.discard()}}}}),[]);S1(t,r)}function a61(t,a,c,r){return E1(a,{displayName:"Tween",menuItems:()=>{let e=Y6(t.leaf.sheetObject.address.projectId,t.leaf.sheetObject.address.sheetId,t.selection);return[{label:e.length>0?"Copy (selection)":"Copy",callback:()=>{e.length>0?G().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes(e)}):G().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:c,pathToProp:t.leaf.pathToProp},{keyframe:r,pathToProp:t.leaf.pathToProp}])})}},{label:t.selection?"Delete (selection)":"Delete",callback:()=>{t.selection?t.selection.delete():G().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},t.leaf.sheetObject.address),{keyframeIds:[c.id,r.id],trackId:t.leaf.trackId}))})}}]}})}var vh,t8,sh,fG,X51,Y51,MG,J51,xG=x(()=>{m1();s0();m2();P1();vh=y(require("@theatre/dataverse")),t8=y(P()),sh=y(P());Q3();Y3();Rr();im();Br();f1();J8();J8();a1();fG=5,X51=V(T2)`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: ${Xn};
`,Y51=t=>{let{index:a,track:c}=t,r=c.data.keyframes[a],e=c.data.keyframes[a+1],[l,i]=d1(null),{node:o,toggle:n,close:h}=M2(()=>{let u=(0,vh.val)(t.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:u.screenX+fG,maxX:u.screenX+u.width-fG}}},()=>t8.default.createElement(J51,D(S({},t),{closePopover:h}))),[v]=a61(t,i,r,e);t61(i,t);let g=e.position-r.position,s={isPopoverOpen:h1(()=>rh(D(S({},t.leaf.sheetObject.address),{trackId:t.leaf.trackId,left:r,right:e})),[t.leaf.sheetObject.address,t.leaf.trackId,r,e]),isSelected:t.selection!==void 0};return t8.default.createElement(t8.default.Fragment,null,t8.default.createElement(hh,D(S({ref:l,connectorLengthInUnitSpace:g},s),{openPopover:u=>{i&&n(u,i)}}),o),v)},MG=Y51,J51=t8.default.forwardRef((t,a)=>{let{index:c,track:{data:r},selection:e}=t,l=r.keyframes[c],i=r.keyframes[c+1],o=t.leaf.trackId,n=t.leaf.sheetObject.address,h=h1(()=>eh(n.projectId,n.sheetId,e).getValue(),[n,e]),v=S({left:l,right:i,trackId:o},n);return t8.default.createElement(X51,{showPopoverEdgeTriangle:!1,ref:a},t8.default.createElement(ch,{curveConnection:v,additionalConnections:h,onRequestClose:t.closePopover}))})});var CG,t7,c61,r61,e61,LG,HG=x(()=>{CG=y(require("@theatre/dataverse")),t7=y(P());a1();xG();em();c61=V.div`
  position: absolute;
`,r61=t7.default.createElement(t7.default.Fragment,null),e61=t7.default.memo(t=>{let{index:a,track:{data:c}}=t,r=c.keyframes[a],e=c.keyframes[a+1],l=r.connectedRight&&!!e;return t7.default.createElement(c61,{style:{top:`${t.leaf.nodeHeight/2}px`,left:`calc(${(0,CG.val)(t.layoutP.scaledSpace.leftPadding)}px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ${r.position}px))`}},t7.default.createElement(uG,D(S({},t),{itemKey:t.itemKey})),l?t7.default.createElement(MG,S({},t)):r61)}),LG=e61});function i61(t,a){return E1(t,{displayName:"Keyframe Track",menuItems:()=>{var r;let c=(r=(0,Bt.val)(G().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?r:[];return[o61(a,c)]}})}function o61(t,a){return{label:"Paste Keyframes",enabled:a.length>0,callback:()=>{var i;let r=(0,Bt.val)(t.layoutP.sheet).getSequence(),e=(i=a[0])==null?void 0:i.pathToProp,l=a.filter(({keyframe:o,pathToProp:n})=>IM(e,n)).map(({keyframe:o,pathToProp:n})=>o);G().transaction(({stateEditors:o})=>{var h;r.position=r.closestGridPosition(r.position);let n=(h=n61(l))==null?void 0:h.position;for(let v of l)o.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(D(S({},t.leaf.sheetObject.address),{trackId:t.leaf.trackId,position:r.position+v.position-n,handles:v.handles,value:v.value,snappingFunction:r.closestGridPosition,type:v.type}))})}}}function n61(t){let a=null;for(let c of t)(a===null||c.position<a.position)&&(a=c);return a}var Bt,_4,l61,VG,wG,BG=x(()=>{f1();Bt=y(require("@theatre/dataverse")),_4=y(P());a1();HG();s0();P1();m1();G3();Q6();z4();l61=V.div`
  position: relative;
  height: 100%;
  width: 100%;
`,VG=_4.default.memo(t=>{var f;let{layoutP:a,trackData:c,leaf:r}=t,[e,l]=d1(null),{selectedKeyframeIds:i,selection:o}=h1(()=>{let M=(0,Bt.val)(a.selectionAtom),H=(0,Bt.val)(M.pointer.current.byObjectKey[r.sheetObject.address.objectKey].byTrackId[r.trackId].byKeyframeId);return H?{selectedKeyframeIds:H,selection:(0,Bt.val)(M.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[a,r.trackId]),[n,h,v]=i61(l,t),g=g1(Zn),d=g.mode==="snapToSome"?(f=g.positions[r.sheetObject.address.objectKey])==null?void 0:f[r.trackId]:[],s=g.mode==="snapToAll",u=(0,_4.useMemo)(()=>({data:c,id:r.trackId,sheetObject:t.leaf.sheetObject}),[c,r.trackId]),p=c.keyframes.map((M,H)=>_4.default.createElement(LG,{key:"keyframe-"+M.id,itemKey:t2.forTrackKeyframe(r.sheetObject,r.trackId,M.id),keyframe:M,index:H,track:u,layoutP:a,leaf:r,selection:i[M.id]===!0?o:void 0})),z=d.map(M=>_4.default.createElement(pt,{key:"snap-target-"+M,layoutP:a,leaf:r,position:M})),m=s?c.keyframes.map(M=>_4.default.createElement(pt,{key:`additionalSnapTarget-${M.id}`,layoutP:a,leaf:r,position:M.position})):null;return _4.default.createElement(l61,{ref:e,style:{background:v?"#444850 ":"unset"}},p,z,_4.default.createElement(_4.default.Fragment,null,m),n)});VG.displayName="BasicKeyframedTrack";wG=VG});var yG,Tr,h61,SG,kG=x(()=>{m1();f1();yG=y(require("@theatre/dataverse")),Tr=y(P());wr();BG();s5();h61=({leaf:t,layoutP:a})=>{let c=f0("PrimitivePropRow",t.pathToProp.join());return h1(()=>{let{sheetObject:r}=t,{trackId:e}=t,l=(0,yG.val)(G().atomP.historic.coreByProject[r.address.projectId].sheetsById[r.address.sheetId].sequence.tracksByObject[r.address.objectKey].trackData[e]);return(l==null?void 0:l.type)!=="BasicKeyframedTrack"?(c.errorDev(`trackData type ${l==null?void 0:l.type} is not yet supported on the sequence editor`),Tr.default.createElement(B5,{leaf:t,isCollapsed:!1,node:Tr.default.createElement("div",null)})):Tr.default.createElement(B5,{leaf:t,isCollapsed:!1,node:Tr.default.createElement(wG,{layoutP:a,trackData:l,leaf:t})})},[t,a])},SG=h61});function AG(t){return t()}var RG=x(()=>{});function gh(t){let{index:a,aggregateKeyframes:c,selection:r}=t;return h1(nm(t),[a,c,r,t.viewModel])}function nm(t){let{index:a,aggregateKeyframes:c,selection:r}=t,{projectId:e,sheetId:l}=t.viewModel.type==="sheet"?t.viewModel.sheet.address:t.viewModel.sheetObject.address;return()=>{let i=c[a],o=c[a+1],h=o&&i.keyframes.length===o.keyframes.length&&i.keyframes.every(({track:u},p)=>o.keyframes[p].track===u)?{length:o.position-i.position,selected:i.selected===O0.AllSelected&&o.selected===O0.AllSelected}:null,v=h?i.keyframes.map(({kf:u,track:p},z)=>D(S({},p.sheetObject.address),{trackId:p.id,left:u,right:o.keyframes[z].kf})):[],g=AG(()=>{let u=om.prism.memo("selectedConnections",()=>eh(e,l,r),[e,l,r]).getValue();return[...v,...u]}),d=v.every(u=>rh(u));return{itemKey:om.prism.memo("itemKey",()=>t.viewModel.type==="sheet"?t2.forSheetAggregateKeyframe(t.viewModel.sheet,i.position):t.viewModel.type==="sheetObject"?t2.forSheetObjectAggregateKeyframe(t.viewModel.sheetObject,i.position):t2.forCompoundPropAggregateKeyframe(t.viewModel.sheetObject,t.viewModel.pathToProp,i.position),[t.viewModel,i.position]),cur:i,connected:h,isAggregateEditingInCurvePopover:d,allConnections:g}}}var om,dh=x(()=>{om=y(require("@theatre/dataverse"));z4();a7();Rr();f1();J8();RG()});function g61(t,a){let c=(0,Z0.useRef)(a);c.current=a;let r=(0,Z0.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(e){let l=c.current,i,o=l.aggregateKeyframes[l.index].keyframes,{selection:n,viewModel:h}=l,v=h.type==="sheet"?h.sheet.address:h.sheetObject.address;if(n&&l.aggregateKeyframes[l.index].selected===O0.AllSelected)return n.getDragHandlers(D(S({},v),{domNode:t,positionAtStartOfDrag:l.aggregateKeyframes[l.index].position})).onDragStart(e);let g=l,d=(0,zh.val)(g.layoutP.sheet).getSequence(),s=(0,zh.val)(g.layoutP.scaledSpace.toUnitSpace);return{onDrag(u,p,z){let m=s(u);i&&(i.discard(),i=void 0),i=G().tempTransaction(({stateEditors:f})=>{for(let M of o)f.coreByProject.historic.sheetsById.sequence.transformKeyframes(D(S({},M.track.sheetObject.address),{trackId:M.track.id,keyframeIds:[M.kf.id,M.track.data.keyframes[M.track.data.keyframes.indexOf(M.kf)+1].id],translate:m,scale:1,origin:0,snappingFunction:d.closestGridPosition}))})},onDragEnd(u){u?i&&i.commit():i&&i.discard()}}}}),[]);return S1(t,r)}function d61(t,a){return E1(a,{displayName:"Aggregate Tween",menuItems:()=>{let c=t.utils.allConnections.reduce((o,n)=>{var h;return o.concat((h=Ir(D(S({},n),{keyframeIds:[n.left.id,n.right.id]})))!=null?h:[])},[]),r=O5(c.map(o=>o.pathToProp)),e=c.map(({keyframe:o,pathToProp:n})=>({keyframe:o,pathToProp:n.slice(r.length)})),l=t.editorProps.viewModel,i=l.type==="sheet"?l.sheet.address:l.sheetObject.address;return[{label:"Copy",callback:()=>{if(t.editorProps.selection){let o=Y6(i.projectId,i.sheetId,t.editorProps.selection);G().transaction(n=>{n.stateEditors.studio.ahistoric.setClipboardKeyframes(o)})}else G().transaction(o=>{o.stateEditors.studio.ahistoric.setClipboardKeyframes(e)})}},{label:"Delete",callback:()=>{t.editorProps.selection?t.editorProps.selection.delete():G().transaction(({stateEditors:o})=>{for(let n of t.utils.allConnections)o.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},i),{objectKey:n.objectKey,keyframeIds:[n.left.id,n.right.id],trackId:n.trackId}))})}}]}})}var zh,Z0,bG,v61,s61,FG,IG=x(()=>{zh=y(require("@theatre/dataverse")),Z0=y(P());im();a7();Q3();P1();m1();m2();Rr();dh();a1();Y3();J8();s0();G3();bG=5,v61=V(T2)`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`,s61=Z0.default.forwardRef((t,a)=>{let{allConnections:c}=gh(t);return Z0.default.createElement(v61,{showPopoverEdgeTriangle:!1,ref:a},Z0.default.createElement(ch,{curveConnection:c[0],additionalConnections:c,onRequestClose:t.closePopover}))}),FG=t=>{let[a,c]=d1(null),{editorProps:r}=t,[e]=d61(t,c),[l]=g61(c,t.editorProps),{node:i,toggle:o,close:n}=M2(()=>{let g=(0,zh.val)(r.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:g.screenX+bG,maxX:g.screenX+g.width-bG}}},()=>Z0.default.createElement(s61,D(S({},r),{closePopover:n}))),{connected:h,isAggregateEditingInCurvePopover:v}=t.utils;return h||l?Z0.default.createElement(Z0.default.Fragment,null,Z0.default.createElement(hh,{ref:a,connectorLengthInUnitSpace:h?h.length:0,isSelected:h?h.selected:!1,isPopoverOpen:v,openPopover:g=>{c&&o(g,c)}}),i,e):Z0.default.createElement(Z0.default.Fragment,null)}});function TG(t){let a={isSelected:t.isSelected,flag:t.flag};return S5.default.createElement(hm,null,t.isAllHere?S5.default.createElement(p61,S({},a)):S5.default.createElement(m61,S({},a)))}var S5,PG,z61,hm,GG,EG,OG,ZG,DG,u61,p61,m61,jG=x(()=>{S5=y(P());a7();A4();a1();Hr();G1();PG=16,z61=PG+2,hm=V.div`
  position: absolute;
  ${C0(PG)}
  z-index: 1;
`,GG=V.div`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  ${C0(12)};
  ${x1};

  &:hover
    + ${hm},
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + ${hm} {
    ${C0(z61)}
  }
`;EG="#F2C95C",OG="#40AAA4",ZG="#45747C",DG=t=>t.isSelected===O0.AllSelected?EG:t.isSelected===O0.AtLeastOneUnselected?OG:ZG,u61=t=>t.isSelected===O0.AllSelected?EG:t.isSelected===O0.AtLeastOneUnselected?OG:ZG,p61=t=>S5.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S5.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:u61(t)}),S5.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:DG(t),stroke:t.flag===L2.Primary?"white":void 0,strokeWidth:t.flag===L2.Primary?"2px":void 0})),m61=t=>S5.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S5.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:t.flag===L2.Primary?"white":DG(t),strokeWidth:t.flag===L2.Primary?"2px":void 0}))});function f61(t,a){let c=t.children.map(r=>r.type==="propWithChildren"?vm(r,a):_G(r,a)).filter(WG);return c.length===0?null:{type:"sheetObject",sheetObject:t.sheetObject,children:c}}function vm(t,a){let c=t.children.map(r=>r.type==="propWithChildren"?vm(r,a):_G(r,a)).filter(WG);return c.length===0?null:{type:"propWithChildren",pathToProp:t.pathToProp,propConfig:t.propConf,children:c}}function _G(t,a){let c=a.find(r=>r.track.id===t.trackId);return c?{type:"primitiveProp",keyframe:c.kf,pathToProp:t.pathToProp,propConfig:t.propConf,sheetObject:t.sheetObject,trackId:t.trackId}:null}function qG(t){var o,n,h,v;let{cur:a}=t.utils,c=J6(t.editorProps.viewModel.type==="sheet"?null:t.editorProps.viewModel.type==="sheetObject"?(n=(o=f61(t.editorProps.viewModel,a.keyframes))==null?void 0:o.children)!=null?n:null:(v=(h=vm(t.editorProps.viewModel,a.keyframes))==null?void 0:h.children)!=null?v:null),r=r3(t.utils.itemKey);r.useRelations(()=>a.keyframes.map(g=>({affects:g.itemKey,flag:L2.Primary})),[a.keyframes.map(g=>g.track.id).join("-")]);let[e,l]=d1(null),[i]=M61(t,l);return Er.default.createElement(Er.default.Fragment,null,Er.default.createElement(GG,D(S(S({ref:e},r.attrs),r2.includePositionSnapAttrs(a.position)),{onClick:g=>t.editorProps.viewModel.type!=="sheet"?c.open(g,e.current):null})),Er.default.createElement(TG,{flag:r.flag,isAllHere:a.allHere,isSelected:a.selected}),i,c.node)}function M61(t,a){return E1(a,{displayName:"Aggregate Keyframe",menuItems:()=>{let c=t.editorProps.viewModel,r=t.editorProps.selection;return[{label:r?"Copy (selection)":"Copy",callback:()=>{if(r){let{projectId:e,sheetId:l}=c.type==="sheet"?c.sheet.address:c.sheetObject.address,i=Y6(e,l,r);G().transaction(o=>{o.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}else{let e=t.utils.cur.keyframes.flatMap(n=>{var h;return(h=Ir(D(S({},n.track.sheetObject.address),{trackId:n.track.id,keyframeIds:[n.kf.id]})))!=null?h:[]}),l=c.type==="sheet"?[]:c.type==="sheetObject"?[c.sheetObject.address.objectKey]:c.type==="propWithChildren"?[c.sheetObject.address.objectKey,...c.pathToProp]:[],i=O5([l,...e.map(n=>n.pathToProp)]),o=e.map(({keyframe:n,pathToProp:h})=>({keyframe:n,pathToProp:h.slice(i.length)}));G().transaction(n=>{n.stateEditors.studio.ahistoric.setClipboardKeyframes(o)})}}},{label:r?"Delete (selection)":"Delete",callback:()=>{r?r.delete():G().transaction(({stateEditors:e})=>{for(let l of t.utils.cur.keyframes)e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},l.track.sheetObject.address),{keyframeIds:[l.kf.id],trackId:l.track.id}))})}}]}})}var Er,WG,NG=x(()=>{Er=y(P());P1();A4();s0();jG();m1();J8();G3();H3();Pr();WG=t=>t!==null});var UG,Or,x61,C61,KG,$G=x(()=>{UG=y(require("@theatre/dataverse")),Or=y(P());a1();IG();dh();NG();x61=V.div`
  position: absolute;
`,C61=Or.default.memo(t=>{let a=gh(t);return Or.default.createElement(x61,{style:{top:`${t.viewModel.nodeHeight/2}px`,left:`calc(${(0,UG.val)(t.layoutP.scaledSpace.leftPadding)}px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ${a.cur.position}px))`}},Or.default.createElement(qG,{editorProps:t,utils:a}),Or.default.createElement(FG,{editorProps:t,utils:a}))}),KG=C61});function V61(t){let{layoutP:a,aggregatedKeyframes:c,viewModel:r}=t,e=f0("AggregatedKeyframeTrack"),[l,i]=d1(null),{selectedPositions:o,selection:n}=B61(a,c),[h,v,g]=k61(i,t,()=>e._debug("see aggregatedKeyframes",t.aggregatedKeyframes)),d=(0,D0.useMemo)(()=>[...c.byPosition.entries()].sort((w,B)=>w[0]-B[0]).map(([w,B])=>({position:w,keyframes:B,selected:o.get(w),allHere:B.length===c.tracks.length})),[c,o]),s=g1(Zn),u=s.mode==="snapToAll",p=s.mode==="snapToSome"?s.positions:un,m=(0,D0.useMemo)(()=>r.type==="sheet"?JS(r,p):Xi(r,p),[p]).map(w=>D0.default.createElement(pt,{key:"snap-target-"+w,layoutP:a,leaf:r,position:w})),f=(0,D0.useMemo)(()=>d.map(({position:w,keyframes:B},k)=>({position:w,editorProps:{index:k,layoutP:a,viewModel:r,aggregateKeyframes:d,selection:o.has(w)?n:void 0}})),[d,r,o]),[M]=F61(i,w=>{var B;return(B=f.find(k=>k.position===w))==null?void 0:B.editorProps},{onClickFromDrag(w){}}),H=f.map((w,B)=>D0.default.createElement(D0.Fragment,{key:"agg-"+d[B].keyframes[0].kf.id},u&&D0.default.createElement(pt,{layoutP:a,leaf:r,position:w.position}),D0.default.createElement(KG,S({},w.editorProps))));return D0.default.createElement(L61,{ref:l,style:{background:g?"#444850 ":"unset"}},H,m,h)}function B61(t,a){return h1(()=>(0,Q2.val)(y61(t,a)),[t,a])}function y61(t,a){return(0,Q2.prism)(()=>{let c=(0,Q2.val)(t.selectionAtom),r=(0,Q2.val)(c.pointer.current);if(!r)return H61;let e=new Map;for(let[l,i]of a.byPosition){let o=S61(i,r);o!==void 0&&o!==sm&&e.set(l,o)}return{selectedPositions:e,selection:(0,Q2.val)(c.pointer.current)}})}function S61(t,a){var r,e,l;let c;for(let{track:i,kf:o}of t){let n=((l=(e=(r=a.byObjectKey[i.sheetObject.address.objectKey])==null?void 0:r.byTrackId[i.id])==null?void 0:e.byKeyframeId)==null?void 0:l[o.id])===!0;c===void 0?n?c=QG:c=sm:n?c===sm&&(c=XG):c===QG&&(c=XG)}return c}function k61(t,a,c){return E1(t,{onOpen:c,displayName:"Aggregate Keyframe Track",menuItems:()=>{var e;let r=(e=(0,Q2.pointerToPrism)(G().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?e:[];return[A61(a,r)]}})}function A61(t,a){return{label:"Paste Keyframes",enabled:a.length>0,callback:()=>{let r=(0,Q2.val)(t.layoutP.sheet).getSequence();t.viewModel.type==="sheet"?R61(t.viewModel,a,r):b61(t.viewModel,a,r)}}}function R61(t,a,c){var o;let{projectId:r,sheetId:e,sheetInstanceId:l}=t.sheet.address;if(a.every(({pathToProp:n})=>n.length===0))for(let n of t.children.map(h=>h.sheetObject)){let h=(0,Q2.pointerToPrism)(G().atomP.historic.coreByProject[r].sheetsById[e].sequence.tracksByObject[n.address.objectKey]).getValue(),v=Object.keys((o=h==null?void 0:h.trackData)!=null?o:{});gm(n.address,v,a,c)}else{let n=(0,Q2.pointerToPrism)(G().atomP.historic.coreByProject[r].sheetsById[e].sequence.tracksByObject).getValue(),h=a.map(({keyframe:v,pathToProp:g})=>{var m,f;let d=g[0],s=g.slice(1),u=_0([...s]),z=((f=(m=n==null?void 0:n[d])==null?void 0:m.trackIdByPropPath)!=null?f:{})[u];return z?{keyframe:v,trackId:z,address:{objectKey:d,projectId:r,sheetId:e,sheetInstanceId:l}}:null}).filter(v=>v!==null);YG(h,c)}}function b61(t,a,c){var n;let{projectId:r,sheetId:e,objectKey:l}=t.sheetObject.address,i=(0,Q2.pointerToPrism)(G().atomP.historic.coreByProject[r].sheetsById[e].sequence.tracksByObject[l]).getValue();if(a.every(({pathToProp:h})=>h.length===0)){let h=Object.keys((n=i==null?void 0:i.trackData)!=null?n:{});if(t.type==="sheetObject")gm(t.sheetObject.address,h,a,c);else{let v=(i==null?void 0:i.trackIdByPropPath)||{},g=Object.entries(v).filter(([d,s])=>s!==void 0&&FM(m7(d),t.pathToProp)).map(([d,s])=>s);gm(t.sheetObject.address,g,a,c)}}else{let h=(i==null?void 0:i.trackIdByPropPath)||{},v=t.type==="propWithChildren"?t.pathToProp:[],g=a.map(({keyframe:d,pathToProp:s})=>{let u=_0([...v,...s]),p=h[u];return p?{keyframe:d,trackId:p,address:t.sheetObject.address}:null}).filter(d=>d!==null);YG(g,c)}}function gm(t,a,c,r){var l;r.position=r.closestGridPosition(r.position);let e=(l=JG(c.map(({keyframe:i})=>i)))==null?void 0:l.position;G().transaction(({stateEditors:i})=>{for(let o of a)for(let{keyframe:n}of c)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(D(S({},t),{trackId:o,position:r.position+n.position-e,handles:n.handles,value:n.value,snappingFunction:r.closestGridPosition,type:n.type}))})}function YG(t,a){var r;a.position=a.closestGridPosition(a.position);let c=(r=JG(t.map(({keyframe:e})=>e)))==null?void 0:r.position;G().transaction(({stateEditors:e})=>{for(let{keyframe:l,trackId:i,address:o}of t)e.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(D(S({},o),{trackId:i,position:a.position+l.position-c,handles:l.handles,value:l.value,snappingFunction:a.closestGridPosition,type:l.type}))})}function JG(t){let a=null;for(let c of t)(a===null||c.position<a.position)&&(a=c);return a}function F61(t,a,c){let r=f0("useDragForAggregateKeyframeDot"),e=PR(),l=(0,D0.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(o){r._debug("onDragStart",{target:o.target});let n=Number(o.target.dataset.pos),h=a(n);if(!h)return r._debug("no props found for ",{positionToFind:n}),!1;e(!0,n);let v=(0,Q2.prism)(nm(h)).getValue().cur.keyframes,g=h.viewModel.type==="sheet"?h.viewModel.sheet.address:h.viewModel.sheetObject.address,d=(0,Q2.val)(G().atomP.historic.coreByProject[g.projectId].sheetsById[g.sheetId].sequence.tracksByObject),s=jn(d,function(f,{trackId:M,objectKey:H}){var w,B;return v.every(k=>f.id!==k.kf.id)&&!(h.selection&&((B=(w=h.selection.byObjectKey[H])==null?void 0:w.byTrackId[M])==null?void 0:B.byKeyframeId[f.id]))});if(Dn(s),h.selection&&h.aggregateKeyframes[h.index].selected===0){let{selection:m,viewModel:f}=h,M=m.getDragHandlers(D(S({},g),{domNode:t,positionAtStartOfDrag:v[0].kf.position})).onDragStart(o);return M&&D(S({},M),{onClick:c.onClickFromDrag,onDragEnd:(...H)=>{var w;(w=M.onDragEnd)==null||w.call(M,...H),b3()}})}let u=h,p=(0,Q2.val)(u.layoutP.scaledSpace.toUnitSpace),z;return{onDrag(m,f,M){var w;let H=Math.max((w=r2.checkIfMouseEventSnapToPos(M,{}))!=null?w:v[0].kf.position+p(m),0);e(!0,H),z==null||z.discard(),z=void 0,z=G().tempTransaction(({stateEditors:B})=>{for(let k of v){let I=k.kf;B.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},k.track.sheetObject.address),{trackId:k.track.id,keyframes:[D(S({},I),{position:H})],snappingFunction:(0,Q2.val)(u.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(m){e(!1,-1),m?z==null||z.commit():(z==null||z.discard(),c.onClickFromDrag(o)),b3()},onClick(m){c.onClickFromDrag(m)}}}}),[a,c.onClickFromDrag]),[i]=S1(t,l);return g2(i,"draggingPositionInSequenceEditor","ew-resize"),[i]}var Q2,D0,L61,H61,w61,yt,O0,QG,XG,sm,a7=x(()=>{f1();Q2=y(require("@theatre/dataverse")),D0=y(P());a1();s0();P1();$G();I8();s5();dh();H3();m2();G2();A0();m1();G3();Q6();pn();Q6();I8();L61=V.div`
  position: relative;
  height: 100%;
  width: 100%;
`,H61=Object.freeze({selectedPositions:new Map,selection:void 0});w61=D0.default.memo(V61),yt=w61;(function(r){r[r.AllSelected=0]="AllSelected",r[r.AtLeastOneUnselected=1]="AtLeastOneUnselected",r[r.NoneSelected=2]="NoneSelected"})(O0||(O0={}));({AllSelected:QG,AtLeastOneUnselected:XG,NoneSelected:sm}=O0)});var St,dm,I61,tT=x(()=>{f1();St=y(P());kG();wr();a7();I8();s5();dm=(t,a)=>t.type==="propWithChildren"?St.default.createElement(I61,{layoutP:a,viewModel:t,key:"prop"+t.pathToProp[t.pathToProp.length-1]}):St.default.createElement(SG,{layoutP:a,leaf:t,key:"prop"+t.pathToProp[t.pathToProp.length-1]}),I61=({viewModel:t,layoutP:a})=>{let c=f0("RightPropWithChildrenRow",t.pathToProp.join());return h1(()=>{let r=H6(t);return St.default.createElement(ji,{logger:c},St.default.createElement(B5,{leaf:t,node:St.default.createElement(yt,{layoutP:a,aggregatedKeyframes:r,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map(l=>dm(l,a))))},[t,a])}});var zm,P61,aT,cT=x(()=>{f1();zm=y(P());tT();wr();I8();a7();P61=({leaf:t,layoutP:a})=>h1(()=>{let c=H6(t);return zm.default.createElement(B5,{leaf:t,node:zm.default.createElement(yt,{layoutP:a,aggregatedKeyframes:c,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map(e=>dm(e,a)))},[t,a]),aT=P61});var uh,G61,rT,eT=x(()=>{f1();uh=y(P());cT();wr();I8();a7();G61=({leaf:t,layoutP:a})=>h1(()=>{let c=H6(t);return uh.default.createElement(B5,{leaf:t,node:uh.default.createElement(yt,{layoutP:a,aggregatedKeyframes:c,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map(e=>uh.default.createElement(aT,{layoutP:a,key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e})))},[t,a]),rT=G61});var Zr,c7,ph,T61,E61,HR,wu=x(()=>{f1();Zr=y(require("@theatre/dataverse")),c7=y(P());a1();ck();$p();eT();ph=1e6,T61=V.ul`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: ${ph}px;
`,E61=({layoutP:t})=>h1(()=>{let a=(0,Zr.val)(t.tree),c=(0,Zr.val)(t.tree.top)+Math.max((0,Zr.val)(t.tree.heightIncludingChildren),(0,Zr.val)(t.dopeSheetDims.height));return c7.default.createElement(c7.default.Fragment,null,c7.default.createElement($n,{layoutP:t,height:c},c7.default.createElement(ak,{layoutP:t,height:c},c7.default.createElement(T61,{style:{top:a.top+"px"}},c7.default.createElement(rT,{leaf:a,layoutP:t})))))},[t]),HR=E61});function Dr(t,a,c,r){let e=`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${t}px)`,l=`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${a}) * 1px)`;c===0&&(c=1e-4);let i=`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${c})`;r===0&&(r=.001);let o=`calc(var(--graphEditorVerticalSpace) * ${r*-1})`;return`translate(${e}, ${l}) scale(${i}, ${o})`}function j61(t,a){let{index:c,trackData:r}=a,e=r.keyframes[c],l=r.keyframes[c+1];return E1(t,{menuItems:()=>[{label:"Delete",callback:()=>{G().transaction(({stateEditors:i})=>{let{deleteKeyframes:o}=i.coreByProject.historic.sheetsById.sequence;o(D(S({},a.sheetObject.address),{trackId:a.trackId,keyframeIds:[e.id,l.id]}))})}}]})}var mh,O61,Z61,D61,lT,fh=x(()=>{G6();m1();s0();P1();mh=y(P());a1();O61=V.path`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`,Z61="M 0 0 L 1 0 L 1 1",D61=t=>{let{index:a,trackData:c}=t,r=c.keyframes[a],e=c.keyframes[a+1],l=e.position-r.position,[i,o]=d1(null),[n]=j61(o,t),h=t.isScalar?D8(r.value,t.propConfig):0,v=t.isScalar?D8(e.value,t.propConfig):1,g=t.extremumSpace.fromValueSpace(h),s=t.extremumSpace.fromValueSpace(v)-g,u=Dr(r.position,g,l,s),p=r.handles[2],z=r.handles[3],m=e.handles[0],f=e.handles[1],M=`M 0 0 C ${p} ${z} ${m} ${f} 1 1`;return mh.default.createElement(mh.default.Fragment,null,mh.default.createElement(O61,{ref:i,d:!r.type||r.type==="bezier"?M:Z61,style:{transform:u}}),n)};lT=D61});function N61(t,a){let c=(0,k5.useRef)(a);c.current=a;let r=(0,k5.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let e,l=c.current,i=(0,jr.val)(l.layoutP.scaledSpace.toUnitSpace),o=(0,jr.val)(l.layoutP.graphEditorVerticalSpace.toExtremumSpace),n=l.extremumSpace.lock();return{onDrag(h,v){e&&(e.discard(),e=void 0);let{index:g,trackData:d}=l,s=d.keyframes[g],u=d.keyframes[g+1],z=i(h)/(u.position-s.position),m=-v,f=o(m),M=l.extremumSpace.deltaToValueSpace(f),H=a.isScalar?s.value:0,w=a.isScalar?u.value:1,B=M/(w-H);if(l.which==="left"){let k=F1(s.handles[2]+z,0,1),I=s.handles[3]+B;e=G().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},l.sheetObject.address),{snappingFunction:(0,jr.val)(l.layoutP.sheet).getSequence().closestGridPosition,trackId:l.trackId,keyframes:[D(S({},s),{handles:[s.handles[0],s.handles[1],k,I]})]}))})}else{let k=F1(u.handles[0]+z,0,1),I=u.handles[1]+B;e=G().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},l.sheetObject.address),{trackId:l.trackId,snappingFunction:(0,jr.val)(l.layoutP.sheet).getSequence().closestGridPosition,keyframes:[D(S({},u),{handles:[k,I,u.handles[2],u.handles[3]]})]}))})}},onDragEnd(h){n(),h?e&&e.commit():e&&e.discard()}}}}),[]);S1(t,r)}function U61(t,a){return E1(t,{menuItems:()=>[{label:"Delete",callback:()=>{G().transaction(({stateEditors:c})=>{c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}var jr,k5,iT,W61,_61,q61,um,oT=x(()=>{m1();s0();m2();P1();jr=y(require("@theatre/dataverse"));C2();k5=y(P());a1();fh();G1();iT=V.circle`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`,W61=V.circle`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  ${x1};
  &:hover {
  }
  &:hover + ${iT} {
    r: 6px;
  }
`,_61=V.path`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`,q61=t=>{let[a,c]=d1(null),{index:r,trackData:e}=t,l=e.keyframes[r],i=e.keyframes[r+1],[o]=U61(c,t);N61(c,t);let n=t.which==="left"?l.handles[2]:i.handles[0],h=l.position+(i.position-l.position)*n,v=t.which==="left"?l.handles[3]:i.handles[1],g=t.isScalar?l.value:0,d=t.isScalar?i.value:1,s=g+(d-g)*v,u=t.extremumSpace.fromValueSpace(s),p=u-t.extremumSpace.fromValueSpace(t.which==="left"?g:d),z=Dr(t.which==="left"?l.position:i.position,t.extremumSpace.fromValueSpace(t.which==="left"?g:d),h-(t.which==="left"?l.position:i.position),p);return k5.default.createElement("g",null,k5.default.createElement(W61,{ref:a,style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${h} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${u}) * 1px)`}}),k5.default.createElement(iT,{style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${h} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${u}) * 1px)`}}),k5.default.createElement(_61,{d:"M 0 0 L 1 1",style:{transform:z}}),o)},um=q61});function Q61(t){let[a,c]=(0,l4.useState)(!1);v0(a,t.props.keyframe.position);let r=(0,l4.useRef)(t.props);r.current=t.props;let e=(0,l4.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(l){c(!0);let i=!!l.altKey,o=r.current,n=(0,Mh.val)(o.layoutP.scaledSpace.toUnitSpace),h=(0,Mh.val)(o.layoutP.graphEditorVerticalSpace.toExtremumSpace),v=o.extremumSpace.lock(),g;return{onDrag(d,s){let u=o.trackData.keyframes[o.index],p=n(d),z=-s,m=h(z),f=o.extremumSpace.deltaToValueSpace(m),M=[],H=D(S({},u),{position:u.position+p,value:u.value+f,handles:[...u.handles]});if(M.push(H),i){let w=o.trackData.keyframes[o.index-1];if(w&&Math.abs(u.value-w.value)>0){let k=D(S({},w),{handles:[...w.handles]});M.push(k),k.handles[3]=Y61(w.handles[3],w.value,w.value,u.value,H.value)}let B=o.trackData.keyframes[o.index+1];if(B&&Math.abs(u.value-B.value)>0){let k=D(S({},B),{handles:[...B.handles]});M.push(k),k.handles[1]=J61(k.handles[1],k.value,k.value,u.value,H.value)}}g==null||g.discard(),g=G().tempTransaction(({stateEditors:w})=>{w.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},o.sheetObject.address),{trackId:o.trackId,keyframes:M,snappingFunction:(0,Mh.val)(o.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(d){c(!1),v(),d?g==null||g.commit():(g==null||g.discard(),t.onDetectedClick(l))}}}}),[]);return S1(t.node,e),g2(a,"draggingPositionInSequenceEditor","move"),a}function X61(t,a){return E1(t,{menuItems:()=>[{label:"Delete",callback:()=>{G().transaction(({stateEditors:c})=>{c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}function Y61(t,a,c,r,e){return(r-a)*t/(e-c)}function J61(t,a,c,r,e){return((a-r)*t+r-a+c-e)/(c-e)}var Mh,l4,nT,K61,$61,hT,vT=x(()=>{m1();s0();m2();P1();Mh=y(require("@theatre/dataverse")),l4=y(P());a1();G2();G2();G1();A0();H3();Pr();A4();nT=V.circle`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`,K61=V.circle`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  ${x1};

  &:hover + ${nT} {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(${k0});
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`,$61=t=>{let[a,c]=d1(null),{index:r,trackData:e}=t,l=e.keyframes[r],[i]=X61(c,t),o=r3(t.itemKey),n=l.value,h=t.extremumSpace.fromValueSpace(n),v=J6([{type:"primitiveProp",keyframe:t.keyframe,pathToProp:t.pathToProp,propConfig:t.propConfig,sheetObject:t.sheetObject,trackId:t.trackId}]),g=Q61({node:c,props:t,onDetectedClick:d=>v.toggle(d,d.target instanceof Element?d.target:c)});return l4.default.createElement(l4.default.Fragment,null,l4.default.createElement(K61,D(S(S(S({ref:a,style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${l.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${h}) * 1px)`}},P2(l.position)),r2.includePositionSnapAttrs(l.position)),o.attrs),{className:g?"beingDragged":""})),l4.default.createElement(nT,{style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${l.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${h}) * 1px)`,fill:o.flag===L2.Primary?"white":void 0}}),v.node,i)},hT=$61});function c81(t){let[a,c]=(0,i4.useState)(!1);v0(a,t.props.keyframe.position);let r=(0,i4.useRef)(t.props);r.current=t.props;let e=(0,i4.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(l){c(!0);let i=r.current,o=(0,pm.val)(i.layoutP.scaledSpace.toUnitSpace),n=i.extremumSpace.lock(),h;return{onDrag(v,g){let d=i.trackData.keyframes[i.index],s=o(v),u=[],p=D(S({},d),{position:d.position+s,value:d.value,handles:[...d.handles]});u.push(p),h==null||h.discard(),h=G().tempTransaction(({stateEditors:z})=>{z.coreByProject.historic.sheetsById.sequence.replaceKeyframes(D(S({},i.sheetObject.address),{trackId:i.trackId,keyframes:u,snappingFunction:(0,pm.val)(i.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(v){c(!1),n(),v?h==null||h.commit():(h==null||h.discard(),t.onDetectedClick(l))}}}}),[]);return S1(t.node,e),g2(a,"draggingPositionInSequenceEditor","ew-resize"),a}function r81(t,a){return E1(t,{menuItems:()=>[{label:"Delete",callback:()=>{G().transaction(({stateEditors:c})=>{c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(D(S({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}var pm,i4,sT,t81,a81,mm,gT=x(()=>{m1();s0();m2();P1();pm=y(require("@theatre/dataverse")),i4=y(P());a1();G2();G2();G1();A0();H3();Pr();A4();sT=V.circle`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`,t81=V.circle`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  ${x1};

  &:hover + ${sT} {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(${k0});
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`,a81=t=>{let[a,c]=d1(null),{index:r,trackData:e,itemKey:l}=t,i=e.keyframes[r],[o]=r81(c,t),n=r3(l),h=t.which==="left"?0:1,v=J6([{type:"primitiveProp",keyframe:t.keyframe,pathToProp:t.pathToProp,propConfig:t.propConfig,sheetObject:t.sheetObject,trackId:t.trackId}]),g=c81({node:c,props:t,onDetectedClick:s=>v.toggle(s,s.target instanceof Element?s.target:c)}),d=t.extremumSpace.fromValueSpace(h);return i4.default.createElement(i4.default.Fragment,null,i4.default.createElement(t81,D(S(S(S({ref:a,style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${i.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${d}) * 1px)`}},n.attrs),P2(i.position)),r2.includePositionSnapAttrs(i.position)),{className:g?"beingDragged":""})),i4.default.createElement(sT,{style:{cx:`calc(var(--unitSpaceToScaledSpaceMultiplier) * ${i.position} * 1px)`,cy:`calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ${d}) * 1px)`,fill:n.flag===L2.Primary?"white":void 0}}),v.node,o)},mm=a81});var xh,e81,l81,dT,zT=x(()=>{xh=y(P());a1();fh();e81=V.path`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`,l81=t=>{let{index:a,trackData:c}=t,r="M 0 0 L 1 1",e=Dr(c.keyframes[a].position,t.extremumSpace.fromValueSpace(0),0,t.extremumSpace.fromValueSpace(1)-t.extremumSpace.fromValueSpace(0));return xh.default.createElement(xh.default.Fragment,null,xh.default.createElement(e81,{d:r,style:{transform:e}}))},dT=l81});var X2,i81,o81,n81,uT,pT=x(()=>{X2=y(P());a1();fh();oT();vT();gT();zT();i81=V.g`
  /* position: absolute; */
`,o81=X2.default.createElement(X2.default.Fragment,null),n81=t=>{let{index:a,trackData:c,isScalar:r}=t,e=c.keyframes[a],l=c.keyframes[a+1],o=e.connectedRight&&!!l&&l.value!==e.value;return X2.default.createElement(i81,null,o?X2.default.createElement(X2.default.Fragment,null,X2.default.createElement(lT,S({},t)),!e.type||e.type==="bezier"&&X2.default.createElement(X2.default.Fragment,null,X2.default.createElement(um,D(S({},t),{which:"left"})),X2.default.createElement(um,D(S({},t),{which:"right"})))):o81,r?X2.default.createElement(hT,S({},t)):X2.default.createElement(X2.default.Fragment,null,X2.default.createElement(mm,D(S({},t),{which:"left"})),X2.default.createElement(mm,D(S({},t),{which:"right"})),X2.default.createElement(dT,S({},t))))},uT=n81});function v81(t,a){let c=1/0,r=-1/0;function e(l){c=Math.min(l,c),r=Math.max(l,r)}return t.forEach((l,i)=>{let o=D8(l.value,a);if(e(o),!l.connectedRight)return;let n=t[i+1];if(!n)return;let h=(typeof n.value=="number"?n.value:1)-o;e(o+l.handles[3]*h),e(o+n.handles[1]*h)}),[c,r]}function s81(t){let a=0,c=1;function r(e){a=Math.min(e,a),c=Math.max(e,c)}return t.forEach((e,l)=>{if(!e.connectedRight)return;let i=t[l+1];!i||(r(e.handles[3]),r(i.handles[1]))}),[a,c]}var h3,h81,mT,fT=x(()=>{z4();h3=y(P());Kc();pT();G6();f1();h81=h3.default.memo(({layoutP:t,trackData:a,sheetObject:c,trackId:r,color:e,pathToProp:l})=>{let i=F9(g1(c.template.configPointer),l);if(w3(i))return console.error("Composite prop types cannot be keyframed"),h3.default.createElement(h3.default.Fragment,null);let[o,n]=(0,h3.useState)(!1),h=(0,h3.useMemo)(()=>{let s=new Set;return function(){let p=s.size===0;s.add(z),p&&n(!0);function z(){let m=s.size>0;s.delete(z),m&&s.size===0&&n(!1)}return z}},[]),v=(0,h3.useMemo)(()=>{let s=i.type==="number"?v81(a.keyframes,i):s81(a.keyframes),u=m=>(m-s[0])/(s[1]-s[0]),p=m=>s[0]+z(m),z=m=>m*(s[1]-s[0]);return{fromValueSpace:u,toValueSpace:p,deltaToValueSpace:z,lock:h}},[a.keyframes]),g=(0,h3.useRef)(void 0);o||(g.current=v);let d=a.keyframes.map((s,u)=>h3.default.createElement(uT,{pathToProp:l,propConfig:i,itemKey:t2.forTrackKeyframe(c,r,s.id),keyframe:s,index:u,trackData:a,layoutP:t,sheetObject:c,trackId:r,isScalar:i.type==="number",key:s.id,extremumSpace:g.current,color:e}));return h3.default.createElement("g",{style:{"--main-color":j8[e].iconColor}},d)}),mT=h81});var MT,Ch,g81,xT,CT=x(()=>{m1();f1();MT=y(require("@theatre/dataverse")),Ch=y(P());fT();g81=t=>h1(()=>{let{sheetObject:a,trackId:c}=t,r=(0,MT.val)(G().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[c]);return(r==null?void 0:r.type)!=="BasicKeyframedTrack"?(console.error(`trackData type ${r==null?void 0:r.type} is not yet supported on the graph editor`),Ch.default.createElement(Ch.default.Fragment,null)):Ch.default.createElement(mT,D(S({},t),{trackData:r}))},[t.trackId,t.layoutP]),xT=g81});var q4,r7,j8,d81,z81,u81,bP,Kc=x(()=>{m1();G3();Ma();f1();q4=y(require("@theatre/dataverse")),r7=y(P());a1();wu();$p();CT();Lu();b0();j8={"1":{iconColor:"#b98b08"},"2":{iconColor:"#70a904"},"3":{iconColor:"#2e928a"},"4":{iconColor:"#a943bb"},"5":{iconColor:"#b90808"},"6":{iconColor:"#b4bf0e"}},d81=V.div`
  position: absolute;
  right: 0;
  bottom: 0;
  background: ${M0(.03,"#1a1c1e")};
`,z81=V.svg`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`,u81=({layoutP:t})=>h1(()=>{let a=(0,q4.val)(t.sheet),c=(0,q4.val)(G().atomP.historic.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].sequenceEditor.selectedPropsByObject),r=(0,q4.val)(t.graphEditorDims.height),e=(0,q4.val)(t.scaledSpace.fromUnitSpace)(1),l=[];if(c)for(let[o,n]of Object.entries(c)){let h=a.getObject(o);if(!h)continue;let v=(0,q4.val)(h.template.getMapOfValidSequenceTracks_forStudio());for(let[g,d]of Object.entries(n)){let s=m7(g),u=Q0(v,s);!u||l.push(r7.default.createElement(xT,{key:`graph-${o}-${g}`,sheetObject:h,pathToProp:s,layoutP:t,trackId:u,color:d}))}}let i=(0,q4.val)(t.rightDims.width);return r7.default.createElement(d81,{style:{width:i+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":e,"--graphEditorVerticalSpace":`${(0,q4.val)(t.graphEditorVerticalSpace.space)}`}},r7.default.createElement(Io,{layoutP:t,width:i,height:r}),r7.default.createElement($n,{layoutP:t,height:r},r7.default.createElement(z81,{width:ph,height:r,viewBox:`0 0 ${ph} ${r}`},r7.default.createElement("g",{style:{transform:`translate(${(0,q4.val)(t.scaledSpace.leftPadding)}px, ${(0,q4.val)(t.graphEditorDims.padding.top)}px)`}},l))))},[t]),bP=u81});function Lh(t,a){return t.length<=a?t:t.substr(0,a-3)+"..."}var BT=x(()=>{});var m81,Hh,ym=x(()=>{BT();m81=t=>typeof t=="string"?`string("${Lh(t,10)}")`:typeof t=="number"?`number(${Lh(String(t),10)})`:t===null?"null":t===void 0?"undefined":typeof t=="boolean"?String(t):Array.isArray(t)?"array":typeof t=="object"?"object":"unknown",Hh=m81});var N4,Im,C81,L81,H81,V81,w81,B81,y81,S81,c8,Nr=x(()=>{N4=y(P());a1();b8();G1();zr();Im=V.li`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`,C81=V.div``,L81=V(C81)`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  ${x1};
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,H81=F2`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`,V81=V.span`
  ${H81};

  ${x1};
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`,w81=V.div`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`,B81=V.span`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  ${Im}.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`,y81=V.ul`
  margin: 0;
  padding: 0;
  list-style: none;

  ${Im}.collapsed & {
    display: none;
  }
`,S81=({label:t,children:a,depth:c,select:r,selectionStatus:e,labelDecoration:l,collapsed:i=!1,setIsCollapsed:o})=>{let n=a!==void 0;return N4.default.createElement(Im,{style:{"--depth":c},className:i?"collapsed":""},N4.default.createElement(L81,{className:e,onClick:r!=null?r:n0,"data-header":!0},N4.default.createElement(w81,null,n?N4.default.createElement(B81,{onClick:h=>{h.stopPropagation(),h.preventDefault(),o==null||o(!i)}},N4.default.createElement(tp,null)):N4.default.createElement(ip,null)),N4.default.createElement(V81,null,N4.default.createElement("span",null,t)),l),n&&N4.default.createElement(y81,null,a))},c8=S81});var TT,ET,OT=x(()=>{m1();TT=y(P());Nr();f1();g5();ET=({sheetObject:t,depth:a,overrideLabel:c})=>{let r=()=>{G().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([t])})},e=h1(()=>a3(),[]);return TT.default.createElement(c8,{select:r,label:c!=null?c:t.address.objectKey,depth:a,selectionStatus:e.includes(t)?"selected":"not-selected"})}});function Ft(t){var l;let a=t.type==="namespace"?`namespace:${t.sheet.address.sheetId}:${t.path.join("/")}`:t.type==="Theatre_Project"?"project":t.type==="Theatre_Sheet"?`sheetInstance:${t.address.sheetId}:${t.address.sheetInstanceId}`:"unknown",c=t.type==="namespace"?t.sheet.address.projectId:t.address.projectId,r=(l=g1(G().atomP.ahistoric.projects.stateByProjectId[c].collapsedItemsInOutline[a]))!=null?l:!1,e=(0,ZT.useCallback)(i=>{G().transaction(({stateEditors:o})=>{o.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:c,isCollapsed:i,itemKey:a})})},[a]);return{collapsed:r,setCollapsed:e}}var ZT,Sh=x(()=>{ZT=y(P());m1();f1()});function jT(t){return U4.default.createElement(U4.default.Fragment,null,[...t.namespace.entries()].map(([a,{object:c,nested:r}])=>U4.default.createElement(A81,{key:a,label:a,object:c,nested:r,visualIndentation:t.visualIndentation,path:t.path,sheet:t.sheet})))}function A81(t){let{nested:a,label:c,object:r,sheet:e}=t,{collapsed:l,setCollapsed:i}=Ft({type:"namespace",sheet:e,path:[...t.path,c]}),o=a&&U4.default.createElement(jT,{namespace:a,path:[...t.path,c],key:"namespaceTree("+c+")",visualIndentation:t.visualIndentation+1,sheet:e}),n=r&&U4.default.createElement(ET,{depth:t.visualIndentation,key:"objectPath("+r.address.objectKey+")",sheetObject:r,overrideLabel:c});return U4.default.createElement(U4.default.Fragment,{key:`${c} - ${t.visualIndentation}`},n,o&&U4.default.createElement(c8,{selectionStatus:"not-selectable",label:c,key:`baseItem(${c})`,depth:t.visualIndentation,children:o,collapsed:l,setIsCollapsed:i}))}function _T(t,a,c=R81(a)){let[r,...e]=c,l=t.get(r);l||(l={nested:void 0,object:void 0,path:[...c]},t.set(r,l)),e.length===0?(console.assert(!l.object,"expect not to have existing object with same name",{existing:l,object:a}),l.object=a):(l.nested||(l.nested=new Map),_T(l.nested,a,e))}function R81(t){let a=qT.get(t);return a||(a=t.address.objectKey.split(b81),console.assert(a.length>0,"expected not empty"),qT.set(t,a)),a}var DT,U4,$I1,k81,WT,b81,qT,NT=x(()=>{f1();DT=y(require("@theatre/dataverse")),U4=y(P());a1();OT();Nr();Sh();$I1=V.li`
  color: ${t=>t.isSelected?"white":"hsl(1, 1%, 80%)"};
`,k81=({sheet:t,depth:a})=>h1(()=>{let c=(0,DT.val)(t.objectsP),r=Object.values(c).filter(l=>l!=null),e=new Map;return r.forEach(l=>{_T(e,l)}),U4.default.createElement(jT,{namespace:e,visualIndentation:a,path:[],sheet:t})},[t,a]);WT=k81;b81=/\s*\/\s*/g,qT=new WeakMap});var e7,F81,eP1,I81,UT,KT=x(()=>{m1();g5();f1();e7=y(P());a1();NT();Nr();Sh();F81=V.div`
  display: flex;
`,eP1=V.li`
  color: ${t=>t.isSelected?"white":"hsl(1, 1%, 80%)"};
`,I81=V.div``,UT=({sheet:t,depth:a})=>{let{collapsed:c,setCollapsed:r}=Ft(t),e=(0,e7.useCallback)(()=>{G().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([t])})},[t]);return h1(()=>{let l=a3();return e7.default.createElement(c8,{depth:a,select:e,setIsCollapsed:r,collapsed:c,selectionStatus:l.some(i=>i===t)?"selected":l.some(i=>i.type==="Theatre_SheetObject"&&i.sheet===t)?"descendant-is-selected":"not-selected",label:e7.default.createElement(F81,null,t.address.sheetId,": ",t.address.sheetInstanceId)},e7.default.createElement(I81,null,e7.default.createElement(WT,{depth:a+1,sheet:t,key:"objectList"+t.address.sheetInstanceId})))},[a,c])}});var Pm,It,hP1,vP1,sP1,$T,QT=x(()=>{f1();Pm=y(require("@theatre/dataverse")),It=y(P());a1();KT();hP1=V.div`
  display: flex;
`,vP1=V.li`
  color: ${t=>t.isSelected?"white":"hsl(1, 1%, 80%)"};
`,sP1=V.div``,$T=({sheetId:t,depth:a,project:c})=>h1(()=>{let r=(0,Pm.val)(c.sheetTemplatesP[t]);if(!r)return It.default.createElement(It.default.Fragment,null);let e=(0,Pm.val)(r.instancesP);return It.default.createElement(It.default.Fragment,null,Object.entries(e).map(([l,i])=>It.default.createElement(UT,{key:i.address.sheetInstanceId,sheet:i,depth:a})))},[a,t,c])});var kh,P81,XT,YT=x(()=>{g5();f1();kh=y(P());QT();P81=({project:t,depth:a})=>h1(()=>{if(!t)return null;let c=rk(t);return kh.default.createElement(kh.default.Fragment,null,c.map(r=>kh.default.createElement($T,{depth:a,sheetId:r,key:`sheet-${r}`,project:t})))},[t,a]),XT=P81});var Pt,JT,G81,T81,tE,aE=x(()=>{Pt=y(P());Nr();YT();m1();f1();g5();JT=y(require("@theatre/dataverse"));a1();Sh();G81=V.div`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`,T81=({depth:t,project:a})=>{let c=h1(()=>a3(),[]),r=h1(()=>{let o=a.address.projectId,n=(0,JT.val)(G().atomP.ephemeral.coreByProject[o].loadingState);return(n==null?void 0:n.type)==="browserStateIsNotBasedOnDiskState"},[a]),e=(0,Pt.useCallback)(()=>{G().transaction(({stateEditors:o})=>{o.studio.historic.panels.outline.selection.set([a])})},[a]),{collapsed:l,setCollapsed:i}=Ft(a);return Pt.default.createElement(c8,{depth:t,label:a.address.projectId,setIsCollapsed:i,collapsed:l,labelDecoration:r?Pt.default.createElement(G81,null,"Has Conflicts"):null,children:Pt.default.createElement(XT,{project:a,depth:t+1}),selectionStatus:c.includes(a)?"selected":c.some(o=>o.address.projectId===a.address.projectId)?"descendant-is-selected":"not-selected",select:e})},tE=T81});var cE,Gm,E81,O81,rE,eE=x(()=>{cE=y(require("@theatre/dataverse"));f1();m1();Gm=y(P());a1();aE();E81=V.ul`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`,O81=t=>h1(()=>{let a=(0,cE.val)(G().projectsP);return Gm.default.createElement(E81,null,Object.keys(a).map(c=>{let r=a[c];return Gm.default.createElement(tE,{depth:0,project:r,key:`projectListItem-${c}`})}))},[]),rE=O81});var l7,r8,lE,Z81,D81,iE,Tm,Ah,j81,oE=x(()=>{l7=y(P());a1();b4();eE();f1();m1();Ap();r8=y(require("@theatre/dataverse"));G1();lE="44px",Z81=V.div`
  ${x1};
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: ${p5.outlinePanel};

  top: calc(${lE} + 8px);
  height: fit-content;
  max-height: calc(100% - ${lE});
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: ${({pin:t})=>t?"block":"none"};

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`,D81=()=>{var r;let t=(r=g1(G().atomP.ahistoric.pinOutline))!=null?r:!0,a=g1(j81),c=Lr("left");return(0,l7.useLayoutEffect)(()=>{Tm.set(c)},[c]),(0,l7.useEffect)(()=>()=>{Ah.set(!1),Tm.set(!1)},[]),l7.default.createElement(Z81,{pin:t||a,onMouseEnter:()=>{Ah.set(!0)},onMouseLeave:()=>{Ah.set(!1)}},l7.default.createElement(rE,null))},iE=D81,Tm=new r8.Atom(!1),Ah=new r8.Atom(!1),j81=(0,r8.prism)(()=>{let t=(0,r8.val)(Ah.prism),a=(0,r8.val)(Tm.prism);return t||a})});var hE=L1((Rh,nE)=>{(function(t,a){typeof Rh=="object"&&typeof nE!="undefined"?a(Rh,P()):typeof define=="function"&&define.amd?define(["exports","react"],a):(t=typeof globalThis!="undefined"?globalThis:t||self,a(t.ReactErrorBoundary={},t.React))})(Rh,function(t,a){"use strict";function c(g){if(g&&g.__esModule)return g;var d=Object.create(null);return g&&Object.keys(g).forEach(function(s){if(s!=="default"){var u=Object.getOwnPropertyDescriptor(g,s);Object.defineProperty(d,s,u.get?u:{enumerable:!0,get:function(){return g[s]}})}}),d.default=g,Object.freeze(d)}var r=c(a);function e(g,d){return e=Object.setPrototypeOf||function(u,p){return u.__proto__=p,u},e(g,d)}function l(g,d){g.prototype=Object.create(d.prototype),g.prototype.constructor=g,e(g,d)}var i=function(d,s){return d===void 0&&(d=[]),s===void 0&&(s=[]),d.length!==s.length||d.some(function(u,p){return!Object.is(u,s[p])})},o={error:null},n=function(g){l(d,g);function d(){for(var u,p=arguments.length,z=new Array(p),m=0;m<p;m++)z[m]=arguments[m];return u=g.call.apply(g,[this].concat(z))||this,u.state=o,u.updatedWithError=!1,u.resetErrorBoundary=function(){for(var f,M=arguments.length,H=new Array(M),w=0;w<M;w++)H[w]=arguments[w];u.props.onReset==null||(f=u.props).onReset.apply(f,H),u.reset()},u}d.getDerivedStateFromError=function(p){return{error:p}};var s=d.prototype;return s.reset=function(){this.updatedWithError=!1,this.setState(o)},s.componentDidCatch=function(p,z){var m,f;(m=(f=this.props).onError)==null||m.call(f,p,z)},s.componentDidMount=function(){var p=this.state.error;p!==null&&(this.updatedWithError=!0)},s.componentDidUpdate=function(p){var z=this.state.error,m=this.props.resetKeys;if(z!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(z!==null&&i(p.resetKeys,m)){var f,M;(f=(M=this.props).onResetKeysChange)==null||f.call(M,p.resetKeys,m),this.reset()}},s.render=function(){var p=this.state.error,z=this.props,m=z.fallbackRender,f=z.FallbackComponent,M=z.fallback;if(p!==null){var H={error:p,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(M))return M;if(typeof m=="function")return m(H);if(f)return r.createElement(f,H);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},d}(r.Component);function h(g,d){var s=function(z){return r.createElement(n,d,r.createElement(g,z))},u=g.displayName||g.name||"Unknown";return s.displayName="withErrorBoundary("+u+")",s}function v(g){var d=r.useState(null),s=d[0],u=d[1];if(g!=null)throw g;if(s!=null)throw s;return u}t.ErrorBoundary=n,t.useErrorHandler=v,t.withErrorBoundary=h,Object.defineProperty(t,"__esModule",{value:!0})})});var V2,vE,W81,_81,q81,N81,U81,K81,$81,Q81,X81,Y81,J81,sE,gE=x(()=>{V2=y(P());a1();b4();W8();Np();Up();vE=y(hE());Z8();m1();b4();W81={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},_81={width:300,height:300},q81=({paneInstance:t})=>V2.default.createElement(Wo,{panelId:`pane-${t.instanceId}`,defaultPosition:W81,minDims:_81},V2.default.createElement(J81,{paneInstance:t})),N81=V(Kn)`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: ${p5.pluginPanes};
`,U81=V.div`
  width: 100%;
`,K81=V.div`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`,$81=V.button`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`,Q81=V(wR)`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`,X81=V.div`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`,Y81=t=>V2.default.createElement(X81,null,"An Error occurred rendering this pane. Open the console for more info.",V2.default.createElement("pre",null,JSON.stringify({message:t.error.message,stack:t.error.stack},null,2))),J81=({paneInstance:t})=>{let[a,c]=(0,V2.useState)(null),r=t.definition.mount;(0,V2.useLayoutEffect)(()=>{if(!a)return;let l=r({paneId:t.instanceId,node:a});if(typeof l=="function")return l},[a,r,t.instanceId]);let e=(0,V2.useCallback)(()=>{G().paneManager.destroyPane(t.instanceId)},[t]);return V2.default.createElement(N81,null,V2.default.createElement(qn,null,V2.default.createElement(Go,null,V2.default.createElement(K81,null,V2.default.createElement($81,{onClick:e,title:"Close Pane"},V2.default.createElement(LA,null))),V2.default.createElement(U81,null,t.instanceId))),V2.default.createElement(vE.ErrorBoundary,{FallbackComponent:Y81},V2.default.createElement(Q81,{ref:c})))},sE=q81});var i7,t71,dE,zE=x(()=>{oE();sn();i7=y(P());m1();f1();gE();R4();t71=()=>{let t=g1(G().paneManager.allPanesD),a=Object.entries(t).map(([c,r])=>i7.default.createElement(sE,{key:`pane-${c}`,paneInstance:r}));return i7.default.createElement(i7.default.Fragment,null,a,i7.default.createElement(iE,null),i7.default.createElement(CI,null),i7.default.createElement(RP,null))},dE=t71});var a71,uE,pE=x(()=>{a1();fr();a71=V(f5)`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`,uE=a71});var fE=L1((rG1,mE)=>{var bh,Em;bh=[];Em=[];function c71(t,a,c){var r,e,l,i,o,n,h,v;if(t===a)return 0;if(r=t.length,e=a.length,r===0)return e;if(e===0)return r;for(c&&(t=t.toLowerCase(),a=a.toLowerCase()),h=0;h<r;)Em[h]=t.charCodeAt(h),bh[h]=++h;for(v=0;v<e;)for(l=a.charCodeAt(v),i=o=v++,h=-1;++h<r;)n=l===Em[h]?o:o+1,o=bh[h],bh[h]=i=o>i?n>i?i+1:n:n>o?o+1:n;return i}mE.exports=c71});var CE=L1((eG1,xE)=>{var ME=fE();function r71(){var t,a,c,r,e,l=0,i=arguments[0],o=arguments[1],n=o.length,h=arguments[2];h&&(r=h.threshold,e=h.ignoreCase),r===void 0&&(r=0);for(var v=0;v<n;++v)e?a=ME(i,o[v],!0):a=ME(i,o[v]),a>i.length?t=1-a/o[v].length:t=1-a/i.length,t>l&&(l=t,c=o[v]);return l>=r?c:null}xE.exports=r71});function Om(t,a,c="Did you mean ",r="?"){let e=(0,LE.default)(t,a,{threshold:.7});return e?c+JSON.stringify(e)+r:""}var LE,HE=x(()=>{LE=y(CE())});var e71,Fh,Zm=x(()=>{a1();b6();e71=V(Xz)`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`,Fh=e71});var Gt,l71,i71,K4,Tt=x(()=>{a1();G1();Gt=y(P());ht();tr();wp();Zm();l71=V.button`
  ${x1};
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  ${Fh} > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`,i71=Gt.default.forwardRef((r,c)=>{var e=r,{title:t}=e,a=n4(e,["title"]);let[l,i]=A3({enabled:typeof t=="string"},()=>Gt.default.createElement(An,null,t));return Gt.default.createElement(Gt.default.Fragment,null,l,Gt.default.createElement(l71,S({ref:Z6([i,c])},a))," ")}),K4=i71});var VE,o71,n71,wE,BE=x(()=>{VE=y(P());Tt();a1();G1();o71=V(K4)`
  ${x1};
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`,n71=({config:t})=>{var a;return VE.default.createElement(o71,{onClick:t.onClick,title:t.title,dangerouslySetInnerHTML:{__html:(a=t.svgSource)!=null?a:""}})},wE=n71});function h71({value:t,label:a,icon:c,onClick:r,isSelected:e}){return Et.default.createElement(Et.default.Fragment,null,Et.default.createElement(K4,{forwardedAs:Qz,className:e?"selected":void 0,"aria-label":a,onClick:r,title:a},c))}var Et,v71,yE,SE=x(()=>{Et=y(P());b6();Tt();Zm();v71=({value:t,onChange:a,options:c})=>Et.default.createElement(Fh,null,c.map(({label:r,icon:e,value:l})=>Et.default.createElement(h71,{key:l,value:l,isSelected:t===l,label:r,icon:e,onClick:()=>a(l)}))),yE=v71});var Dm,s71,g71,kE,AE=x(()=>{Dm=y(P());a1();G1();SE();s71=V.div`
  ${x1};
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`,g71=({config:t})=>Dm.default.createElement(yE,{onChange:t.onChange,options:t.options.map(({label:a,value:c,svgSource:r})=>({label:a,value:c,icon:Dm.default.createElement(s71,{dangerouslySetInnerHTML:{__html:r}})})),value:t.value}),kE=g71});var Ot,d71,z71,RE,bE=x(()=>{Ot=y(P());a1();G1();Tt();Gu();Q3();d71=V.div`
  ${x1};
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`,z71=({config:t})=>{let a=(0,Ot.useRef)(null),c=M2(()=>{let r=a.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+t.label,constraints:{maxX:r.right,maxY:8,minX:r.left,minY:8},verticalGap:2}},()=>Ot.default.createElement(Ko,{items:t.items.map((r,e)=>({label:r.label,callback:()=>{var l;try{(l=r.onClick)==null||l.call(r)}catch(i){console.error(i)}}})),onRequestClose:()=>{c.close("clicked")}}));return Ot.default.createElement(d71,null,c.node,Ot.default.createElement(K4,{ref:a,onClick:r=>{c.open(r,a.current)}},t.label))},RE=z71});function p71(t){return FE[t]}var Ur,u71,FE,m71,IE,PE=x(()=>{HE();ym();Ur=y(P());BE();AE();bE();u71=t=>Ur.default.createElement(Ur.default.Fragment,null,t.config.map((a,c)=>Ur.default.createElement(m71,{config:a,key:c}))),FE={Icon:wE,Switch:kE,Flyout:RE};m71=({config:t})=>{let a=p71(t.type);if(!a)throw new Error(`No tool with tool.type ${Hh(t.type)} exists. Did you mean ${Om(t.type,Object.keys(FE))}`);return Ur.default.createElement(a,{config:t})},IE=u71});var GE,P3,f71,TE,M71,x71,Ih,jm=x(()=>{GE=y(require("@theatre/dataverse"));f1();m1();P3=y(P());a1();PE();f71=V.div`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`,TE=V.div`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`,M71=({extension:t,toolbarId:a})=>{let c=(0,P3.useMemo)(()=>new GE.Atom([]),[]);(0,P3.useLayoutEffect)(()=>{var l,i;let e=(i=(l=t.toolbars)==null?void 0:l[a])==null?void 0:i.call(l,c.set.bind(c),G().publicApi);if(typeof e=="function")return e},[t,a]);let r=g1(c.prism);return P3.default.createElement(IE,{config:r})},x71=({toolbarId:t,showLeftDivider:a})=>{var l;let c=[],r=g1(G().atomP.ephemeral.extensions.byId),e=!1;for(let[,i]of Object.entries(r))!i||!((l=i.toolbars)==null?void 0:l[t])||(c.push(P3.default.createElement(P3.default.Fragment,{key:"extensionToolbar-"+i.id},e?P3.default.createElement(TE,null):void 0,P3.default.createElement(M71,{extension:i,toolbarId:t}))),e=!0);return c.length===0?null:P3.default.createElement(f71,null,a?P3.default.createElement(TE,null):void 0,c)},Ih=x71});var o7,C71,L71,Ph,EE=x(()=>{a1();o7=y(P());Tt();C71=V(K4)`
  color: ${({pinned:t})=>t?"rgba(255, 255, 255, 0.8)":"#A8A8A9"};

  border-bottom: 1px solid
    ${({pinned:t})=>t?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"};
`,L71=(0,o7.forwardRef)((n,o)=>{var h=n,{children:t,hint:a,pinned:c,icon:r,pinHintIcon:e,unpinHintIcon:l}=h,i=n4(h,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[v,g]=(0,o7.useState)(!1),d=v||a;return o7.default.createElement(C71,D(S({},i),{pinned:c,ref:o,onMouseOver:()=>g(!0),onMouseOut:()=>g(!1)}),o7.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},d&&!c?e:d&&c?l:r),t)}),Ph=L71});function H71(t){return Wm.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Wm.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var Wm,_m,OE=x(()=>{Wm=y(P());_m=H71});function V71(t){return qm.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),qm.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var qm,Nm,ZE=x(()=>{qm=y(P());Nm=V71});var w2,w71,DE,n7,B71,y71,S71,k71,Um,A71,jE,WE,R71,_E,qE=x(()=>{f1();m1();w2=y(P());a1();w71=V.div`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`,DE=V.div`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`,n7=V(DE)`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`,B71=V(DE)`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`,y71=V.div`
  font-weight: 600;
`,S71=V.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,k71=V.div`
  margin-left: 2px;
`,Um=V.div`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`,A71=V.div`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`,jE="0.6.1",WE=jE.match(/^[^\-]+/)[0],R71=w2.default.forwardRef((t,a)=>{let c=g1(G().atomP.ahistoric.updateChecker.result.hasUpdates);return w2.default.createElement(w71,{ref:a},w2.default.createElement(n7,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),w2.default.createElement(n7,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),w2.default.createElement(Um,null),w2.default.createElement(n7,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),w2.default.createElement(n7,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),w2.default.createElement(n7,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),w2.default.createElement(Um,null),w2.default.createElement(B71,null,w2.default.createElement(y71,null,"Version"),w2.default.createElement(S71,null,w2.default.createElement(k71,null,jE," ",c===!0?"(outdated)":c===!1?"(latest)":""))),c===!0&&w2.default.createElement(w2.default.Fragment,null,w2.default.createElement(Um,null),w2.default.createElement(n7,{as:"a",href:`https://www.theatrejs.com/docs/latest/releases${encodeURIComponent(WE)}`,className:"",target:"_blank"},"Update",w2.default.createElement(A71,null)),w2.default.createElement(n7,{as:"a",href:`https://www.theatrejs.com/docs/latest/releases#${encodeURIComponent(WE)}`,className:"",target:"_blank"},"What's new?")))}),_E=R71});var W1,NE,b71,F71,UE,KE,uT1,$E,I71,QE,XE=x(()=>{f1();m1();W1=y(P());a1();ht();pE();fr();NE=y(require("@theatre/dataverse"));jm();EE();zr();OE();ZE();Tt();Q3();qE();st();b71=V.div`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`,F71=V.div`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`,UE=V.div`
  display: flex;
  gap: 8px;
`,KE=V.div`
  position: absolute;
  background: ${({type:t})=>t==="info"?"#40aaa4":"#f59e0b"};
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`,uT1=V.div`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`,$E=!1,I71=()=>{var d,s,u;let t=h1(()=>{let p=(0,NE.val)(G().atomP.ephemeral.coreByProject);return Object.entries(p).map(([z,m])=>({projectId:z,state:m})).filter(({state:z})=>z.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[a,c]=A3({enabled:t.length>0,enterDelay:t.length>0?0:200},()=>t.length>0?W1.default.createElement(uE,null,t.length===1?`There is a state conflict in project "${t[0].projectId}". Select the project in the outline below in order to fix it.`:`There are ${t.length} projects that have state conflicts. They are highlighted in the outline below. `):W1.default.createElement(f5,null,"Outline")),r=(d=g1(G().atomP.ahistoric.pinOutline))!=null?d:!0,e=(s=g1(G().atomP.ahistoric.pinDetails))!=null?s:!0,l=g1(G().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,i=M2(()=>{let p=o.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:p.right,maxY:8,minX:p.left-140,minY:8},verticalGap:2}},()=>W1.default.createElement(_E,null)),o=(0,W1.useRef)(null),n=(0,W1.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&($E||($E=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),l||window.__IS_VISUAL_REGRESSION_TESTING?!0:l),[l]),{hasNotifications:h}=Sp(),[v,g]=hI();return W1.default.createElement(b71,null,W1.default.createElement(UE,null,a,W1.default.createElement(Ph,{ref:c,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{G().transaction(({stateEditors:p,drafts:z})=>{var m;p.studio.ahistoric.setPinOutline(!((m=z.ahistoric.pinOutline)!=null?m:!0))})},icon:W1.default.createElement(gr,null),pinHintIcon:W1.default.createElement(Nm,null),unpinHintIcon:W1.default.createElement(_m,null),pinned:r}),t.length>0?W1.default.createElement(F71,null,t.length):null,W1.default.createElement(Ih,{showLeftDivider:!0,toolbarId:"global"})),W1.default.createElement(UE,null,v,W1.default.createElement(Ph,{ref:g,onClick:()=>{G().transaction(({stateEditors:p,drafts:z})=>{var m;p.studio.ahistoric.setPinNotifications(!((m=z.ahistoric.pinNotifications)!=null?m:!1))})},icon:W1.default.createElement(dr,null),pinHintIcon:W1.default.createElement(dr,null),unpinHintIcon:W1.default.createElement(dr,null),pinned:(u=g1(G().atomP.ahistoric.pinNotifications))!=null?u:!1},h&&W1.default.createElement(KE,{type:"warning"})),i.node,W1.default.createElement(K4,{ref:o,onClick:p=>{i.toggle(p,o.current)}},W1.default.createElement(ep,null),n&&W1.default.createElement(KE,{type:"info"})),W1.default.createElement(Ph,{ref:c,onClick:()=>{G().transaction(({stateEditors:p,drafts:z})=>{var m;p.studio.ahistoric.setPinDetails(!((m=z.ahistoric.pinDetails)!=null?m:!0))})},icon:W1.default.createElement(cp,null),pinHintIcon:W1.default.createElement(_m,null),unpinHintIcon:W1.default.createElement(Nm,null),pinned:e})))},QE=I71});var YE,Kr,JE,Gh,P71,tO,aO,G71,Km=x(()=>{YE=y(require("@theatre/dataverse"));f1();Kr=y(P()),JE=y(L4()),Gh=new YE.Atom({set:{},byId:{}}),P71=1,tO=()=>{let t=P71++;function a(r,e,l){Gh.reduce(i=>({byId:D(S({},i.byId),{[t]:{comp:r,props:e,portalNode:l}}),set:D(S({},i.set),{[t]:!0})}))}function c(){Gh.reduce(r=>{let e=S({},r.set),l=S({},r.byId);return delete e[t],{byId:l,set:e}})}return{mountOrRender:a,unmount:c}},aO=()=>{let t=Object.keys(g1(Gh.pointer.set));return Kr.default.createElement(Kr.default.Fragment,null,t.map(a=>Kr.default.createElement(G71,{key:"id-"+a,id:a})))},G71=({id:t})=>{let{comp:a,portalNode:c,props:r}=g1(Gh.pointer.byId[t]);return(0,JE.createPortal)(Kr.default.createElement(a,S({},r)),c)}});function Qm(){let t=G(),[a,c]=d1(void 0),r=$t();r.configureLogging({min:_1.DEBUG,dev:cO,internal:cO});let e=r.getLogger().named("Theatre.js UIRoot");Dp();let l=g1(t.atomP.ahistoric.visibilityState);return(0,Z2.useEffect)(()=>(l==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[l]),h1(()=>{let o=(0,$m.val)(t.atomP.ahistoric.visibilityState);return(0,$m.val)(t.atomP.ephemeral.initialised)?Z2.default.createElement(ji,{logger:e},Z2.default.createElement(ZF,null,Z2.default.createElement(qS,null,Z2.default.createElement(O71,null),Z2.default.createElement(c3.Provider,{value:c},Z2.default.createElement(tu,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:G().ui.containerShadow},Z2.default.createElement(Z2.default.Fragment,null,Z2.default.createElement(T71,null),Z2.default.createElement(E71,{className:o==="everythingIsHidden"?"invisible":""},Z2.default.createElement(Jz,{ref:a}),Z2.default.createElement(QE,null),Z2.default.createElement(dE,null),Z2.default.createElement(vI,null)))))))):null},[t,a,c])}var $m,Z2,T71,E71,rO,cO,O71,eO=x(()=>{m1();f1();$m=y(require("@theatre/dataverse")),Z2=y(P());a1();zE();XE();P1();b6();Tn();A0();Mp();_i();Km();G1();Qt();s5();st();T71=typeof window!="undefined"?Di`
  :host {
    contain: strict;
  }
`:{},E71=V(jS)`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`,cO=/Playground.+Theatre\.js/.test((rO=typeof document!="undefined"?document==null?void 0:document.title:null)!=null?rO:"");O71=()=>Z2.default.createElement(aO,null)});var nO={};lf(nO,{default:()=>Xm});var lO,iO,oO,Xm,hO=x(()=>{eO();lO=y(P()),iO=y(L4()),oO=y(require("@theatre/dataverse"));Km();G1();jm();Xm=class{constructor(a){this.studio=a;R1(this,"containerEl",document.createElement("div"));R1(this,"_rendered",!1);R1(this,"_renderTimeout");R1(this,"_documentBodyUIIsRenderedIn");R1(this,"containerShadow");this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let c=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let r=document.createElement("div");return r.id="theatrejs-faux-shadow-root",document.body.appendChild(r),r}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=c()}render(){this._rendered||(this._rendered=!0,this._render())}_render(){let a=()=>{if(!document.body){this._renderTimeout=setTimeout(a,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),iO.default.render(lO.default.createElement(Qm),this.containerShadow)};this._renderTimeout=setTimeout(a,10)}hide(){this.studio.transaction(({drafts:a})=>{a.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:a})=>{a.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,oO.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(a,c){let r=tO();return r.mountOrRender(pA(Ih),{toolbarId:a},c),r.unmount}}});var vO=L1((Th,Ym)=>{(function(t,a){typeof Th=="object"&&typeof Ym=="object"?Ym.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Th=="object"?Th.blobCompare=a():t.blobCompare=a()})(window,function(){return function(t){var a={};function c(r){if(a[r])return a[r].exports;var e=a[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=t,c.c=a,c.d=function(r,e,l){c.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:l})},c.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},c.t=function(r,e){if(1&e&&(r=c(r)),8&e||4&e&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(c.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),2&e&&typeof r!="string")for(var i in r)c.d(l,i,function(o){return r[o]}.bind(null,i));return l},c.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return c.d(e,"a",e),e},c.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},c.p="",c(c.s=4)}([function(t,a,c){"use strict";var r=function(n,h){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(v,g){var d=[],s=!0,u=!1,p=void 0;try{for(var z,m=v[Symbol.iterator]();!(s=(z=m.next()).done)&&(d.push(z.value),!g||d.length!==g);s=!0);}catch(f){u=!0,p=f}finally{try{!s&&m.return&&m.return()}finally{if(u)throw p}}return d}(n,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=function(){function n(h,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(h,v,g){return v&&n(h.prototype,v),g&&n(h,g),h}}();function l(n){if(Array.isArray(n)){for(var h=0,v=Array(n.length);h<n.length;h++)v[h]=n[h];return v}return Array.from(n)}var i=c(2),o=function(n){function h(v){(function(d,s){if(!(d instanceof s))throw new TypeError("Cannot call a class as a function")})(this,h);var g=function(d,s){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||typeof s!="object"&&typeof s!="function"?d:s}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return g._messageId=1,g._messages=new Map,g._worker=v,g._worker.onmessage=g._onMessage.bind(g),g._id=Math.ceil(1e7*Math.random()),g}return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}(h,n),e(h,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=arguments[3];return new Promise(function(p,z){var m=d._messageId++;d._messages.set(m,[p,z,u]),d._worker.postMessage([m,g,v],s||[])})}},{key:"postMessage",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments[2];return new Promise(function(u,p){var z=g._messageId++;g._messages.set(z,[u,p,s]),g._worker.postMessage([z,v],d||[])})}},{key:"emit",value:function(v){for(var g=arguments.length,d=Array(g>1?g-1:0),s=1;s<g;s++)d[s-1]=arguments[s];this._worker.postMessage({eventName:v,args:d})}},{key:"_onMessage",value:function(v){var g;if(!Array.isArray(v.data)&&v.data.eventName)return(g=function z(m,f,M){m===null&&(m=Function.prototype);var H=Object.getOwnPropertyDescriptor(m,f);if(H===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:z(w,f,M)}if("value"in H)return H.value;var B=H.get;return B!==void 0?B.call(M):void 0}(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"emit",this)).call.apply(g,[this,v.data.eventName].concat(l(v.data.args)));var d,s=(d=v.data,Array.isArray(d)?d:Array.from(d)),u=s[0],p=s.slice(1);if(u===1)this._onEvent.apply(this,l(p));else{if(u!==0)throw new Error("Wrong message type '"+u+"'");this._onResult.apply(this,l(p))}}},{key:"_onResult",value:function(v,g,d){var s=this._messages.get(v),u=r(s,2),p=u[0],z=u[1];return this._messages.delete(v),g===1?p(d):z(d)}},{key:"_onEvent",value:function(v,g,d){var s=this._messages.get(v),u=r(s,3)[2];u&&u(g,d)}}]),h}(i);t.exports=o},function(t,a,c){t.exports=function(){return c(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(t,a,c){"use strict";var r=function(){function l(i,o){for(var n=0;n<o.length;n++){var h=o[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,n){return o&&l(i.prototype,o),n&&l(i,n),i}}(),e=function(){function l(){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return r(l,[{key:"emit",value:function(i){if(!this.__listeners[i])return this;for(var o=arguments.length,n=Array(o>1?o-1:0),h=1;h<o;h++)n[h-1]=arguments[h];var v=!0,g=!1,d=void 0;try{for(var s,u=this.__listeners[i][Symbol.iterator]();!(v=(s=u.next()).done);v=!0){var p=s.value;p.apply(void 0,n)}}catch(z){g=!0,d=z}finally{try{!v&&u.return&&u.return()}finally{if(g)throw d}}return this}},{key:"once",value:function(i,o){var n=this,h=function v(){n.off(i,v),o.apply(void 0,arguments)};return this.on(i,h)}},{key:"on",value:function(i,o){return this.__listeners[i]||(this.__listeners[i]=[]),this.__listeners[i].push(o),this}},{key:"off",value:function(i,o){return this.__listeners[i]=o?this.__listeners[i].filter(function(n){return n!==o}):[],this}}]),l}();t.exports=e},function(t,a,c){"use strict";var r=window.URL||window.webkitURL;t.exports=function(e,l){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),i=i.getBlob()}catch(o){i=new Blob([e])}return new Worker(r.createObjectURL(i))}catch(o){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(o){if(!l)throw Error("Inline worker is not supported");return new Worker(l)}}},function(t,a,c){"use strict";c.r(a);var r=c(0),e=c.n(r),l=c(1),i=c.n(l);c.d(a,"workersEnabled",function(){return o}),c.d(a,"default",function(){return n});let o=Boolean(window.Worker);class n{static toBinaryStringWithWorker(v,g){return n2(this,null,function*(){let d=new e.a(new i.a),s=yield d.exec("binary",{blob:v,chunk:g});return d.terminate(),s})}static toBinaryStringWithoutWorker(v,g){return function(d,s){return new Promise((u,p)=>{let z=new FileReader,m=s?Math.min(s,d.size):d.size,f=d.slice(0,m);z.onload=()=>u(z.result),z.onerror=p,z.readAsBinaryString(f)})}(v,g)}static toBinaryString(v,g,d=!0){return d&&o?this.toBinaryStringWithWorker(v,g):this.toBinaryStringWithoutWorker(v,g)}static toArrayBufferWithWorker(v,g){return n2(this,null,function*(){let d=new e.a(new i.a),s=yield d.exec("buffer",{blob:v,chunk:g});return d.terminate(),s})}static toArrayBufferWithoutWorker(v,g){return function(d,s){return new Promise((u,p)=>{let z=new FileReader,m=s?Math.min(s,d.size):d.size,f=d.slice(0,m);z.onload=()=>u(z.result),z.onerror=p,z.readAsArrayBuffer(f)})}(v,g)}static toArrayBuffer(v,g,d=!0){return d&&o?this.toArrayBufferWithWorker(v,g):this.toArrayBufferWithoutWorker(v,g)}static compareBuffersWithWorker(v,g){return n2(this,null,function*(){if(v===g)return!0;let d=new e.a(new i.a),s=yield d.exec("compare",{buf1:v,buf2:g},[v,g]);return d.terminate(),s})}static compareBuffersWithoutWorker(v,g){return function(d,s){if(d===s)return!0;if(d.byteLength!==s.byteLength)return!1;let u=new DataView(d),p=new DataView(s);for(var z=d.byteLength;z--;)if(u.getUint8(z)!==p.getUint8(z))return!1;return!0}(v,g)}static compareBuffers(v,g,d=!0){return d&&o?this.compareBuffersWithWorker(v,g):this.compareBuffersWithoutWorker(v,g)}static sizeEqual(v,g){return v.size===g.size}static typeEqual(v,g){return v.type===g.type}static magicNumbersEqual(v,g,d=!0){return n2(this,null,function*(){if(v===g)return!0;let s=[24,16,14,12,8,6,4],[u,p]=yield Promise.all([this.toBinaryString(v,24,d),this.toBinaryString(g,24,d)]);for(let z of s)if(u.substring(0,z)===p.substring(0,z))return!0;return!1})}static bytesEqualWithBinaryString(v,g,d,s=!0){return n2(this,null,function*(){if(v===g)return!0;let[u,p]=yield Promise.all([this.toBinaryString(v,d,s),this.toBinaryString(g,d,s)]);return u===p})}static bytesEqualWithArrayBuffer(v,g,d,s=!0){return n2(this,null,function*(){if(v===g)return!0;let[u,p]=yield Promise.all([this.toArrayBuffer(v,d,s),this.toArrayBuffer(g,d,s)]);return this.compareBuffers(u,p,s)})}static isEqual(m,f){return n2(this,arguments,function*(v,g,{methods:d=["size","type","magic","byte"],byte:s="buffer",partial:u=!1,chunks:p=null,worker:z=!0}={}){let M=null;for(let H of d){if(M===!1||u&&M===!0)break;switch(H){case"byte":case"bytes":case"content":p=p instanceof Array?p:[v.size],M=!0;for(let w of p){let B=!1;B=s==="buffer"?yield this.bytesEqualWithArrayBuffer(v,g,w,z):yield this.bytesEqualWithBinaryString(v,g,w,z),B||(M=!1)}break;case"magic":case"headers":case"numbers":case"mime":M=yield this.magicNumbersEqual(v,g,z);break;case"size":case"sizes":M=this.sizeEqual(v,g);break;case"type":case"types":M=this.typeEqual(v,g);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return M})}}}])})});lf(exports,{ToolbarDropdownSelect:()=>pO,default:()=>U71});m1();Yr();var qh=y(require("@theatre/dataverse"));I5();var kO=0,te=class{constructor(a){this._studio=a;R1(this,"_id");R1(this,"_state",{type:"Ready"});this._id=String(kO++)}get status(){return this._state.type}reset(){let{_state:a}=this;if(a.type!=="Ready")if(a.type==="Captured")this._state={type:"Ready"},a.transaction.discard(),a.flagsTransaction.discard();else throw a.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:a}=this;if(a.type==="Captured")a.transaction.commit(),a.flagsTransaction.discard(),this._state={type:"Committed"};else if(a.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw a.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(a){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let c=!0;try{this._state=S({type:"Captured"},this._capture(a)),c=!1}finally{c&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(a){let c=[],r=this._studio.tempTransaction(l=>{let i=!0,o={set:(n,h)=>{if(!i)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:v,path:g}=(0,qh.getPointerParts)(n);if(!t0(v))throw new Error("We can only scrub props of Sheet Objects for now");l.set(n,h),c.push(n)}};try{a(o)}finally{i=!1}}),e=this._studio.tempTransaction(({stateEditors:l})=>{c.forEach(i=>{let{root:o,path:n}=(0,qh.getPointerParts)(i);if(!t0(o))return;let h=o.template.getDefaultsAtPointer(i);b5(h,(v,g)=>{l.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(D(S({},o.address),{pathToProp:g}))},n)})});return{transaction:r,flagsTransaction:e}}discard(){let{_state:a}=this;if(a.type==="Captured"||a.type==="Ready")a.type==="Captured"&&(a.transaction.discard(),a.flagsTransaction.discard()),this._state={type:"Discarded"};else throw a.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}};var h7=y(require("@theatre/dataverse"));function AO(t){return t}var RO=(t,a=AO)=>{let c=r=>({type:t,payload:a(r)});return c.type=t,c.is=r=>r&&r.type&&r.type===t,c},v3=RO;var mv=y(Df()),fv=y(mM());Kt();var ue,vj=new Uint8Array(16);function zv(){if(!ue&&(ue=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ue))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ue(vj)}var fM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sj(t){return typeof t=="string"&&fM.test(t)}var MM=sj;var D2=[];for(var uv=0;uv<256;++uv)D2.push((uv+256).toString(16).substr(1));function gj(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(D2[t[a+0]]+D2[t[a+1]]+D2[t[a+2]]+D2[t[a+3]]+"-"+D2[t[a+4]]+D2[t[a+5]]+"-"+D2[t[a+6]]+D2[t[a+7]]+"-"+D2[t[a+8]]+D2[t[a+9]]+"-"+D2[t[a+10]]+D2[t[a+11]]+D2[t[a+12]]+D2[t[a+13]]+D2[t[a+14]]+D2[t[a+15]]).toLowerCase();if(!MM(c))throw TypeError("Stringified UUID is invalid");return c}var xM=gj;function dj(t,a,c){t=t||{};var r=t.random||(t.rng||zv)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,a){c=c||0;for(var e=0;e<16;++e)a[c+e]=r[e];return a}return xM(r)}var pv=dj;var u7={replaceHistory:v3("@history/replaceHistory"),startHistoryFromScratch:v3("@history/startHistoryFromScratch"),undo:v3("@history/undo"),redo:v3("@history/redo")};var zj={type:"@history/unknownAction",payload:""},uj={maxNumberOfCommits:100},CM=(t,a=uj)=>{let c=Mv(t(void 0,zj));return function(e,l){return u7.startHistoryFromScratch.is(l)?Mv(t(void 0,l.payload)):u7.replaceHistory.is(l)?l.payload:u7.undo.is(l)?e?fj(e):c:u7.redo.is(l)?e?Mj(e):c:e?pj(e,t(e.innerState,l),a):Mv(t(void 0,l))}};function Mv(t){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:t}}function pj(t,a,c){if(a===t.innerState)return t;let r=mj(t.innerState,a);if(r.forwardDiff.length===0)return t;let e=s3(t.listOfCommitHashes),l={currentCommitHash:r.hash,commitsByHash:S({},t.commitsByHash),listOfCommitHashes:[...t.listOfCommitHashes],innerState:a};if(t.currentCommitHash!==e){let i=t.listOfCommitHashes.findIndex(n=>n===t.currentCommitHash);t.listOfCommitHashes.slice(i+1).forEach(n=>{delete l.commitsByHash[n]}),l.listOfCommitHashes.splice(i+1,l.listOfCommitHashes.length)}if(l.listOfCommitHashes.push(r.hash),l.commitsByHash[r.hash]=r,l.listOfCommitHashes.length>c.maxNumberOfCommits){let i=l.listOfCommitHashes.length-c.maxNumberOfCommits;l.listOfCommitHashes.slice(0,i).forEach(n=>{delete l.commitsByHash[n]}),l.listOfCommitHashes.splice(0,i)}return l}function mj(t,a){let c=mv.default.diff(t,a,{invertible:!1}),r=mv.default.diff(a,t,{invertible:!1}),e=Date.now(),l=pv();return{forwardDiff:c,backwardDiff:r,timestamp:e,hash:l}}function fj(t){if(t.currentCommitHash===void 0)return t;let a=t.listOfCommitHashes.findIndex(o=>o===t.currentCommitHash);if(a===-1)throw new Error("This should never happen");let c=t.commitsByHash[t.currentCommitHash],r=(0,fv.default)(t.innerState,c.backwardDiff),e=a-1,l=e===-1?void 0:t.listOfCommitHashes[e];return D(S({},t),{currentCommitHash:l,innerState:r})}function Mj(t){if(t.listOfCommitHashes.length===0)return t;let a=t.listOfCommitHashes.findIndex(o=>o===t.currentCommitHash);if(a===t.listOfCommitHashes.length-1)return t;let c=a+1,r=t.listOfCommitHashes[c],e=t.commitsByHash[r],l=(0,fv.default)(t.innerState,e.forwardDiff);return D(S({},t),{currentCommitHash:r,innerState:l})}Qt();var pe={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},VM=v3("@storeBundle/replacePersistentState",t=>t),wM=v3("@storeBundle/reduceParts",t=>t),E5={historic:u7,replacePersistentState:VM,reduceParts:wM},BM=v3("@storeBundle/setInnerHistoricState",t=>t),wj=(t=pe.historic,a)=>BM.is(a)?a.payload:t,Cv=CM(wj),yM=(t,a)=>{if(VM.is(a)){let{historic:c,ahistoric:r}=a.payload,e=(t==null?void 0:t.ephemeral)||pe.ephemeral;return{$persistent:{historic:c,ahistoric:r},ephemeral:e}}else if(t){let{historic:c,ahistoric:r}=t.$persistent,{ephemeral:e}=t;if(wM.is(a)){let i={historic:t.$persistent.historic.innerState,ahistoric:t.$persistent.ahistoric,ephemeral:t.ephemeral},o=a.payload(i);if(o===i)return t;c.innerState!==o.historic&&(c=Cv(c,BM(o.historic))),r=o.ahistoric,e=o.ephemeral}else{let i=Cv(c,a);if(i===c)return t;c=i}return{$persistent:c===t.$persistent.historic&&r===t.$persistent.ahistoric?t.$persistent:{historic:c,ahistoric:r},ephemeral:e}}else{let c=Cv(void 0,{}),r=pe.ahistoric,e=pe.ephemeral;return{$persistent:{historic:c,ahistoric:r},ephemeral:e}}},SM=v3("@history/pushTempAction",t=>t),kM=v3("@history/discardTempAction",t=>t),AM=v3("@history/commitTempAction",t=>t),Bj=0,RM=()=>{let t=Bj++;return{push:e=>SM({id:t,originalAction:e}),discard:()=>kM(t),commit:()=>AM(t)}},bM=(t,a)=>{if(t){let{tempActions:c,permanent:r}=t.$temps,e;if(SM.is(a))c=[...c,a];else if(AM.is(a)){let i=c.find(o=>o.payload.id===a.payload);i?(e=i.payload.originalAction,c=c.filter(o=>o.payload.id!==a.payload)):p7.error(`Comitting temp action group ${a.payload} isn't possible as this group doesn't exist`)}else kM.is(a)?c=c.filter(i=>i.payload.id!==a.payload):e=a;e&&(r=yM(t.$temps.permanent,e));let l={historic:r.$persistent.historic.innerState,ahistoric:r.$persistent.ahistoric,ephemeral:r.ephemeral};for(let i of c)l=i.payload.originalAction.payload(l);return S({$temps:{tempActions:c,permanent:r},$persistent:r.$persistent},l)}else{let c=yM(void 0,a);return{$temps:{permanent:c,tempActions:[]},$persistent:c.$persistent,historic:c.$persistent.historic.innerState,ahistoric:c.$persistent.ahistoric,ephemeral:c.ephemeral}}};G3();G3();z4();function al(t,a){if(typeof t!="object"||t===null)return;if(a.length===0){for(let i of Object.keys(t))delete t[i];return}let c=a.slice(0,a.length-1),r=t,e=new WeakMap;for(let i of c){let o=r,n=o[i];if(typeof n!="object"||n===null)return;e.set(n,o),r=n}let l=a.slice().reverse();for(let i of l){if(delete r[i],Object.keys(r).length>0)return;r=e.get(r)}}function gV(t,{scale:a,origin:c,translate:r}){let e=c+(t-c)*a;return r+e}function O3(t){for(var a=arguments.length,c=Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];if(!1)var e,l;throw Error("[Immer] minified error nr: "+t+(c.length?" "+c.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function D7(t){return!!t&&!!t[K0]}function g8(t){return!!t&&(function(a){if(!a||typeof a!="object")return!1;var c=Object.getPrototypeOf(a);if(c===null)return!0;var r=Object.hasOwnProperty.call(c,"constructor")&&c.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===mK}(t)||Array.isArray(t)||!!t[LV]||!!t.constructor[LV]||vs(t)||ss(t))}function pa(t,a,c){c===void 0&&(c=!1),j7(t)===0?(c?Object.keys:Hs)(t).forEach(function(r){c&&typeof r=="symbol"||a(r,t[r],t)}):t.forEach(function(r,e){return a(e,r,t)})}function j7(t){var a=t[K0];return a?a.i>3?a.i-4:a.i:Array.isArray(t)?1:vs(t)?2:ss(t)?3:0}function hs(t,a){return j7(t)===2?t.has(a):Object.prototype.hasOwnProperty.call(t,a)}function sK(t,a){return j7(t)===2?t.get(a):t[a]}function dV(t,a,c){var r=j7(t);r===2?t.set(a,c):r===3?(t.delete(a),t.add(c)):t[a]=c}function gK(t,a){return t===a?t!==0||1/t==1/a:t!=t&&a!=a}function vs(t){return uK&&t instanceof Map}function ss(t){return pK&&t instanceof Set}function d8(t){return t.o||t.t}function gs(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var a=fK(t);delete a[K0];for(var c=Hs(a),r=0;r<c.length;r++){var e=c[r],l=a[e];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[e]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[e]})}return Object.create(Object.getPrototypeOf(t),a)}function ds(t,a){return a===void 0&&(a=!1),zs(t)||D7(t)||!g8(t)||(j7(t)>1&&(t.set=t.add=t.clear=t.delete=dK),Object.freeze(t),a&&pa(t,function(c,r){return ds(r,!0)},!0)),t}function dK(){O3(2)}function zs(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function c5(t){var a=MK[t];return a||O3(18,t),a}function zV(){return fa}function us(t,a){a&&(c5("Patches"),t.u=[],t.s=[],t.v=a)}function cl(t){ps(t),t.p.forEach(zK),t.p=null}function ps(t){t===fa&&(fa=t.l)}function uV(t){return fa={p:[],l:fa,h:t,m:!0,_:0}}function zK(t){var a=t[K0];a.i===0||a.i===1?a.j():a.O=!0}function ms(t,a){a._=a.p.length;var c=a.p[0],r=t!==void 0&&t!==c;return a.h.g||c5("ES5").S(a,t,r),r?(c[K0].P&&(cl(a),O3(4)),g8(t)&&(t=rl(a,t),a.l||el(a,t)),a.u&&c5("Patches").M(c[K0],t,a.u,a.s)):t=rl(a,c,[]),cl(a),a.u&&a.v(a.u,a.s),t!==CV?t:void 0}function rl(t,a,c){if(zs(a))return a;var r=a[K0];if(!r)return pa(a,function(l,i){return pV(t,r,a,l,i,c)},!0),a;if(r.A!==t)return a;if(!r.P)return el(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var e=r.i===4||r.i===5?r.o=gs(r.k):r.o;pa(r.i===3?new Set(e):e,function(l,i){return pV(t,r,e,l,i,c)}),el(t,e,!1),c&&t.u&&c5("Patches").R(r,c,t.u,t.s)}return r.o}function pV(t,a,c,r,e,l){if(D7(e)){var i=rl(t,e,l&&a&&a.i!==3&&!hs(a.D,r)?l.concat(r):void 0);if(dV(c,r,i),!D7(i))return;t.m=!1}if(g8(e)&&!zs(e)){if(!t.h.F&&t._<1)return;rl(t,e),a&&a.A.l||el(t,e)}}function el(t,a,c){c===void 0&&(c=!1),t.h.F&&t.m&&ds(a,c)}function fs(t,a){var c=t[K0];return(c?d8(c):t)[a]}function mV(t,a){if(a in t)for(var c=Object.getPrototypeOf(t);c;){var r=Object.getOwnPropertyDescriptor(c,a);if(r)return r;c=Object.getPrototypeOf(c)}}function Ms(t){t.P||(t.P=!0,t.l&&Ms(t.l))}function xs(t){t.o||(t.o=gs(t.t))}function Cs(t,a,c){var r=vs(a)?c5("MapSet").N(a,c):ss(a)?c5("MapSet").T(a,c):t.g?function(e,l){var i=Array.isArray(e),o={i:i?1:0,A:l?l.A:zV(),P:!1,I:!1,D:{},l,t:e,k:null,o:null,j:null,C:!1},n=o,h=ll;i&&(n=[o],h=il);var v=Proxy.revocable(n,h),g=v.revoke,d=v.proxy;return o.k=d,o.j=g,d}(a,c):c5("ES5").J(a,c);return(c?c.A:zV()).p.push(r),r}function ma(t){return D7(t)||O3(22,t),function a(c){if(!g8(c))return c;var r,e=c[K0],l=j7(c);if(e){if(!e.P&&(e.i<4||!c5("ES5").K(e)))return e.t;e.I=!0,r=fV(c,l),e.I=!1}else r=fV(c,l);return pa(r,function(i,o){e&&sK(e.t,i)===o||dV(r,i,a(o))}),l===3?new Set(r):r}(t)}function fV(t,a){switch(a){case 2:return new Map(t);case 3:return Array.from(t)}return gs(t)}var MV,fa,Ls=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",uK=typeof Map!="undefined",pK=typeof Set!="undefined",xV=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",CV=Ls?Symbol.for("immer-nothing"):((MV={})["immer-nothing"]=!0,MV),LV=Ls?Symbol.for("immer-draftable"):"__$immer_draftable",K0=Ls?Symbol.for("immer-state"):"__$immer_state",Vh1=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator";var mK=""+Object.prototype.constructor,Hs=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,fK=Object.getOwnPropertyDescriptors||function(t){var a={};return Hs(t).forEach(function(c){a[c]=Object.getOwnPropertyDescriptor(t,c)}),a},MK={},ll={get:function(t,a){if(a===K0)return t;var c=d8(t);if(!hs(c,a))return function(e,l,i){var o,n=mV(l,i);return n?"value"in n?n.value:(o=n.get)===null||o===void 0?void 0:o.call(e.k):void 0}(t,c,a);var r=c[a];return t.I||!g8(r)?r:r===fs(t.t,a)?(xs(t),t.o[a]=Cs(t.A.h,r,t)):r},has:function(t,a){return a in d8(t)},ownKeys:function(t){return Reflect.ownKeys(d8(t))},set:function(t,a,c){var r=mV(d8(t),a);if(r==null?void 0:r.set)return r.set.call(t.k,c),!0;if(!t.P){var e=fs(d8(t),a),l=e==null?void 0:e[K0];if(l&&l.t===c)return t.o[a]=c,t.D[a]=!1,!0;if(gK(c,e)&&(c!==void 0||hs(t.t,a)))return!0;xs(t),Ms(t)}return t.o[a]===c&&typeof c!="number"&&(c!==void 0||a in t.o)||(t.o[a]=c,t.D[a]=!0,!0)},deleteProperty:function(t,a){return fs(t.t,a)!==void 0||a in t.t?(t.D[a]=!1,xs(t),Ms(t)):delete t.D[a],t.o&&delete t.o[a],!0},getOwnPropertyDescriptor:function(t,a){var c=d8(t),r=Reflect.getOwnPropertyDescriptor(c,a);return r&&{writable:!0,configurable:t.i!==1||a!=="length",enumerable:r.enumerable,value:c[a]}},defineProperty:function(){O3(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){O3(12)}},il={};pa(ll,function(t,a){il[t]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}}),il.deleteProperty=function(t,a){return ll.deleteProperty.call(this,t[0],a)},il.set=function(t,a,c){return ll.set.call(this,t[0],a,c,t[0])};var xK=function(){function t(c){var r=this;this.g=xV,this.F=!0,this.produce=function(e,l,i){if(typeof e=="function"&&typeof l!="function"){var o=l;l=e;var n=r;return function(s){var u=this;s===void 0&&(s=o);for(var p=arguments.length,z=Array(p>1?p-1:0),m=1;m<p;m++)z[m-1]=arguments[m];return n.produce(s,function(f){var M;return(M=l).call.apply(M,[u,f].concat(z))})}}var h;if(typeof l!="function"&&O3(6),i!==void 0&&typeof i!="function"&&O3(7),g8(e)){var v=uV(r),g=Cs(r,e,void 0),d=!0;try{h=l(g),d=!1}finally{d?cl(v):ps(v)}return typeof Promise!="undefined"&&h instanceof Promise?h.then(function(s){return us(v,i),ms(s,v)},function(s){throw cl(v),s}):(us(v,i),ms(h,v))}if(!e||typeof e!="object")return(h=l(e))===CV?void 0:(h===void 0&&(h=e),r.F&&ds(h,!0),h);O3(21,e)},this.produceWithPatches=function(e,l){return typeof e=="function"?function(n){for(var h=arguments.length,v=Array(h>1?h-1:0),g=1;g<h;g++)v[g-1]=arguments[g];return r.produceWithPatches(n,function(d){return e.apply(void 0,[d].concat(v))})}:[r.produce(e,l,function(n,h){i=n,o=h}),i,o];var i,o},typeof(c==null?void 0:c.useProxies)=="boolean"&&this.setUseProxies(c.useProxies),typeof(c==null?void 0:c.autoFreeze)=="boolean"&&this.setAutoFreeze(c.autoFreeze)}var a=t.prototype;return a.createDraft=function(c){g8(c)||O3(8),D7(c)&&(c=ma(c));var r=uV(this),e=Cs(this,c,void 0);return e[K0].C=!0,ps(r),e},a.finishDraft=function(c,r){var e=c&&c[K0],l=e.A;return us(l,r),ms(void 0,l)},a.setAutoFreeze=function(c){this.F=c},a.setUseProxies=function(c){c&&!xV&&O3(20),this.g=c},a.applyPatches=function(c,r){var e;for(e=r.length-1;e>=0;e--){var l=r[e];if(l.path.length===0&&l.op==="replace"){c=l.value;break}}var i=c5("Patches").$;return D7(c)?i(c,r):this.produce(c,function(o){return i(o,r.slice(e+1))})},t}(),$0=new xK,wh1=$0.produce,Bh1=$0.produceWithPatches.bind($0),yh1=$0.setAutoFreeze.bind($0),Sh1=$0.setUseProxies.bind($0),kh1=$0.applyPatches.bind($0),ol=$0.createDraft.bind($0),nl=$0.finishDraft.bind($0);SH();PH();tV();tl();rV();Kc();C2();I5();var I3={create(t){let a={byId:{},allIds:{}};if(t)for(let[c,r]of t)a.byId[c]=r,a.allIds[c]=!0;return a},shallowCopy(t){return{byId:S({},t==null?void 0:t.byId),allIds:S({},t==null?void 0:t.allIds)}},add(t,a,c){return{byId:D(S({},t==null?void 0:t.byId),{[a]:c}),allIds:D(S({},t==null?void 0:t.allIds),{[a]:!0})}},merge(t){let a=I3.create();for(let c=0;c<t.length;c++)a.byId=S(S({},a.byId),t[c].byId),a.allIds=S(S({},a.allIds),t[c].allIds);return a},remove(t,a){let c=I3.shallowCopy(t);return delete c.allIds[a],delete c.byId[a],c},filter(t,a){let c=I3.shallowCopy(t);for(let[r,e]of Object.entries(c.byId))a(e)||(delete c.allIds[r],delete c.byId[r]);return c}};var fm=t=>(Mm=t,xm),Mm,Y2=()=>{if(Mm===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return Mm},xm;(function(c){let t;(function(i){let r;(function(v){let o;(function(d){function g(s){var p;let u=Y2().historic;(p=u.panelPositions)!=null||(u.panelPositions={}),u.panelPositions[s.panelId]=s.position}d.setPanelPosition=g})(o=v.panelPositions||(v.panelPositions={}));let n;(function(u){function g(){var p,z;return(z=(p=Y2().historic).panels)!=null||(p.panels={}),Y2().historic.panels}u._ensure=g;let d;(function(m){function p(){var M;let f=c.studio.historic.panels._ensure();return(M=f.outlinePanel)!=null||(f.outlinePanel={}),f.outlinePanel}m._ensure=p;let z;(function(H){function f(w){let B=[];for(let k of z3(w))Jr(k)?B.push(S({type:"Project"},k.address)):v7(k)?(B.push(S({type:"Sheet"},k.template.address)),c.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(k.address)):hf(k)?B.push(S({type:"Sheet"},k.address)):t0(k)?(B.push(S({type:"SheetObject"},k.template.address)),c.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(k.sheet.address)):vf(k)&&B.push(S({type:"SheetObject"},k.address));m._ensure().selection=B}H.set=f;function M(){m._ensure().selection=[]}H.unset=M})(z=m.selection||(m.selection={}))})(d=u.outline||(u.outline={}));let s;(function(m){function p(){var M;let f=c.studio.historic.panels._ensure();return(M=f.sequenceEditor)!=null||(f.sequenceEditor={}),f.sequenceEditor}m._ensure=p;let z;(function(H){function f(){var B;let w=m._ensure();return(B=w.graphEditor)!=null||(w.graphEditor={height:.5,isOpen:!1}),w.graphEditor}function M(w){f().isOpen=w.isOpen}H.setIsOpen=M})(z=m.graphEditor||(m.graphEditor={}))})(s=u.sequenceEditor||(u.sequenceEditor={}))})(n=v.panels||(v.panels={}));let h;(function(d){let g;(function(p){function s(z){let m=Y2().historic;return m.projects.stateByProjectId[z.projectId]||(m.projects.stateByProjectId[z.projectId]={stateBySheetId:{}}),m.projects.stateByProjectId[z.projectId]}p._ensure=s;let u;(function(M){function z(H){let w=c.studio.historic.projects.stateByProjectId._ensure(H);return w.stateBySheetId[H.sheetId]||(w.stateBySheetId[H.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),w.stateBySheetId[H.sheetId]}M._ensure=z;function m(H){c.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(H).selectedInstanceId=H.sheetInstanceId}M.setSelectedInstanceId=m;let f;(function(b){function H(T){let{selectedPropsByObject:C}=M._ensure(T).sequenceEditor;C[T.objectKey]||(C[T.objectKey]={});let O=C[T.objectKey],J=_0(T.pathToProp),F=new Set(Object.keys(j8));for(let[Z,t1]of Object.entries(ma(C)))for(let[_,W]of Object.entries(t1))F.delete(W);let Q=F.size>0?F.values().next().value:Object.keys(j8)[0];O[J]=Q}b.addPropToGraphEditor=H;function w(T){let{selectedPropsByObject:C}=M._ensure(T).sequenceEditor;if(!C[T.objectKey])return;let O=C[T.objectKey],J=_0(T.pathToProp);O[J]&&al(C,[T.objectKey,J])}b.removePropFromGraphEditor=w;function B(T){let C=c.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(T).sequenceEditor;return C.markerSet||(C.markerSet=I3.create()),C.markerSet}function k(T){let C=B(T.sheetAddress),O=T.markers.filter(Z=>!!isFinite(Z.position)).map(Z=>D(S({},Z),{position:T.snappingFunction(Z.position)})),J=ua(O,"id"),F=I3.filter(C,Z=>Z&&!J[Z.id]),Q=ua(Object.values(F.byId),"position");O.forEach(({position:Z})=>{let t1=Q[Z];t1&&(F=I3.remove(F,t1.id))}),Object.assign(C,I3.merge([F,I3.create(O.map(Z=>[Z.id,Z]))]))}b.replaceMarkers=k;function I(T){let C=B(T.sheetAddress);Object.assign(C,I3.remove(C,T.markerId))}b.removeMarker=I;function j(T){let O=B(T.sheetAddress).byId[T.markerId];O!==void 0&&(O.label=T.label)}b.updateMarker=j})(f=M.sequenceEditor||(M.sequenceEditor={}))})(u=p.stateBySheetId||(p.stateBySheetId={}))})(g=d.stateByProjectId||(d.stateByProjectId={}))})(h=v.projects||(v.projects={}))})(r=i.historic||(i.historic={}));let e;(function(h){function o(v){Y2().ephemeral.showOutline=v}h.setShowOutline=o;let n;(function(g){let v;(function(u){function d(p){let z=Y2().ephemeral;return z.projects.stateByProjectId[p.projectId]||(z.projects.stateByProjectId[p.projectId]={stateBySheetId:{}}),z.projects.stateByProjectId[p.projectId]}u._ensure=d;let s;(function(m){function p(f){let M=c.studio.ephemeral.projects.stateByProjectId._ensure(f);return M.stateBySheetId[f.sheetId]||(M.stateBySheetId[f.sheetId]={stateByObjectKey:{}}),M.stateBySheetId[f.sheetId]}m._ensure=p;let z;(function(H){function f(w){var k,I;let B=c.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(w).stateByObjectKey;return(I=B[k=w.objectKey])!=null||(B[k]={}),B[w.objectKey]}H._ensure=f;let M;(function(k){function w(I){var b;let j=c.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(I);return(b=j.valuesBeingScrubbed)!=null||(j.valuesBeingScrubbed={}),j.valuesBeingScrubbed}k._ensure=w;function B(I){J5(w(I),I.pathToProp,!0)}k.flag=B})(M=H.propsBeingScrubbed||(H.propsBeingScrubbed={}))})(z=m.stateByObjectKey||(m.stateByObjectKey={}))})(s=u.stateBySheetId||(u.stateBySheetId={}))})(v=g.stateByProjectId||(g.stateByProjectId={}))})(n=h.projects||(h.projects={}))})(e=i.ephemeral||(i.ephemeral={}));let l;(function(s){function o(u){Y2().ahistoric.pinOutline=u}s.setPinOutline=o;function n(u){Y2().ahistoric.pinDetails=u}s.setPinDetails=n;function h(u){Y2().ahistoric.pinNotifications=u}s.setPinNotifications=h;function v(u){Y2().ahistoric.visibilityState=u}s.setVisibilityState=v;function g(u){let p=O5(u.map(f=>f.pathToProp)),z=u.map(({keyframe:f,pathToProp:M})=>({keyframe:f,pathToProp:M.slice(p.length)})),m=Y2();m.ahistoric.clipboard?m.ahistoric.clipboard.keyframesWithRelativePaths=z:m.ahistoric.clipboard={keyframesWithRelativePaths:z}}s.setClipboardKeyframes=g;let d;(function(p){let u;(function(M){function z(H){let w=Y2().ahistoric;return w.projects.stateByProjectId[H.projectId]||(w.projects.stateByProjectId[H.projectId]={stateBySheetId:{}}),w.projects.stateByProjectId[H.projectId]}M._ensure=z;let m;(function(B){function H(k){let I=c.studio.ahistoric.projects.stateByProjectId._ensure(k);return I.collapsedItemsInOutline||(I.collapsedItemsInOutline={}),I.collapsedItemsInOutline}B._ensure=H;function w(k){let I=c.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(k);k.isCollapsed?I[k.itemKey]=!0:delete I[k.itemKey]}B.set=w})(m=M.collapsedItemsInOutline||(M.collapsedItemsInOutline={}));let f;(function(B){function H(k){let I=c.studio.ahistoric.projects.stateByProjectId._ensure(k);return I.stateBySheetId[k.sheetId]||(I.stateBySheetId[k.sheetId]={}),I.stateBySheetId[k.sheetId]}B._ensure=H;let w;(function(T){function k(C){let O=c.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(C);return O.sequence||(O.sequence={}),O.sequence}T._ensure=k;let I;(function(J){function C(F){c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(F).focusRange={range:F.range,enabled:F.enabled}}J.set=C;function O(F){c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(F).focusRange=void 0}J.unset=O})(I=T.focusRange||(T.focusRange={}));let j;(function(O){function C(J){c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(J).clippedSpaceRange=S({},J.range)}O.set=C})(j=T.clippedSpaceRange||(T.clippedSpaceRange={}));let b;(function(J){function C(F){let Q=c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(F),Z=Q.collapsableItems;return Z||(Z=Q.collapsableItems=I3.create()),Z}function O(F){let Q=C(F);Object.assign(Q,I3.add(Q,F.studioSheetItemKey,{isCollapsed:F.isCollapsed}))}J.set=O})(b=T.sequenceEditorCollapsableItems||(T.sequenceEditorCollapsableItems={}))})(w=B.sequence||(B.sequence={}))})(f=M.stateBySheetId||(M.stateBySheetId={}))})(u=p.stateByProjectId||(p.stateByProjectId={}))})(d=s.projects||(s.projects={}))})(l=i.ahistoric||(i.ahistoric={}))})(t=c.studio||(c.studio={}));let a;(function(e){let r;(function(o){let l;(function(h){function n(v){let g=Y2().historic.coreByProject[v.projectId].revisionHistory,d=50;g.unshift(v.revision),g.length>d&&(g.length=d)}h.add=n})(l=o.revisionHistory||(o.revisionHistory={}));let i;(function(s){function n(u){let p=Y2().historic.coreByProject[u.projectId].sheetsById;return p[u.sheetId]||(p[u.sheetId]={staticOverrides:{byObject:{}}}),p[u.sheetId]}s._ensure=n;function h(u){let p=Y2().historic.coreByProject[u.projectId].sheetsById[u.sheetId];if(!p)return;delete p.staticOverrides.byObject[u.objectKey];let z=p.sequence;!z||delete z.tracksByObject[u.objectKey]}s.forgetObject=h;function v(u){Y2().historic.coreByProject[u.projectId].sheetsById[u.sheetId]&&delete Y2().historic.coreByProject[u.projectId].sheetsById[u.sheetId]}s.forgetSheet=v;let g;(function(J){function u(F){var Z;let Q=c.coreByProject.historic.sheetsById._ensure(F);return(Z=Q.sequence)!=null||(Q.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),Q.sequence}J._ensure=u;function p(F){u(F).length=F1(parseFloat(F.length.toFixed(2)),.01,1/0)}J.setLength=p;function z(F){var Z,t1;let Q=c.coreByProject.historic.sheetsById.sequence._ensure(F).tracksByObject;return(t1=Q[Z=F.objectKey])!=null||(Q[Z]={trackData:{},trackIdByPropPath:{}}),Q[F.objectKey]}function m(F,Q){let Z=z(F),t1=_0(F.pathToProp);if(typeof Z.trackIdByPropPath[t1]=="string")return;let W=vV(),v1={type:"BasicKeyframedTrack",__debugName:`${F.objectKey}:${t1}`,keyframes:[]};Z.trackData[W]=v1,Z.trackIdByPropPath[t1]=W}J.setPrimitivePropAsSequenced=m;function f(F){let Q=z(F),Z=_0(F.pathToProp),t1=Q.trackIdByPropPath[Z];typeof t1=="string"&&(delete Q.trackIdByPropPath[Z],delete Q.trackData[t1],c.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(F))}J.setPrimitivePropAsStatic=f;function M(F){let Q=z(F);for(let Z of Object.keys(Q.trackIdByPropPath)){let t1=JSON.parse(Z);if(F.pathToProp.every((W,v1)=>t1[v1]===W)){let W=Q.trackIdByPropPath[Z];if(typeof W!="string")continue;delete Q.trackIdByPropPath[Z],delete Q.trackData[W]}}c.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(F)}J.setCompoundPropAsStatic=M;function H(F){return z(F).trackData[F.trackId]}function w(F){let Q=H(F);if(!!Q)return Q.keyframes.find(Z=>Z.id===F.keyframeId)}function B(F){let Q=F.snappingFunction(F.position),Z=H(F);if(!Z)return;let{keyframes:t1}=Z,_=t1.findIndex($=>$.position===Q);if(_!==-1){let $=t1[_];$.value=F.value;return}let W=yH(t1,$=>$.position<Q);if(W===-1){t1.unshift({id:ns(),position:Q,connectedRight:!0,handles:F.handles||[.5,1,.5,0],type:F.type||"bezier",value:F.value});return}let v1=t1[W];t1.splice(W+1,0,{id:ns(),position:Q,connectedRight:v1.connectedRight,handles:F.handles||[.5,1,.5,0],type:F.type||"bezier",value:F.value})}J.setKeyframeAtPosition=B;function k(F){let Q=H(F);if(!Q)return;let{keyframes:Z}=Q,t1=Z.findIndex(_=>_.position===F.position);t1!==-1&&Z.splice(t1,1)}J.unsetKeyframeAtPosition=k;function I(F){let Q=H(F);if(!Q)return;let _=ma(Q.keyframes).filter(W=>F.keyframeIds.includes(W.id)).map(W=>{let v1=W.position,$=F.snappingFunction(gV(v1,F));return D(S({},W),{position:$})});O(D(S({},F),{keyframes:_}))}J.transformKeyframes=I;function j(F){let Q=H(F);!Q||(Q.keyframes=Q.keyframes.map((Z,t1)=>{let _=Q.keyframes[t1-1],W=F.keyframeIds.includes(Z.id),v1=F.keyframeIds.includes(_==null?void 0:_.id);return W&&!v1?D(S({},Z),{handles:[Z.handles[0],Z.handles[1],F.handles[0],F.handles[1]]}):W&&v1?D(S({},Z),{handles:[F.handles[2],F.handles[3],F.handles[0],F.handles[1]]}):v1?D(S({},Z),{handles:[F.handles[2],F.handles[3],Z.handles[2],Z.handles[3]]}):Z}))}J.setTweenBetweenKeyframes=j;function b(F){var Z,t1,_,W,v1,$,U,o1;let Q=w(F);Q&&(Q.handles=[(t1=(Z=F.end)==null?void 0:Z[0])!=null?t1:Q.handles[0],(W=(_=F.end)==null?void 0:_[1])!=null?W:Q.handles[1],($=(v1=F.start)==null?void 0:v1[0])!=null?$:Q.handles[2],(o1=(U=F.start)==null?void 0:U[1])!=null?o1:Q.handles[3]])}J.setHandlesForKeyframe=b;function T(F){let Q=H(F);!Q||(Q.keyframes=Q.keyframes.filter(Z=>F.keyframeIds.indexOf(Z.id)===-1))}J.deleteKeyframes=T;function C(F){let Q=w(F);Q&&(Q.type=F.keyframeType)}J.setKeyframeType=C;function O(F){let Q=H(F);if(!Q)return;let Z=ma(Q.keyframes),t1=F.keyframes.filter(U=>!(typeof U.value=="number"&&!isFinite(U.value)||!U.handles.every(o1=>isFinite(o1)))).map(U=>D(S({},U),{position:F.snappingFunction(U.position)})),_=ua(t1,"id"),W=Z.filter(U=>!_[U.id]),v1=ua(W,"position");t1.forEach(({position:U})=>{let o1=v1[U];o1&&JH(W,o1)});let $=cV([...W,...t1],"position");Q.keyframes=$}J.replaceKeyframes=O})(g=s.sequence||(s.sequence={}));let d;(function(p){let u;(function(H){function z(w){var k,I;let B=c.coreByProject.historic.sheetsById._ensure(w).staticOverrides.byObject;return(I=B[k=w.objectKey])!=null||(B[k]={}),B[w.objectKey]}function m(w){let B=z(w);J5(B,w.pathToProp,w.value)}H.setValueOfCompoundProp=m;function f(w){let B=z(w);J5(B,w.pathToProp,w.value)}H.setValueOfPrimitiveProp=f;function M(w){let B=c.coreByProject.historic.sheetsById._ensure(w).staticOverrides.byObject[w.objectKey];!B||al(B,w.pathToProp)}H.unsetValueOfPrimitiveProp=M})(u=p.byObject||(p.byObject={}))})(d=s.staticOverrides||(s.staticOverrides={}))})(i=o.sheetsById||(o.sheetsById={}))})(r=e.historic||(e.historic={}))})(a=c.coreByProject||(c.coreByProject={}))})(xm||(xm={}));function kt(){let t,a,c=new Promise((e,l)=>{t=i=>{e(i),r.status="resolved"},a=i=>{l(i),r.status="rejected"}}),r={resolve:t,reject:a,promise:c,status:"pending"};return r}var LT=y(require("@theatre/dataverse"));function Cm(t){let a=t.getState(),c=new LT.Atom(a);return t.subscribe(()=>{let r=t.getState();c.set(r),a=r}),c}Dv();function Lm(t){var a,c=t.Symbol;return typeof c=="function"?c.observable?a=c.observable:(a=c("observable"),c.observable=a):a="@@observable",a}var At;typeof self!="undefined"?At=self:typeof window!="undefined"?At=window:typeof global!="undefined"?At=global:typeof module!="undefined"?At=module:At=Function("return this")();var p81=Lm(At),Hm=p81;var Vm={INIT:"@@redux/INIT"};function Wr(t,a,c){var r;if(typeof a=="function"&&typeof c=="undefined"&&(c=a,a=void 0),typeof c!="undefined"){if(typeof c!="function")throw new Error("Expected the enhancer to be a function.");return c(Wr)(t,a)}if(typeof t!="function")throw new Error("Expected the reducer to be a function.");var e=t,l=a,i=[],o=i,n=!1;function h(){o===i&&(o=i.slice())}function v(){return l}function g(p){if(typeof p!="function")throw new Error("Expected listener to be a function.");var z=!0;return h(),o.push(p),function(){if(!!z){z=!1,h();var f=o.indexOf(p);o.splice(f,1)}}}function d(p){if(!h8(p))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof p.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(n)throw new Error("Reducers may not dispatch actions.");try{n=!0,l=e(l,p)}finally{n=!1}for(var z=i=o,m=0;m<z.length;m++){var f=z[m];f()}return p}function s(p){if(typeof p!="function")throw new Error("Expected the nextReducer to be a function.");e=p,d({type:Vm.INIT})}function u(){var p,z=g;return p={subscribe:function(f){if(typeof f!="object")throw new TypeError("Expected the observer to be an object.");function M(){f.next&&f.next(v())}M();var H=z(M);return{unsubscribe:H}}},p[Hm]=function(){return this},p}return d({type:Vm.INIT}),r={dispatch:d,subscribe:g,getState:v,replaceReducer:s},r[Hm]=u,r}function _r(){for(var t=arguments.length,a=Array(t),c=0;c<t;c++)a[c]=arguments[c];return a.length===0?function(r){return r}:a.length===1?a[0]:a.reduce(function(r,e){return function(){return r(e.apply(void 0,arguments))}})}function wm(t){let c=_r(...[]);return Wr(t.rootReducer,void 0,c)}Qt();cs();var Bm=new WeakMap,HT=(t,a,c)=>{let r=n=>{t.dispatch(E5.replacePersistentState(n))},e=wT(c),l=()=>t.getState().$persistent;o();let i=()=>{let n=l(),h=Bm.get(t);n!==h&&(Bm.set(t,n),localStorage.setItem(e,JSON.stringify(n)))};t.subscribe(za(i,1e3)),window&&window.addEventListener("beforeunload",i);function o(){let n=localStorage.getItem(e);if(n){let h,v=!0;try{h=JSON.parse(n),v=!1}catch(g){p7.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{v||r(h),a()}}else a()}},VT=(t,a)=>{let c=wT(a),r=t.getState().$persistent;localStorage.removeItem(c),Bm.set(t,r)};function wT(t){return t+".persistent"}fp();I5();P7();Yr();Ma();var qr=y(require("@theatre/dataverse"));G6();C2();ym();function Sm(t){if(typeof t=="boolean"||typeof t=="string"||typeof t=="number")return t;if(h8(t)){let a={},c=!1;for(let[r,e]of Object.entries(t))Sm(e)!==void 0&&(a[r]=e,c=!0);if(c)return a}else return}function yT(t,a,c){for(let[r,e]of Object.entries(t.props))if(e.type==="compound")yT(e,[...a,r],c);else{if(e.type==="enum")throw new Error("Not yet implemented");c(e,[...a,r])}}function km(t,a,c){return{set:(r,e)=>{t();let l=Sm(e);if(typeof l=="undefined")return;let{root:i,path:o}=(0,qr.getPointerParts)(r);if(t0(i)){let n=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),h=F9(i.template.staticConfig,o);if(!h)throw new Error(`Object ${i.address.objectKey} does not have a prop at ${JSON.stringify(o)}`);let v=(g,d,s)=>{if(g==null)return;if(Sm(d.deserializeAndSanitize(g))===void 0)throw new Error(`Invalid value ${Hh(g)} for object.props${s.map(m=>`[${JSON.stringify(m)}]`).join("")} is invalid`);let p=D(S({},i.address),{pathToProp:s}),z=E3(n,s);if(typeof z=="string"){let m=i.sheet.getSequence();m.position=m.closestGridPosition(m.position),a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(D(S({},p),{trackId:z,position:m.position,value:g,snappingFunction:m.closestGridPosition,type:"bezier"}))}else a.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(D(S({},p),{value:g}))};if(h.type==="compound"){let g=(0,qr.getPointerParts)(r).path,d=g.length;yT(h,g,(s,u)=>{let p=u.slice(d),z=Q0(l,p);if(typeof z!="undefined")v(z,s,u);else throw new Error(`Property object.props${u.map(m=>`[${JSON.stringify(m)}]`).join("")} is required but not provided`)})}else{if(h.type==="enum")throw new Error("Enums aren't implemented yet");v(l,h,o)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:r=>{t();let{root:e,path:l}=(0,qr.getPointerParts)(r);if(t0(e)){let i=e.template.getMapOfValidSequenceTracks_forStudio().getValue(),o=Q0(e.template.getDefaultValues().getValue(),l),n=F9(e.template.staticConfig,l),h=(v,g)=>{let d=D(S({},e.address),{pathToProp:g}),s=E3(i,g);typeof s=="string"?a.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(D(S({},d),{trackId:s,position:e.sheet.getSequence().positionSnappedToGrid})):n!==void 0&&a.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(d)};n.type==="compound"?b5(o,(v,g)=>{h(v,g)},(0,qr.getPointerParts)(r).path):h(o,l)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return t(),c},get stateEditors(){return a}}}var Vh=class{constructor(){R1(this,"_reduxStore");R1(this,"_atom");R1(this,"atomP");this._reduxStore=wm({rootReducer:bM,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=Cm(this._reduxStore),this.atomP=this._atom.pointer}initialize(a){let c=kt();return a.usePersistentStorage===!0?HT(this._reduxStore,()=>{this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),c.resolve()},a.persistenceKey):(this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),c.resolve()),c.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(a){return VT(this._reduxStore,a),this.getState()}__dev_startHistoryFromScratch(a){this._reduxStore.dispatch(E5.historic.startHistoryFromScratch(E5.reduceParts(c=>D(S({},c),{historic:a}))))}tempTransaction(a){let c=RM(),r,e=c.push(E5.reduceParts(l=>{let i={historic:ol(l.historic),ahistoric:ol(l.ahistoric),ephemeral:ol(l.ephemeral)},o=!0,n=()=>{if(!o)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},h=fm(i),v=km(n,h,i);try{return a(v),o=!1,{historic:nl(i.historic),ahistoric:nl(i.ahistoric),ephemeral:nl(i.ephemeral)}}catch(g){return r=g,l}finally{fm(void 0)}}));if(this._reduxStore.dispatch(e),r)throw this._reduxStore.dispatch(c.discard()),r;return{commit:()=>{this._reduxStore.dispatch(c.commit())},discard:()=>{this._reduxStore.dispatch(c.discard())}}}undo(){this._reduxStore.dispatch(E5.historic.undo())}redo(){this._reduxStore.dispatch(E5.historic.redo())}createContentOfSaveFile(a){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[a])throw new Error(`Project ${a} has not been initialized.`);let r=fn();this.tempTransaction(({stateEditors:i})=>{i.coreByProject.historic.revisionHistory.add({projectId:a,revision:r})}).commit();let e=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[a];return S({},e)}};var ST=y(require("@theatre/dataverse"));var a8=class{constructor(){R1(this,"_values",{})}get(a,c){if(this.has(a))return this._values[a];{let r=c();return this._values[a]=r,r}}has(a){return this._values.hasOwnProperty(a)}};I5();g5();m1();C2();Tn();var wh=class{constructor(a){R1(this,"ui",{hide(){G().ui.hide()},get isHidden(){return G().ui.isHidden},restore(){G().ui.restore()},renderToolset(a,c){return G().ui.renderToolset(a,c)}});R1(this,"_cache",new a8);R1(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){$I()},__experimental_enablePlayPauseKeyboardShortcut(){QI()},__experimental_clearPersistentStorage(a){return G().clearPersistentStorage(a)},__experimental_createContentOfSaveFileTyped(a){return G().createContentOfSaveFile(a)}})}initialize(a){return G().initialize(a)}extend(a){G().extend(a)}transaction(a){return G().transaction(({set:c,unset:r,stateEditors:e})=>a({set:c,unset:r,__experimental_forgetObject:o=>{if(!_h(o))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");e.coreByProject.historic.sheetsById.forgetObject(o.address)},__experimental_forgetSheet:o=>{if(!Wh(o))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");e.coreByProject.historic.sheetsById.forgetSheet(o.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,ST.prism)(()=>a3().filter(a=>a.type==="Theatre_SheetObject"||a.type==="Theatre_Sheet").map(a=>a.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(a){let c=[...a].filter(r=>_h(r)||Wh(r)).map(r=>G().corePrivateAPI(r));G().transaction(({stateEditors:r})=>{r.studio.historic.panels.outline.selection.set(c)})}onSelectionChange(a){let c=G();return this._getSelectionPrism().onChange(c.ticker,a,!0)}get selection(){return this._getSelection()}scrub(){return G().scrub()}getStudioProject(){let a=G().core;if(!a)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return G().getStudioProject(a)}debouncedScrub(a=1e3){let c,r=za(()=>{let l=c;!l||(c=void 0,l.commit())},a);return{capture:l=>{c||(c=this.scrub());let i=!0;try{c.capture(l),i=!1}finally{if(i){let o=c;c=void 0,o.discard()}else r()}}}}createPane(a){return G().paneManager.createPane(a)}destroyPane(a){return G().paneManager.destroyPane(a)}createContentOfSaveFile(a){return G().createContentOfSaveFile(a)}};os();var A5=y(require("@theatre/dataverse"));pn();var Bh=class{constructor(a){this._studio=a;R1(this,"_cache",new a8);this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let a=this._getAllPanes();a.onStale(()=>{a.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,A5.prism)(()=>{if(!(0,A5.val)(this._studio.coreP))return{};let c=(0,A5.val)(this._studio.atomP.historic.panelInstanceDesceriptors),r=(0,A5.val)(this._studio.atomP.ephemeral.extensions.paneClasses),e={};for(let l of Object.values(c)){if(!l)continue;let i=r[l.paneClass];if(!i)continue;let{instanceId:o}=l,{extensionId:n,classDefinition:h}=i,v=A5.prism.memo(`instance-${l.instanceId}`,()=>({extensionId:n,instanceId:o,definition:h}),sF);e[o]=v}return e}))}get allPanesD(){return this._getAllPanes()}createPane(a){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let r=(0,A5.val)(this._studio.atomP.ephemeral.extensions.paneClasses[a].extensionId),e=(0,A5.val)(this._studio.atomP.historic.panelInstanceDesceriptors),l;for(let i=1;i<1e3&&(l=`${a} #${i}`,!!e[l]);i++);if(!r)throw new Error(`Pane class "${a}" is not registered.`);return this._studio.transaction(({drafts:i})=>{i.historic.panelInstanceDesceriptors[l]={instanceId:l,paneClass:a}}),this._getAllPanes().getValue()[l]}destroyPane(a){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:r})=>{delete r.historic.panelInstanceDesceriptors[a]})}};var Rt=y(require("@theatre/dataverse"));m1();var kT=30*60*1e3,f81=1e3*60*60;function M81(){return n2(this,null,function*(){let t=G().atomP.ahistoric.visibilityState;if((0,Rt.val)(t)==="everythingIsVisible")return;let a=kt(),c=(0,Rt.pointerToPrism)(t).onStale(()=>{(0,Rt.val)(t)==="everythingIsVisible"&&(c(),a.resolve(void 0))});return a.promise})}function Am(){return n2(this,null,function*(){if(!("0.6.1"==null?void 0:"0.6.1".match(/COMPAT/)))for(yield yh(500),yield M81();;){let t=(0,Rt.val)(G().atomP.ahistoric.updateChecker);if(t&&t.result!=="error"){let a=t.lastChecked,c=Date.now(),r=Math.abs(c-a);r<kT&&(yield yh(kT-r))}try{let a=yield fetch(new Request("https://updates.theatrejs.com/updates/0.6.1"));if(a.ok){let c=yield a.json();if(!x81(c))throw new Error("Bad response");G().transaction(({drafts:r})=>{r.ahistoric.updateChecker={lastChecked:Date.now(),result:S({},c)}}),yield yh(1e3)}else throw new Error(`HTTP Error ${a.statusText}`)}catch(a){yield yh(f81)}}})}var yh=t=>new Promise(a=>setTimeout(a,t));function x81(t){if(typeof t!="object")return!1;let a=t;return typeof a.hasUpdates!="boolean"?!1:a.hasUpdates===!0&&typeof a.newVersion=="string"&&typeof a.releasePage=="string"||a.hasUpdates===!1}var sO=y(Wd());function R5(t){return new Promise((a,c)=>{t.oncomplete=t.onsuccess=()=>a(t.result),t.onabort=t.onerror=()=>c(t.error)})}function Rm(t,a){let c=indexedDB.open(t);c.onupgradeneeded=()=>c.result.createObjectStore(a);let r=R5(c);return(e,l)=>r.then(i=>l(i.transaction(a,e).objectStore(a)))}var bm;function bt(){return bm||(bm=Rm("keyval-store","keyval")),bm}function AT(t,a=bt()){return a("readonly",c=>R5(c.get(t)))}function RT(t,a,c=bt()){return c("readwrite",r=>(r.put(a,t),R5(r.transaction)))}function bT(t,a=bt()){return a("readwrite",c=>(c.delete(t),R5(c.transaction)))}function Fm(t,a){return t.openCursor().onsuccess=function(){!this.result||(a(this.result),this.result.continue())},R5(t.transaction)}function FT(t=bt()){return t("readonly",a=>{if(a.getAllKeys)return R5(a.getAllKeys());let c=[];return Fm(a,r=>c.push(r.key)).then(()=>c)})}function IT(t=bt()){return t("readonly",a=>{if(a.getAll)return R5(a.getAll());let c=[];return Fm(a,r=>c.push(r.value)).then(()=>c)})}function PT(t=bt()){return t("readonly",a=>{if(a.getAll&&a.getAllKeys)return Promise.all([R5(a.getAllKeys()),R5(a.getAll())]).then(([r,e])=>r.map((l,i)=>[l,e[i]]));let c=[];return t("readonly",r=>Fm(r,e=>c.push([e.key,e.value])).then(()=>c))})}var GT=t=>{let a=Rm(`theatrejs-${t}`,"default-store");return{set:(c,r)=>RT(c,r,a),get:c=>AT(c,a),del:c=>bT(c,a),keys:()=>FT(a),entries:()=>PT(a),values:()=>IT(a)}};kp();st();var gO="theatre-0.4",Z71=typeof window!="undefined"?(hO(),nO):null,D71=typeof window!="undefined"?vO():null,j71=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,W71="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",Jm=class{constructor(){R1(this,"ui");R1(this,"publicApi");R1(this,"address");R1(this,"_projectsProxy",new h7.PointerProxy(new h7.Atom({}).pointer));R1(this,"projectsP",this._projectsProxy.pointer);R1(this,"_store",new Vh);R1(this,"_corePrivateApi");R1(this,"_cache",new a8);R1(this,"paneManager");R1(this,"_coreAtom",new h7.Atom({}));R1(this,"_initializedDeferred",kt());R1(this,"_initializeFnCalled",!1);R1(this,"_didWarnAboutNotInitializing",!1);R1(this,"_coreBits");R1(this,"_rafDriver");this.address={studioId:Z7(10)},this.publicApi=new wh(this),typeof window!="undefined"&&(this.ui=new Z71.default(this)),this._attachToIncomingProjects(),this.paneManager=new Bh(this),typeof window!="undefined"&&setTimeout(()=>{this._initializeFnCalled||(console.error(j71),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(a){return n2(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(W71);let c={persistenceKey:gO,usePersistentStorage:!0};if(typeof(a==null?void 0:a.persistenceKey)=="string"&&(c.persistenceKey=a.persistenceKey),((a==null?void 0:a.usePersistentStorage)===!1||typeof window=="undefined")&&(c.usePersistentStorage=!1),a==null?void 0:a.__experimental_rafDriver){if(a.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let r=this._coreBits.privateAPI(a.__experimental_rafDriver);if(!r)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=r}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(c)}catch(r){this._initializedDeferred.reject(r);return}this._initializedDeferred.resolve(),this.ui&&(this.ui.render(),Am())})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let a=(0,h7.pointerToPrism)(this.projectsP),c=r=>{for(let e of Object.values(r))e.isAttachedToStudio||e.attachToStudio(this)};a.onStale(()=>{c(a.getValue())}),c(a.getValue())}setCoreBits(a){this._coreBits=a,this._corePrivateApi=a.privateAPI,this._coreAtom.setByPointer(c=>c.core,a.coreExports),this._setProjectsP(a.projectsP)}_setProjectsP(a){this._projectsProxy.setPointer(a)}scrub(){return new te(this)}tempTransaction(a){return this._store.tempTransaction(a)}transaction(a){return this.tempTransaction(a).commit()}__dev_startHistoryFromScratch(a){return this._store.__dev_startHistoryFromScratch(a)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(a){if(!a||typeof a!="object")throw new Error("Extensions must be JS objects");if(typeof a.id!="string")throw new Error("extension.id must be a string");this.transaction(({drafts:c})=>{var e;if(c.ephemeral.extensions.byId[a.id]){let l=c.ephemeral.extensions.byId[a.id];if(a===l||(0,sO.default)(a,l))return;throw new Error(`Extension id "${a.id}" is already defined`)}c.ephemeral.extensions.byId[a.id]=a;let r=c.ephemeral.extensions.paneClasses;(e=a.panes)==null||e.forEach(l=>{if(typeof l.class!="string")throw new Error("pane.class must be a string");if(l.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let i=r[l.class];if(i)throw new Error(`Pane class "${l.class}" already exists and is supplied by extension ${i}`);r[l.class]={extensionId:a.id,classDefinition:l}})})}getStudioProject(a){return this._cache.get("getStudioProject",()=>a.getProject("Studio"))}getExtensionSheet(a,c){return this._cache.get("extensionSheet-"+a,()=>this.getStudioProject(c).sheet("Extension "+a))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(a){return this._store.createContentOfSaveFile(a)}createAssetStorage(a,c){return n2(this,null,function*(){if(typeof window=="undefined")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:v=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:v=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let r=GT(`${a.address.projectId}-assets`),e=Cr(a),l=yield r.keys();yield Promise.all(l.map(v=>n2(this,null,function*(){e.includes(v)||(yield r.del(v))}))),yield Promise.all(l.map(v=>n2(this,null,function*(){var d,s;let g=`${c}/${v}`;try{(yield fetch(g,{method:"HEAD"})).ok&&(yield r.del(v))}catch(u){$8.error("Failed to access assets",`Failed to access assets at ${(s=(d=a.config.assets)==null?void 0:d.baseUrl)!=null?s:"/"}. This is likely due to a CORS issue.`)}})));let i=new Map(yield r.entries()),o=new Map,n=v=>{if(o.has(v))return o.get(v);{let g=URL.createObjectURL(v);return o.set(v,g),g}},h=v=>{let g=i.get(v);if(!g)throw new Error(`Asset with id ${v} not found`);return n(g)};return{getAssetUrl:v=>i.has(v)?h(v):`${c}/${v}`,createAsset:v=>n2(this,null,function*(){var s,u,p;let g=Cr(a),d=!1;if(g.includes(v.name)){let z;try{z=(s=i.get(v.name))!=null?s:yield fetch(`${c}/${v.name}`).then(m=>m.ok?m.blob():void 0)}catch(m){return $8.error("Failed to access assets",`Failed to access assets at ${(p=(u=a.config.assets)==null?void 0:u.baseUrl)!=null?p:"/"}. This is likely due to a CORS issue.`),Promise.resolve(null)}if(z){if(d=yield D71.isEqual(v,z),d)return v.name;{let m=M=>{let H=prompt(M,v.name);return H===null?!1:H===""?m("Asset name cannot be empty. Please choose a different file name for this asset."):g.includes(H)?(console.log(g),m("An asset with this name already exists. Please choose a different file name for this asset.")):(v=new File([v],H,{type:v.type}),!0)};if(!m("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return i.set(v.name,v),yield r.set(v.name,v),v.name})}})}clearPersistentStorage(a=gO){this._store.__experimental_clearPersistentStorage(a)}};var Eh="__TheatreJS_StudioBundle",dO="__TheatreJS_CoreBundle",zO="__TheatreJS_Notifications";var Oh=class{constructor(a){this._studio=a;R1(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(a){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=a;let c;a.getBitsForStudio(this._studio,r=>{c=r}),this._studio.setCoreBits(c)}};var uO=y(P());a1();var _71=V.div``,q71=t=>uO.default.createElement(_71,null),pO=q71;st();var tf=new Jm;nf(tf);var N71=tf.publicApi,U71=N71;K71();function K71(){if(typeof window=="undefined")return;let t=window[Eh];if(typeof t!="undefined")throw typeof t=="object"&&t&&typeof t.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error(`The variable window.${Eh} seems to be already set by a module other than @theatre/core.`);let a=new Oh(tf);window[Eh]=a;let c=window[dO];c&&c!==null&&c.type==="Theatre_CoreBundle"&&a.registerCoreBundle(c)}typeof window!="undefined"&&(window[zO]={notify:$8});
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=index.js.map
